webpackJsonp(["scripts"],{

/***/ "../../../../raw-loader/index.js!../../../../ace-builds/src-min/ace.js":
/***/ (function(module, exports) {

module.exports = "(function(){function o(n){var i=e;n&&(e[n]||(e[n]={}),i=e[n]);if(!i.define||!i.define.packaged)t.original=i.define,i.define=t,i.define.packaged=!0;if(!i.require||!i.require.packaged)r.original=i.require,i.require=r,i.require.packaged=!0}var ACE_NAMESPACE=\"\",e=function(){return this}();!e&&typeof window!=\"undefined\"&&(e=window);if(!ACE_NAMESPACE&&typeof requirejs!=\"undefined\")return;var t=function(e,n,r){if(typeof e!=\"string\"){t.original?t.original.apply(this,arguments):(console.error(\"dropping module because define wasn't a string.\"),console.trace());return}arguments.length==2&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)};t.modules={},t.payloads={};var n=function(e,t,n){if(typeof t==\"string\"){var i=s(e,t);if(i!=undefined)return n&&n(),i}else if(Object.prototype.toString.call(t)===\"[object Array]\"){var o=[];for(var u=0,a=t.length;u<a;++u){var f=s(e,t[u]);if(f==undefined&&r.original)return;o.push(f)}return n&&n.apply(null,o)||!0}},r=function(e,t){var i=n(\"\",e,t);return i==undefined&&r.original?r.original.apply(this,arguments):i},i=function(e,t){if(t.indexOf(\"!\")!==-1){var n=t.split(\"!\");return i(e,n[0])+\"!\"+i(e,n[1])}if(t.charAt(0)==\".\"){var r=e.split(\"/\").slice(0,-1).join(\"/\");t=r+\"/\"+t;while(t.indexOf(\".\")!==-1&&s!=t){var s=t;t=t.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return t},s=function(e,r){r=i(e,r);var s=t.modules[r];if(!s){s=t.payloads[r];if(typeof s==\"function\"){var o={},u={id:r,uri:\"\",exports:o,packaged:!0},a=function(e,t){return n(r,e,t)},f=s(a,o,u);o=f||u.exports,t.modules[r]=o,delete t.payloads[r]}s=t.modules[r]=o||s}return s};o(ACE_NAMESPACE)})(),define(\"ace/lib/regexp\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";function o(e){return(e.global?\"g\":\"\")+(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.extended?\"x\":\"\")+(e.sticky?\"y\":\"\")}function u(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=r.exec.call(/()??/,\"\")[1]===undefined,s=function(){var e=/^/g;return r.test.call(e,\"\"),!e.lastIndex}();if(s&&i)return;RegExp.prototype.exec=function(e){var t=r.exec.apply(this,arguments),n,a;if(typeof e==\"string\"&&t){!i&&t.length>1&&u(t,\"\")>-1&&(a=RegExp(this.source,r.replace.call(o(this),\"g\",\"\")),r.replace.call(e.slice(t.index),a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===undefined&&(t[e]=undefined)}));if(this._xregexp&&this._xregexp.captureNames)for(var f=1;f<t.length;f++)n=this._xregexp.captureNames[f-1],n&&(t[n]=t[f]);!s&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--}return t},s||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t})}),define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(e,t,n){function r(){}function w(e){try{return Object.defineProperty(e,\"sentinel\",{}),\"sentinel\"in e}catch(t){}}function H(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function B(e){var t=typeof e;return e===null||t===\"undefined\"||t===\"boolean\"||t===\"number\"||t===\"string\"}function j(e){var t,n,r;if(B(e))return e;n=e.valueOf;if(typeof n==\"function\"){t=n.call(e);if(B(t))return t}r=e.toString;if(typeof r==\"function\"){t=r.call(e);if(B(t))return t}throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!=\"function\")throw new TypeError(\"Function.prototype.bind called on incompatible \"+n);var i=u.call(arguments,1),s=function(){if(this instanceof s){var e=n.apply(this,i.concat(u.call(arguments)));return Object(e)===e?e:this}return n.apply(t,i.concat(u.call(arguments)))};return n.prototype&&(r.prototype=n.prototype,s.prototype=new r,r.prototype=null),s});var i=Function.prototype.call,s=Array.prototype,o=Object.prototype,u=s.slice,a=i.bind(o.toString),f=i.bind(o.hasOwnProperty),l,c,h,p,d;if(d=f(o,\"__defineGetter__\"))l=i.bind(o.__defineGetter__),c=i.bind(o.__defineSetter__),h=i.bind(o.__lookupGetter__),p=i.bind(o.__lookupSetter__);if([1,2].splice(0).length!=2)if(!function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t=[],n;t.splice.apply(t,e(20)),t.splice.apply(t,e(26)),n=t.length,t.splice(5,0,\"XXX\"),n+1==t.length;if(n+1==t.length)return!0}())Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):e==void 0?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),i=u.call(arguments,2),s=i.length;if(e===n)s&&this.push.apply(this,i);else{var o=Math.min(t,n-e),a=e+o,f=a+s-o,l=n-a,c=n-o;if(f<a)for(var h=0;h<l;++h)this[f+h]=this[a+h];else if(f>a)for(h=l;h--;)this[f+h]=this[a+h];if(s&&e===c)this.length=c,this.push.apply(this,i);else{this.length=c+s;for(h=0;h<s;++h)this[e+h]=i[h]}}return r};else{var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[e===void 0?0:e,t===void 0?this.length-e:t].concat(u.call(arguments,2))):[]}}Array.isArray||(Array.isArray=function(t){return a(t)==\"[object Array]\"});var m=Object(\"a\"),g=m[0]!=\"a\"||!(0 in m);Array.prototype.forEach||(Array.prototype.forEach=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=arguments[1],s=-1,o=r.length>>>0;if(a(t)!=\"[object Function]\")throw new TypeError;while(++s<o)s in r&&t.call(i,r[s],s,n)}),Array.prototype.map||(Array.prototype.map=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=r.length>>>0,s=Array(i),o=arguments[1];if(a(t)!=\"[object Function]\")throw new TypeError(t+\" is not a function\");for(var u=0;u<i;u++)u in r&&(s[u]=t.call(o,r[u],u,n));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=r.length>>>0,s=[],o,u=arguments[1];if(a(t)!=\"[object Function]\")throw new TypeError(t+\" is not a function\");for(var f=0;f<i;f++)f in r&&(o=r[f],t.call(u,o,f,n)&&s.push(o));return s}),Array.prototype.every||(Array.prototype.every=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=r.length>>>0,s=arguments[1];if(a(t)!=\"[object Function]\")throw new TypeError(t+\" is not a function\");for(var o=0;o<i;o++)if(o in r&&!t.call(s,r[o],o,n))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=r.length>>>0,s=arguments[1];if(a(t)!=\"[object Function]\")throw new TypeError(t+\" is not a function\");for(var o=0;o<i;o++)if(o in r&&t.call(s,r[o],o,n))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=r.length>>>0;if(a(t)!=\"[object Function]\")throw new TypeError(t+\" is not a function\");if(!i&&arguments.length==1)throw new TypeError(\"reduce of empty array with no initial value\");var s=0,o;if(arguments.length>=2)o=arguments[1];else do{if(s in r){o=r[s++];break}if(++s>=i)throw new TypeError(\"reduce of empty array with no initial value\")}while(!0);for(;s<i;s++)s in r&&(o=t.call(void 0,o,r[s],s,n));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var n=F(this),r=g&&a(this)==\"[object String]\"?this.split(\"\"):n,i=r.length>>>0;if(a(t)!=\"[object Function]\")throw new TypeError(t+\" is not a function\");if(!i&&arguments.length==1)throw new TypeError(\"reduceRight of empty array with no initial value\");var s,o=i-1;if(arguments.length>=2)s=arguments[1];else do{if(o in r){s=r[o--];break}if(--o<0)throw new TypeError(\"reduceRight of empty array with no initial value\")}while(!0);do o in this&&(s=t.call(void 0,s,r[o],o,n));while(o--);return s});if(!Array.prototype.indexOf||[0,1].indexOf(1,2)!=-1)Array.prototype.indexOf=function(t){var n=g&&a(this)==\"[object String]\"?this.split(\"\"):F(this),r=n.length>>>0;if(!r)return-1;var i=0;arguments.length>1&&(i=H(arguments[1])),i=i>=0?i:Math.max(0,r+i);for(;i<r;i++)if(i in n&&n[i]===t)return i;return-1};if(!Array.prototype.lastIndexOf||[0,1].lastIndexOf(0,-3)!=-1)Array.prototype.lastIndexOf=function(t){var n=g&&a(this)==\"[object String]\"?this.split(\"\"):F(this),r=n.length>>>0;if(!r)return-1;var i=r-1;arguments.length>1&&(i=Math.min(i,H(arguments[1]))),i=i>=0?i:r-Math.abs(i);for(;i>=0;i--)if(i in n&&t===n[i])return i;return-1};Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:o)});if(!Object.getOwnPropertyDescriptor){var y=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(t,n){if(typeof t!=\"object\"&&typeof t!=\"function\"||t===null)throw new TypeError(y+t);if(!f(t,n))return;var r,i,s;r={enumerable:!0,configurable:!0};if(d){var u=t.__proto__;t.__proto__=o;var i=h(t,n),s=p(t,n);t.__proto__=u;if(i||s)return i&&(r.get=i),s&&(r.set=s),r}return r.value=t[n],r}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)});if(!Object.create){var b;Object.prototype.__proto__===null?b=function(){return{__proto__:null}}:b=function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(t,n){var r;if(t===null)r=b();else{if(typeof t!=\"object\")throw new TypeError(\"typeof prototype[\"+typeof t+\"] != 'object'\");var i=function(){};i.prototype=t,r=new i,r.__proto__=t}return n!==void 0&&Object.defineProperties(r,n),r}}if(Object.defineProperty){var E=w({}),S=typeof document==\"undefined\"||w(document.createElement(\"div\"));if(!E||!S)var x=Object.defineProperty}if(!Object.defineProperty||x){var T=\"Property description must be an object: \",N=\"Object.defineProperty called on non-object: \",C=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(t,n,r){if(typeof t!=\"object\"&&typeof t!=\"function\"||t===null)throw new TypeError(N+t);if(typeof r!=\"object\"&&typeof r!=\"function\"||r===null)throw new TypeError(T+r);if(x)try{return x.call(Object,t,n,r)}catch(i){}if(f(r,\"value\"))if(d&&(h(t,n)||p(t,n))){var s=t.__proto__;t.__proto__=o,delete t[n],t[n]=r.value,t.__proto__=s}else t[n]=r.value;else{if(!d)throw new TypeError(C);f(r,\"get\")&&l(t,n,r.get),f(r,\"set\")&&c(t,n,r.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,n){for(var r in n)f(n,r)&&Object.defineProperty(t,r,n[r]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(k){Object.freeze=function(t){return function(n){return typeof n==\"function\"?n:t(n)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;var n=\"\";while(f(t,n))n+=\"?\";t[n]=!0;var r=f(t,n);return delete t[n],r});if(!Object.keys){var L=!0,A=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],O=A.length;for(var M in{toString:null})L=!1;Object.keys=function I(e){if(typeof e!=\"object\"&&typeof e!=\"function\"||e===null)throw new TypeError(\"Object.keys called on a non-object\");var I=[];for(var t in e)f(e,t)&&I.push(t);if(L)for(var n=0,r=O;n<r;n++){var i=A[n];f(e,i)&&I.push(i)}return I}}Date.now||(Date.now=function(){return(new Date).getTime()});var _=\"\t\\n\u000b\\f\\r \\u00a0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff\";if(!String.prototype.trim||_.trim()){_=\"[\"+_+\"]\";var D=new RegExp(\"^\"+_+_+\"*\"),P=new RegExp(_+_+\"*$\");String.prototype.trim=function(){return String(this).replace(D,\"\").replace(P,\"\")}}var F=function(e){if(e==null)throw new TypeError(\"can't convert \"+e+\" to object\");return Object(e)}}),define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/regexp\",\"ace/lib/es5-shim\"],function(e,t,n){\"use strict\";e(\"./regexp\"),e(\"./es5-shim\")}),define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=\"http://www.w3.org/1999/xhtml\";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName(\"head\")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||r,e):document.createElement(e)},t.hasCssClass=function(e,t){var n=(e.className+\"\").split(/\\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=\" \"+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\\s+/g);for(;;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join(\" \")},t.toggleCssClass=function(e,t){var n=e.className.split(/\\s+/g),r=!0;for(;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(\" \"),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n=0,r;t=t||document;if(t.createStyleSheet&&(r=t.styleSheets)){while(n<r.length)if(r[n++].owningElement.id===e)return!0}else if(r=t.getElementsByTagName(\"style\"))while(n<r.length)if(r[n++].id===e)return!0;return!1},t.importCssString=function(n,r,i){i=i||document;if(r&&t.hasCssString(r,i))return null;var s;r&&(n+=\"\\n/*# sourceURL=ace/css/\"+r+\" */\"),i.createStyleSheet?(s=i.createStyleSheet(),s.cssText=n,r&&(s.owningElement.id=r)):(s=t.createElement(\"style\"),s.appendChild(i.createTextNode(n)),r&&(s.id=r),t.getDocumentHead(i).appendChild(s))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement(\"link\");r.rel=\"stylesheet\",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,\"paddingLeft\"),10)+parseInt(t.computedStyle(e,\"paddingRight\"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,\"paddingTop\"),10)+parseInt(t.computedStyle(e,\"paddingBottom\"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement(\"ace_inner\");n.style.width=\"100%\",n.style.minWidth=\"0px\",n.style.height=\"200px\",n.style.display=\"block\";var r=t.createElement(\"ace_outer\"),i=r.style;i.position=\"absolute\",i.left=\"-10000px\",i.overflow=\"hidden\",i.width=\"200px\",i.minWidth=\"0px\",i.height=\"150px\",i.display=\"block\",r.appendChild(n);var s=e.documentElement;s.appendChild(r);var o=n.offsetWidth;i.overflow=\"scroll\";var u=n.offsetWidth;return o==u&&(u=r.clientWidth),s.removeChild(r),o-u};if(typeof document==\"undefined\"){t.importCssString=function(){};return}window.pageYOffset!==undefined?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,\"\")||{})[t]||\"\":window.getComputedStyle(e,\"\")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},\"textContent\"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}),define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\"],function(e,t,n){\"use strict\";e(\"./fixoldbrowsers\");var r=e(\"./oop\"),i=function(){var e={MODIFIER_KEYS:{16:\"Shift\",17:\"Ctrl\",18:\"Alt\",224:\"Meta\"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,\"super\":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:\"Backspace\",9:\"Tab\",13:\"Return\",19:\"Pause\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"Print\",45:\"Insert\",46:\"Delete\",96:\"Numpad0\",97:\"Numpad1\",98:\"Numpad2\",99:\"Numpad3\",100:\"Numpad4\",101:\"Numpad5\",102:\"Numpad6\",103:\"Numpad7\",104:\"Numpad8\",105:\"Numpad9\",\"-13\":\"NumpadEnter\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"Numlock\",145:\"Scrolllock\"},PRINTABLE_KEYS:{32:\" \",48:\"0\",49:\"1\",50:\"2\",51:\"3\",52:\"4\",53:\"5\",54:\"6\",55:\"7\",56:\"8\",57:\"9\",59:\";\",61:\"=\",65:\"a\",66:\"b\",67:\"c\",68:\"d\",69:\"e\",70:\"f\",71:\"g\",72:\"h\",73:\"i\",74:\"j\",75:\"k\",76:\"l\",77:\"m\",78:\"n\",79:\"o\",80:\"p\",81:\"q\",82:\"r\",83:\"s\",84:\"t\",85:\"u\",86:\"v\",87:\"w\",88:\"x\",89:\"y\",90:\"z\",107:\"+\",109:\"-\",110:\".\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",111:\"/\",106:\"*\"}},t,n;for(n in e.FUNCTION_KEYS)t=e.FUNCTION_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);for(n in e.PRINTABLE_KEYS)t=e.PRINTABLE_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);return r.mixin(e,e.MODIFIER_KEYS),r.mixin(e,e.PRINTABLE_KEYS),r.mixin(e,e.FUNCTION_KEYS),e.enter=e[\"return\"],e.escape=e.esc,e.del=e[\"delete\"],e[173]=\"-\",function(){var t=[\"cmd\",\"ctrl\",\"alt\",\"shift\"];for(var n=Math.pow(2,t.length);n--;)e.KEY_MODS[n]=t.filter(function(t){return n&e.KEY_MODS[t]}).join(\"-\")+\"-\"}(),e.KEY_MODS[0]=\"\",e.KEY_MODS[-1]=\"input-\",e}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return typeof t!=\"string\"&&(t=String.fromCharCode(e)),t.toLowerCase()}}),define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";t.OS={LINUX:\"LINUX\",MAC:\"MAC\",WINDOWS:\"WINDOWS\"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};if(typeof navigator!=\"object\")return;var r=(navigator.platform.match(/mac|win|linux/i)||[\"other\"])[0].toLowerCase(),i=navigator.userAgent;t.isWin=r==\"win\",t.isMac=r==\"mac\",t.isLinux=r==\"linux\",t.isIE=navigator.appName==\"Microsoft Internet Explorer\"||navigator.appName.indexOf(\"MSAppHost\")>=0?parseFloat((i.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&window.navigator.product===\"Gecko\",t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&Object.prototype.toString.call(window.opera)==\"[object Opera]\",t.isWebKit=parseFloat(i.split(\"WebKit/\")[1])||undefined,t.isChrome=parseFloat(i.split(\" Chrome/\")[1])||undefined,t.isAIR=i.indexOf(\"AdobeAIR\")>=0,t.isIPad=i.indexOf(\"iPad\")>=0,t.isChromeOS=i.indexOf(\" CrOS \")>=0,t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,t.isIOS&&(t.isMac=!0)}),define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function a(e,t,n){var a=u(t);if(!i.isMac&&s){t.getModifierState&&(t.getModifierState(\"OS\")||t.getModifierState(\"Win\"))&&(a|=8);if(s.altGr){if((3&a)==3)return;s.altGr=0}if(n===18||n===17){var f=\"location\"in t?t.location:t.keyLocation;if(n===17&&f===1)s[n]==1&&(o=t.timeStamp);else if(n===18&&a===3&&f===2){var l=t.timeStamp-o;l<50&&(s.altGr=!0)}}}n in r.MODIFIER_KEYS&&(n=-1),a&8&&n>=91&&n<=93&&(n=-1);if(!a&&n===13){var f=\"location\"in t?t.location:t.keyLocation;if(f===3){e(t,a,-n);if(t.defaultPrevented)return}}if(i.isChromeOS&&a&8){e(t,a,n);if(t.defaultPrevented)return;a&=-9}return!!a||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS?e(t,a,n):!1}function f(){s=Object.create(null)}var r=e(\"./keys\"),i=e(\"./useragent\"),s=null,o=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent(\"on\"+t,r)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent(\"on\"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return e.type==\"dblclick\"?0:e.type==\"contextmenu\"||i.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,\"mousemove\",n,!0),t.removeListener(document,\"mouseup\",i,!0),t.removeListener(document,\"dragstart\",i,!0)}return t.addListener(document,\"mousemove\",n,!0),t.addListener(document,\"mouseup\",i,!0),t.addListener(document,\"dragstart\",i,!0),i},t.addTouchMoveListener=function(e,n){if(\"ontouchmove\"in e){var r,i;t.addListener(e,\"touchstart\",function(e){var t=e.changedTouches[0];r=t.clientX,i=t.clientY}),t.addListener(e,\"touchmove\",function(e){var t=1,s=e.changedTouches[0];e.wheelX=-(s.clientX-r)/t,e.wheelY=-(s.clientY-i)/t,r=s.clientX,i=s.clientY,n(e)})}},t.addMouseWheelListener=function(e,n){\"onmousewheel\"in e?t.addListener(e,\"mousewheel\",function(e){var t=8;e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):\"onwheel\"in e?t.addListener(e,\"wheel\",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=(e.deltaX||0)*5,e.wheelY=(e.deltaY||0)*5}n(e)}):t.addListener(e,\"DOMMouseScroll\",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=(e.detail||0)*5,e.wheelY=0):(e.wheelX=0,e.wheelY=(e.detail||0)*5),n(e)})},t.addMultiMouseDownListener=function(e,n,r,s){function c(e){t.getButton(e)!==0?o=0:e.detail>1?(o++,o>4&&(o=1)):o=1;if(i.isIE){var c=Math.abs(e.clientX-u)>5||Math.abs(e.clientY-a)>5;if(!f||c)o=1;f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),o==1&&(u=e.clientX,a=e.clientY)}e._clicks=o,r[s](\"mousedown\",e);if(o>4)o=0;else if(o>1)return r[s](l[o],e)}function h(e){o=2,f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),r[s](\"mousedown\",e),r[s](l[o],e)}var o=0,u,a,f,l={2:\"dblclick\",3:\"tripleclick\",4:\"quadclick\"};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,\"mousedown\",c),i.isOldIE&&t.addListener(e,\"dblclick\",h)})};var u=!i.isMac||!i.isOpera||\"KeyboardEvent\"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return r.KEY_MODS[u(e)]},t.addCommandKeyListener=function(e,n){var r=t.addListener;if(i.isOldGecko||i.isOpera&&!(\"KeyboardEvent\"in window)){var o=null;r(e,\"keydown\",function(e){o=e.keyCode}),r(e,\"keypress\",function(e){return a(n,e,o)})}else{var u=null;r(e,\"keydown\",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=a(n,e,e.keyCode);return u=e.defaultPrevented,t}),r(e,\"keypress\",function(e){u&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),u=null)}),r(e,\"keyup\",function(e){s[e.keyCode]=null}),s||(f(),r(window,\"focus\",f))}};if(typeof window==\"object\"&&window.postMessage&&!i.isOldIE){var l=1;t.nextTick=function(e,n){n=n||window;var r=\"zero-timeout-message-\"+l;t.addListener(n,\"message\",function i(s){s.data==r&&(t.stopPropagation(s),t.removeListener(n,\"message\",i),e())}),n.postMessage(r,\"*\")}}t.nextFrame=typeof window==\"object\"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split(\"\").reverse().join(\"\")},t.stringRepeat=function(e,t){var n=\"\";while(t>0){t&1&&(n+=e);if(t>>=1)e+=e}return n};var r=/^\\s\\s*/,i=/\\s\\s*$/;t.stringTrimLeft=function(e){return e.replace(r,\"\")},t.stringTrimRight=function(e){return e.replace(i,\"\")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&typeof e[n]==\"object\"?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function s(e){if(typeof e!=\"object\"||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=s(e[n]);return t}if(Object.prototype.toString.call(e)!==\"[object Object]\")return e;t={};for(var n in e)t[n]=s(e[n]);return t},t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},t.escapeHTML=function(e){return e.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){n==null&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),define(\"ace/keyboard/textinput_ios\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/keys\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../lib/useragent\"),s=e(\"../lib/dom\"),o=e(\"../lib/lang\"),u=e(\"../lib/keys\"),a=u.KEY_MODS,f=i.isChrome<18,l=i.isIE,c=function(e,t){function x(e){if(m)return;m=!0;if(k)t=0,n=e?0:c.value.length-1;else var t=4,n=5;try{c.setSelectionRange(t,n)}catch(r){}m=!1}function T(){if(m)return;c.value=h,i.isWebKit&&S.schedule()}function R(){clearTimeout(q),q=setTimeout(function(){g&&(c.style.cssText=g,g=\"\"),t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var n=this,c=s.createElement(\"textarea\");c.className=i.isIOS?\"ace_text-input ace_text-input-ios\":\"ace_text-input\",i.isTouchPad&&c.setAttribute(\"x-palm-disable-auto-cap\",!0),c.setAttribute(\"wrap\",\"off\"),c.setAttribute(\"autocorrect\",\"off\"),c.setAttribute(\"autocapitalize\",\"off\"),c.setAttribute(\"spellcheck\",!1),c.style.opacity=\"0\",e.insertBefore(c,e.firstChild);var h=\"\\n aaaa a\\n\",p=!1,d=!1,v=!1,m=!1,g=\"\",y=!0;try{var b=document.activeElement===c}catch(w){}r.addListener(c,\"blur\",function(e){t.onBlur(e),b=!1}),r.addListener(c,\"focus\",function(e){b=!0,t.onFocus(e),x()}),this.focus=function(){if(g)return c.focus();c.style.position=\"fixed\",c.focus()},this.blur=function(){c.blur()},this.isFocused=function(){return b};var E=o.delayedCall(function(){b&&x(y)}),S=o.delayedCall(function(){m||(c.value=h,b&&x())});i.isWebKit||t.addEventListener(\"changeSelection\",function(){t.selection.isEmpty()!=y&&(y=!y,E.schedule())}),T(),b&&t.onFocus();var N=function(e){return e.selectionStart===0&&e.selectionEnd===e.value.length},C=function(e){N(c)?(t.selectAll(),x()):k&&x(t.selection.isEmpty())},k=null;this.setInputHandler=function(e){k=e},this.getInputHandler=function(){return k};var L=!1,A=function(e){if(c.selectionStart===4&&c.selectionEnd===5)return;k&&(e=k(e),k=null),v?(x(),e&&t.onPaste(e),v=!1):e==h.substr(0)&&c.selectionStart===4?L?t.execCommand(\"del\",{source:\"ace\"}):t.execCommand(\"backspace\",{source:\"ace\"}):p||(e.substring(0,9)==h&&e.length>h.length?e=e.substr(9):e.substr(0,4)==h.substr(0,4)?e=e.substr(4,e.length-h.length+1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e!=h.charAt(0)&&e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),p&&(p=!1),L&&(L=!1)},O=function(e){if(m)return;var t=c.value;A(t),T()},M=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(!r||f)return;var i=l||n?\"Text\":\"text/plain\";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return M(e,t,!0)}},_=function(e,n){var s=t.getCopyText();if(!s)return r.preventDefault(e);M(e,s)?(i.isIOS&&(d=n,c.value=\"\\n aa\"+s+\"a a\\n\",c.setSelectionRange(4,4+s.length),p={value:s}),n?t.onCut():t.onCopy(),i.isIOS||r.preventDefault(e)):(p=!0,c.value=s,c.select(),setTimeout(function(){p=!1,T(),x(),n?t.onCut():t.onCopy()}))},D=function(e){_(e,!0)},P=function(e){_(e,!1)},H=function(e){var n=M(e);typeof n==\"string\"?(n&&t.onPaste(n,e),i.isIE&&setTimeout(x),r.preventDefault(e)):(c.value=\"\",v=!0)};r.addCommandKeyListener(c,t.onCommandKey.bind(t)),r.addListener(c,\"select\",C),r.addListener(c,\"input\",O),r.addListener(c,\"cut\",D),r.addListener(c,\"copy\",P),r.addListener(c,\"paste\",H);var B=function(e){if(m||!t.onCompositionStart||t.$readOnly)return;m={},m.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(j,0),t.on(\"mousedown\",F),m.canUndo&&!t.selection.isEmpty()&&(t.insert(\"\"),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup()},j=function(){if(!m||!t.onCompositionUpdate||t.$readOnly)return;var e=c.value.replace(/\\x01/g,\"\");if(m.lastValue===e)return;t.onCompositionUpdate(e),m.lastValue&&t.undo(),m.canUndo&&(m.lastValue=e);if(m.lastValue){var n=t.selection.getRange();t.insert(m.lastValue),t.session.markUndoGroup(),m.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}},F=function(e){if(!t.onCompositionEnd||t.$readOnly)return;var n=m;m=!1;var r=setTimeout(function(){r=null;var e=c.value.replace(/\\x01/g,\"\");if(m)return;e==n.lastValue?T():!n.lastValue&&e&&(T(),A(e))});k=function(i){return r&&clearTimeout(r),i=i.replace(/\\x01/g,\"\"),i==n.lastValue?\"\":(n.lastValue&&r&&t.undo(),i)},t.onCompositionEnd(),t.removeListener(\"mousedown\",F),e.type==\"compositionend\"&&n.range&&t.selection.setRange(n.range);var s=!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603;s&&O()},I=o.delayedCall(j,50);r.addListener(c,\"compositionstart\",B),i.isGecko?r.addListener(c,\"text\",function(){I.schedule()}):(r.addListener(c,\"keyup\",function(){I.schedule()}),r.addListener(c,\"keydown\",function(){I.schedule()})),r.addListener(c,\"compositionend\",F),this.getElement=function(){return c},this.setReadOnly=function(e){c.readOnly=e},this.onContextMenu=function(e){L=!0,x(t.selection.isEmpty()),t._emit(\"nativecontextmenu\",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){g||(g=c.style.cssText),c.style.cssText=(n?\"z-index:100000;\":\"\")+\"height:\"+c.style.height+\";\"+(i.isIE?\"opacity:0.1;\":\"\");var o=t.container.getBoundingClientRect(),u=s.computedStyle(t.container),a=o.top+(parseInt(u.borderTopWidth)||0),f=o.left+(parseInt(o.borderLeftWidth)||0),l=o.bottom-a-c.clientHeight-2,h=function(e){c.style.left=e.clientX-f-2+\"px\",c.style.top=Math.min(e.clientY-a-2,l)+\"px\"};h(e);if(e.type!=\"mousedown\")return;t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(q),i.isWin&&r.capture(t.container,h,R)},this.onContextMenuClose=R;var q,U=function(e){t.textInput.onContextMenu(e),R()};r.addListener(c,\"mouseup\",U),r.addListener(c,\"mousedown\",function(e){e.preventDefault(),R()}),r.addListener(t.renderer.scroller,\"contextmenu\",U),r.addListener(c,\"contextmenu\",U);if(i.isIOS){var z=null,W=!1;e.addEventListener(\"keydown\",function(e){z&&clearTimeout(z),W=!0}),e.addEventListener(\"keyup\",function(e){z=setTimeout(function(){W=!1},100)});var X=function(e){if(document.activeElement!==c)return;if(W)return;if(d)return setTimeout(function(){d=!1},100);var n=c.selectionStart,r=c.selectionEnd;c.setSelectionRange(4,5);if(n==r)switch(n){case 0:t.onCommandKey(null,0,u.up);break;case 1:t.onCommandKey(null,0,u.home);break;case 2:t.onCommandKey(null,a.option,u.left);break;case 4:t.onCommandKey(null,0,u.left);break;case 5:t.onCommandKey(null,0,u.right);break;case 7:t.onCommandKey(null,a.option,u.right);break;case 8:t.onCommandKey(null,0,u.end);break;case 9:t.onCommandKey(null,0,u.down)}else{switch(r){case 6:t.onCommandKey(null,a.shift,u.right);break;case 7:t.onCommandKey(null,a.shift|a.option,u.right);break;case 8:t.onCommandKey(null,a.shift,u.end);break;case 9:t.onCommandKey(null,a.shift,u.down)}switch(n){case 0:t.onCommandKey(null,a.shift,u.up);break;case 1:t.onCommandKey(null,a.shift,u.home);break;case 2:t.onCommandKey(null,a.shift|a.option,u.left);break;case 3:t.onCommandKey(null,a.shift,u.left)}}};document.addEventListener(\"selectionchange\",X),t.on(\"destroy\",function(){document.removeEventListener(\"selectionchange\",X)})}};t.TextInput=c}),define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/keyboard/textinput_ios\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../lib/useragent\"),s=e(\"../lib/dom\"),o=e(\"../lib/lang\"),u=i.isChrome<18,a=i.isIE,f=e(\"./textinput_ios\").TextInput,l=function(e,t){function w(e){if(p)return;p=!0;if(T)t=0,r=e?0:n.value.length-1;else var t=e?2:1,r=2;try{n.setSelectionRange(t,r)}catch(i){}p=!1}function E(){if(p)return;n.value=l,i.isWebKit&&b.schedule()}function F(){clearTimeout(j),j=setTimeout(function(){d&&(n.style.cssText=d,d=\"\"),t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}if(i.isIOS)return f.call(this,e,t);var n=s.createElement(\"textarea\");n.className=\"ace_text-input\",n.setAttribute(\"wrap\",\"off\"),n.setAttribute(\"autocorrect\",\"off\"),n.setAttribute(\"autocapitalize\",\"off\"),n.setAttribute(\"spellcheck\",!1),n.style.opacity=\"0\",e.insertBefore(n,e.firstChild);var l=\"\\u2028\\u2028\",c=!1,h=!1,p=!1,d=\"\",v=!0;try{var m=document.activeElement===n}catch(g){}r.addListener(n,\"blur\",function(e){t.onBlur(e),m=!1}),r.addListener(n,\"focus\",function(e){m=!0,t.onFocus(e),w()}),this.focus=function(){if(d)return n.focus();var e=n.style.top;n.style.position=\"fixed\",n.style.top=\"0px\",n.focus(),setTimeout(function(){n.style.position=\"\",n.style.top==\"0px\"&&(n.style.top=e)},0)},this.blur=function(){n.blur()},this.isFocused=function(){return m};var y=o.delayedCall(function(){m&&w(v)}),b=o.delayedCall(function(){p||(n.value=l,m&&w())});i.isWebKit||t.addEventListener(\"changeSelection\",function(){t.selection.isEmpty()!=v&&(v=!v,y.schedule())}),E(),m&&t.onFocus();var S=function(e){return e.selectionStart===0&&e.selectionEnd===e.value.length},x=function(e){c?c=!1:S(n)?(t.selectAll(),w()):T&&w(t.selection.isEmpty())},T=null;this.setInputHandler=function(e){T=e},this.getInputHandler=function(){return T};var N=!1,C=function(e){T&&(e=T(e),T=null),h?(w(),e&&t.onPaste(e),h=!1):e==l.charAt(0)?N?t.execCommand(\"del\",{source:\"ace\"}):t.execCommand(\"backspace\",{source:\"ace\"}):(e.substring(0,2)==l?e=e.substr(2):e.charAt(0)==l.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==l.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==l.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),N&&(N=!1)},k=function(e){if(p)return;var t=n.value;C(t),E()},L=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(!r||u)return;var i=a||n?\"Text\":\"text/plain\";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return L(e,t,!0)}},A=function(e,i){var s=t.getCopyText();if(!s)return r.preventDefault(e);L(e,s)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(c=!0,n.value=s,n.select(),setTimeout(function(){c=!1,E(),w(),i?t.onCut():t.onCopy()}))},O=function(e){A(e,!0)},M=function(e){A(e,!1)},_=function(e){var s=L(e);typeof s==\"string\"?(s&&t.onPaste(s,e),i.isIE&&setTimeout(w),r.preventDefault(e)):(n.value=\"\",h=!0)};r.addCommandKeyListener(n,t.onCommandKey.bind(t)),r.addListener(n,\"select\",x),r.addListener(n,\"input\",k),r.addListener(n,\"cut\",O),r.addListener(n,\"copy\",M),r.addListener(n,\"paste\",_),(!(\"oncut\"in n)||!(\"oncopy\"in n)||!(\"onpaste\"in n))&&r.addListener(e,\"keydown\",function(e){if(i.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:M(e);break;case 86:_(e);break;case 88:O(e)}});var D=function(e){if(p||!t.onCompositionStart||t.$readOnly)return;p={},p.canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(P,0),t.on(\"mousedown\",H),p.canUndo&&!t.selection.isEmpty()&&(t.insert(\"\"),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup()},P=function(){if(!p||!t.onCompositionUpdate||t.$readOnly)return;var e=n.value.replace(/\\u2028/g,\"\");if(p.lastValue===e)return;t.onCompositionUpdate(e),p.lastValue&&t.undo(),p.canUndo&&(p.lastValue=e);if(p.lastValue){var r=t.selection.getRange();t.insert(p.lastValue),t.session.markUndoGroup(),p.range=t.selection.getRange(),t.selection.setRange(r),t.selection.clearSelection()}},H=function(e){if(!t.onCompositionEnd||t.$readOnly)return;var r=p;p=!1;var s=setTimeout(function(){s=null;var e=n.value.replace(/\\u2028/g,\"\");if(p)return;e==r.lastValue?E():!r.lastValue&&e&&(E(),C(e))});T=function(n){return s&&clearTimeout(s),n=n.replace(/\\u2028/g,\"\"),n==r.lastValue?\"\":(r.lastValue&&s&&t.undo(),n)},t.onCompositionEnd(),t.removeListener(\"mousedown\",H),e.type==\"compositionend\"&&r.range&&t.selection.setRange(r.range);var o=!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603;o&&k()},B=o.delayedCall(P,50);r.addListener(n,\"compositionstart\",D),i.isGecko?r.addListener(n,\"text\",function(){B.schedule()}):(r.addListener(n,\"keyup\",function(){B.schedule()}),r.addListener(n,\"keydown\",function(){B.schedule()})),r.addListener(n,\"compositionend\",H),this.getElement=function(){return n},this.setReadOnly=function(e){n.readOnly=e},this.onContextMenu=function(e){N=!0,w(t.selection.isEmpty()),t._emit(\"nativecontextmenu\",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){d||(d=n.style.cssText),n.style.cssText=(o?\"z-index:100000;\":\"\")+\"height:\"+n.style.height+\";\"+(i.isIE?\"opacity:0.1;\":\"\");var u=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),f=u.top+(parseInt(a.borderTopWidth)||0),l=u.left+(parseInt(u.borderLeftWidth)||0),c=u.bottom-f-n.clientHeight-2,h=function(e){n.style.left=e.clientX-l-2+\"px\",n.style.top=Math.min(e.clientY-f-2,c)+\"px\"};h(e);if(e.type!=\"mousedown\")return;t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(j),i.isWin&&r.capture(t.container,h,F)},this.onContextMenuClose=F;var j,I=function(e){t.textInput.onContextMenu(e),F()};r.addListener(n,\"mouseup\",I),r.addListener(n,\"mousedown\",function(e){e.preventDefault(),F()}),r.addListener(t.renderer.scroller,\"contextmenu\",I),r.addListener(n,\"contextmenu\",I)};t.TextInput=l}),define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function u(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler(\"mousedown\",this.onMouseDown.bind(e)),t.setDefaultHandler(\"dblclick\",this.onDoubleClick.bind(e)),t.setDefaultHandler(\"tripleclick\",this.onTripleClick.bind(e)),t.setDefaultHandler(\"quadclick\",this.onQuadClick.bind(e)),t.setDefaultHandler(\"mousewheel\",this.onMouseWheel.bind(e)),t.setDefaultHandler(\"touchmove\",this.onTouchMove.bind(e));var n=[\"select\",\"startSelect\",\"selectEnd\",\"selectAllEnd\",\"selectByWordsEnd\",\"selectByLinesEnd\",\"dragWait\",\"dragWaitEnd\",\"focusWait\"];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,\"getLineRange\"),e.selectByWords=this.extendSelectionBy.bind(e,\"getWordRange\")}function a(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function f(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=t.column-4;else var n=2*t.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e(\"../lib/dom\"),i=e(\"../lib/event\"),s=e(\"../lib/useragent\"),o=0;(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,i=e.getButton();if(i!==0){var o=r.getSelectionRange(),u=o.isEmpty();r.$blockScrolling++,(u||i==1)&&r.selection.moveToPosition(n),r.$blockScrolling--,i==2&&(r.textInput.onContextMenu(e.domEvent),s.isMozilla||e.preventDefault());return}this.mousedownEvent.time=Date.now();if(t&&!r.isFocused()){r.focus();if(this.$focusTimout&&!this.$clickSelection&&!r.inMultiSelectMode){this.setState(\"focusWait\"),this.captureMouse(e);return}}return this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle(\"ace_selecting\"),this.setState(\"select\"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);t.$blockScrolling++;if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(r==1)e=this.$clickSelection.start;else{var i=f(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);n.$blockScrolling++;if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end);if(s==-1&&o<=0){t=this.$clickSelection.end;if(i.end.row!=r.row||i.end.column!=r.column)r=i.start}else if(o==1&&s>=0){t=this.$clickSelection.start;if(i.start.row!=r.row||i.start.column!=r.column)r=i.end}else if(s==-1&&o==1)r=i.end,t=i.start;else{var u=f(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle(\"ace_selecting\"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>o||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState(\"select\")):(i=n.selection.getWordRange(t.row,t.column),this.setState(\"selectByWords\")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState(\"selectByLines\");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState(\"selectAll\")},this.onMouseWheel=function(e){if(e.getAccelKey())return;e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(i||n<200)return this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),r=this.editor,i=r.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);if(i||n<200)return this.$lastScrollTime=t,r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(u.prototype),t.DefaultHandlers=u}),define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var r=e(\"./lib/oop\"),i=e(\"./lib/dom\");(function(){this.$init=function(){return this.$element=i.createElement(\"div\"),this.$element.className=\"ace_tooltip\",this.$element.style.display=\"none\",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+\"px\",this.getElement().style.top=t+\"px\"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){e!=null&&this.setText(e),t!=null&&n!=null&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display=\"block\",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display=\"none\",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(s.prototype),t.Tooltip=s}),define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"],function(e,t,n){\"use strict\";function u(e){function l(){var r=u.getDocumentPosition().row,s=n.$annotations[r];if(!s)return c();var o=t.session.getLength();if(r==o){var a=t.renderer.pixelToScreenCoordinates(0,u.y).row,l=u.$pos;if(a>t.session.documentToScreenRow(l.row,l.column))return c()}if(f==s)return;f=s.text.join(\"<br/>\"),i.setHtml(f),i.show(),t._signal(\"showGutterTooltip\",i),t.on(\"mousewheel\",c);if(e.$tooltipFollowsMouse)h(u);else{var p=u.domEvent.target,d=p.getBoundingClientRect(),v=i.getElement().style;v.left=d.right+\"px\",v.top=d.bottom+\"px\"}}function c(){o&&(o=clearTimeout(o)),f&&(i.hide(),f=null,t._signal(\"hideGutterTooltip\",i),t.removeEventListener(\"mousewheel\",c))}function h(e){i.setPosition(e.x,e.y)}var t=e.editor,n=t.renderer.$gutterLayer,i=new a(t.container);e.editor.setDefaultHandler(\"guttermousedown\",function(r){if(!t.isFocused()||r.getButton()!=0)return;var i=n.getRegion(r);if(i==\"foldWidgets\")return;var s=r.getDocumentPosition().row,o=t.session.selection;if(r.getShiftKey())o.selectTo(s,0);else{if(r.domEvent.detail==2)return t.selectAll(),r.preventDefault();e.$clickSelection=t.selection.getLineRange(s)}return e.setState(\"selectByLines\"),e.captureMouse(r),r.preventDefault()});var o,u,f;e.editor.setDefaultHandler(\"guttermousemove\",function(t){var n=t.domEvent.target||t.domEvent.srcElement;if(r.hasCssClass(n,\"ace_fold-widget\"))return c();f&&e.$tooltipFollowsMouse&&h(t),u=t;if(o)return;o=setTimeout(function(){o=null,u&&!e.isMousePressed?l():c()},50)}),s.addListener(t.renderer.$gutter,\"mouseout\",function(e){u=null;if(!f||o)return;o=setTimeout(function(){o=null,c()},50)}),t.on(\"changeSession\",c)}function a(e){o.call(this,e)}var r=e(\"../lib/dom\"),i=e(\"../lib/oop\"),s=e(\"../lib/event\"),o=e(\"../tooltip\").Tooltip;i.inherits(a,o),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),s=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+s>r&&(t-=20+s),o.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=u}),define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../lib/useragent\"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function f(e){function T(e,n){var r=Date.now(),i=!n||e.row!=n.row,s=!n||e.column!=n.column;if(!S||i||s)t.$blockScrolling+=1,t.moveCursorToPosition(e),t.$blockScrolling-=1,S=r,x={x:p,y:d};else{var o=l(x.x,x.y,p,d);o>a?S=null:r-S>=u&&(t.renderer.scrollCursorIntoView(),S=null)}}function N(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.characterWidth,u=t.renderer.scroller.getBoundingClientRect(),a={x:{left:p-u.left,right:u.right-p},y:{top:d-u.top,bottom:u.bottom-d}},f=Math.min(a.x.left,a.x.right),l=Math.min(a.y.top,a.y.bottom),c={row:e.row,column:e.column};f/s<=2&&(c.column+=a.x.left<a.x.right?-3:2),l/i<=1&&(c.row+=a.y.top<a.y.bottom?-1:1);var h=e.row!=c.row,v=e.column!=c.column,m=!n||e.row!=n.row;h||v&&!m?E?r-E>=o&&t.renderer.scrollCursorIntoView(c):E=r:E=null}function C(){var e=g;g=t.renderer.screenToTextCoordinates(p,d),T(g,e),N(g,e)}function k(){m=t.selection.toOrientedRange(),h=t.session.addMarker(m,\"ace_selection\",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(v),C(),v=setInterval(C,20),y=0,i.addListener(document,\"mousemove\",O)}function L(){clearInterval(v),t.session.removeMarker(h),h=null,t.$blockScrolling+=1,t.selection.fromOrientedRange(m),t.$blockScrolling-=1,t.isFocused()&&!w&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()),m=null,g=null,y=0,E=null,S=null,i.removeListener(document,\"mousemove\",O)}function O(){A==null&&(A=setTimeout(function(){A!=null&&h&&L()},20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return e==\"text/plain\"||e==\"Text\"})}function _(e){var t=[\"copy\",\"copymove\",\"all\",\"uninitialized\"],n=[\"move\",\"copymove\",\"linkmove\",\"all\",\"uninitialized\"],r=s.isMac?e.altKey:e.ctrlKey,i=\"uninitialized\";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o=\"none\";return r&&t.indexOf(i)>=0?o=\"copy\":n.indexOf(i)>=0?o=\"move\":t.indexOf(i)>=0&&(o=\"copy\"),o}var t=e.editor,n=r.createElement(\"img\");n.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",s.isOpera&&(n.style.cssText=\"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\");var f=[\"dragWait\",\"dragWaitEnd\",\"startDrag\",\"dragReadyEnd\",\"onMouseDrag\"];f.forEach(function(t){e[t]=this[t]},this),t.addEventListener(\"mousedown\",this.onMouseDown.bind(e));var c=t.container,h,p,d,v,m,g,y=0,b,w,E,S,x;this.onDragStart=function(e){if(this.cancelDrag||!c.draggable){var r=this;return setTimeout(function(){r.startSelect(),r.captureMouse(e)},0),e.preventDefault()}m=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?\"copy\":\"copyMove\",s.isOpera&&(t.container.appendChild(n),n.scrollTop=0),i.setDragImage&&i.setDragImage(n,0,0),s.isOpera&&t.container.removeChild(n),i.clearData(),i.setData(\"Text\",t.session.getTextRange()),w=!0,this.setState(\"drag\")},this.onDragEnd=function(e){c.draggable=!1,w=!1,this.setState(null);if(!t.getReadOnly()){var n=e.dataTransfer.dropEffect;!b&&n==\"move\"&&t.session.remove(t.getSelectionRange()),t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle(\"ace_dragging\"),this.editor.renderer.setCursorStyle(\"\")},this.onDragEnter=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||k(),y++,e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragOver=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||(k(),y++),A!==null&&(A=null),e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragLeave=function(e){y--;if(y<=0&&h)return L(),b=null,i.preventDefault(e)},this.onDrop=function(e){if(!g)return;var n=e.dataTransfer;if(w)switch(b){case\"move\":m.contains(g.row,g.column)?m={start:g,end:g}:m=t.moveText(m,g);break;case\"copy\":m=t.moveText(m,g,!0)}else{var r=n.getData(\"Text\");m={start:g,end:t.session.insert(g,r)},t.focus(),b=null}return L(),i.preventDefault(e)},i.addListener(c,\"dragstart\",this.onDragStart.bind(e)),i.addListener(c,\"dragend\",this.onDragEnd.bind(e)),i.addListener(c,\"dragenter\",this.onDragEnter.bind(e)),i.addListener(c,\"dragover\",this.onDragOver.bind(e)),i.addListener(c,\"dragleave\",this.onDragLeave.bind(e)),i.addListener(c,\"drop\",this.onDrop.bind(e));var A=null}function l(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var r=e(\"../lib/dom\"),i=e(\"../lib/event\"),s=e(\"../lib/useragent\"),o=200,u=200,a=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle(\"ace_dragging\"),this.editor.renderer.setCursorStyle(\"\"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle(\"ace_dragging\");var n=s.isWin?\"default\":\"move\";e.renderer.setCursorStyle(n),this.setState(\"dragReady\")},this.onMouseDrag=function(e){var t=this.editor.container;if(s.isIE&&this.state==\"dragReady\"){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if(this.state===\"dragWait\"){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(i===1&&r===0&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;\"unselectable\"in o&&(o.unselectable=\"on\");if(t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var u=t.container;u.draggable=!0}this.setState(\"dragWait\")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}).call(f.prototype),t.DragdropHandler=f}),define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"./dom\");t.get=function(e,t){var n=new XMLHttpRequest;n.open(\"GET\",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement(\"script\");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){if(n||!i.readyState||i.readyState==\"loaded\"||i.readyState==\"complete\")i=i.onload=i.onreadystatechange=null,n||t()}},t.qualifyURL=function(e){var t=document.createElement(\"a\");return t.href=e,t.href}}),define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r={},i=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(!n.length&&!r)return;if(typeof t!=\"object\"||!t)t={};t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length;o++){n[o](t,this);if(t.propagationStopped)break}if(r&&!t.defaultPrevented)return r(t,this)},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(!n)return;n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)},r.once=function(e,t){var n=this;t&&this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;n||(n=this._defaultHandlers={_disabled_:{}});if(n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var s=i.indexOf(t);s!=-1&&i.splice(s,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)return;var r=n._disabled_[e];if(n[e]==t){var i=n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var s=r.indexOf(t);s!=-1&&r.splice(s,1)}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?\"unshift\":\"push\"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var r=n.indexOf(t);r!==-1&&n.splice(r,1)},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(e,t,n){\"no use strict\";function o(e){typeof console!=\"undefined\"&&console.warn&&console.warn.apply(console,arguments)}function u(e,t){var n=new Error(e);n.data=t,typeof console==\"object\"&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e(\"./oop\"),i=e(\"./event_emitter\").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this[\"$\"+e]===t)return;var n=this.$options[e];if(!n)return o('misspelled option \"'+e+'\"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this[\"$\"+e]=t),n&&n.set&&n.set.call(this,t)},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this[\"$\"+e]:o('misspelled option \"'+e+'\"')}},a=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];typeof r==\"string\"&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,\"initialValue\"in r&&(e[\"$\"+r.name]=r.initialValue)}),r.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];\"value\"in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=o,this.reportError=u}).call(a.prototype),t.AppConfig=a}),define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"],function(e,t,n){\"no use strict\";function f(r){if(!u||!u.document)return;a.packaged=r||e.packaged||n.packaged||u.define&&define.packaged;var i={},s=\"\",o=document.currentScript||document._currentScript,f=o&&o.ownerDocument||document,c=f.getElementsByTagName(\"script\");for(var h=0;h<c.length;h++){var p=c[h],d=p.src||p.getAttribute(\"src\");if(!d)continue;var v=p.attributes;for(var m=0,g=v.length;m<g;m++){var y=v[m];y.name.indexOf(\"data-ace-\")===0&&(i[l(y.name.replace(/^data-ace-/,\"\"))]=y.value)}var b=d.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);b&&(s=b[1])}s&&(i.base=i.base||s,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base;for(var w in i)typeof i[w]!=\"undefined\"&&t.set(w,i[w])}function l(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var r=e(\"./lib/lang\"),i=e(\"./lib/oop\"),s=e(\"./lib/net\"),o=e(\"./lib/app_config\").AppConfig;n.exports=t=new o;var u=function(){return this||typeof window!=\"undefined\"&&window}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:\"\",suffix:\".js\",$moduleUrls:{}};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error(\"Unknown config key: \"+e);return a[e]},t.set=function(e,t){if(!a.hasOwnProperty(e))throw new Error(\"Unknown config key: \"+e);a[e]=t},t.all=function(){return r.copyObject(a)},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split(\"/\");t=t||n[n.length-2]||\"\";var r=t==\"snippets\"?\"/\":\"-\",i=n[n.length-1];if(t==\"worker\"&&r==\"-\"){var s=new RegExp(\"^\"+t+\"[\\\\-_]|[\\\\-_]\"+t+\"$\",\"g\");i=i.replace(s,\"\")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=a[t+\"Path\"];return o==null?o=a.basePath:r==\"/\"&&(t=r=\"\"),o&&o.slice(-1)!=\"/\"&&(o+=\"/\"),o+t+r+i+this.get(\"suffix\")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(u){}if(i&&!t.$loading[n])return r&&r(i);t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r);if(t.$loading[n].length>1)return;var a=function(){e([n],function(e){t._emit(\"load.module\",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get(\"packaged\"))return a();s.loadScript(t.moduleUrl(n,o),a)},t.init=f}),define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/config\"],function(e,t,n){\"use strict\";var r=e(\"../lib/event\"),i=e(\"../lib/useragent\"),s=e(\"./default_handlers\").DefaultHandlers,o=e(\"./default_gutter_handler\").GutterHandler,u=e(\"./mouse_event\").MouseEvent,a=e(\"./dragdrop_handler\").DragdropHandler,f=e(\"../config\"),l=function(e){var t=this;this.editor=e,new s(this),new o(this),new a(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},u=e.renderer.getMouseEventTarget();r.addListener(u,\"click\",this.onMouseEvent.bind(this,\"click\")),r.addListener(u,\"mousemove\",this.onMouseMove.bind(this,\"mousemove\")),r.addMultiMouseDownListener([u,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,\"onMouseEvent\"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,\"mousewheel\")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,\"touchmove\"));var f=e.renderer.$gutter;r.addListener(f,\"mousedown\",this.onMouseEvent.bind(this,\"guttermousedown\")),r.addListener(f,\"click\",this.onMouseEvent.bind(this,\"gutterclick\")),r.addListener(f,\"dblclick\",this.onMouseEvent.bind(this,\"gutterdblclick\")),r.addListener(f,\"mousemove\",this.onMouseEvent.bind(this,\"guttermousemove\")),r.addListener(u,\"mousedown\",n),r.addListener(f,\"mousedown\",n),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,\"mousedown\",n),r.addListener(e.renderer.scrollBarH.element,\"mousedown\",n)),e.on(\"mousemove\",function(n){if(t.state||t.$dragDelay||!t.$dragEnabled)return;var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),s=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?s.setCursorStyle(\"default\"):s.setCursorStyle(\"\")})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new u(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))},this.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new u(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){if(!e)return;if(i.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new u(e,s.editor),s.$mouseMoved=!0},a=function(e){clearInterval(l),f(),s[s.state+\"End\"]&&s[s.state+\"End\"](e),s.state=\"\",n.$keepTextAreaAtCursor==null&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent(\"mouseup\",e)},f=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(i.isOldIE&&e.domEvent.type==\"dblclick\")return setTimeout(function(){a(e)});s.$onCaptureMouseMove=o,s.releaseMouse=r.capture(this.editor.container,o,a);var l=setInterval(f,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){if(t&&t.domEvent&&t.domEvent.type!=\"contextmenu\")return;this.editor.off(\"nativecontextmenu\",e),t&&t.domEvent&&r.stopEvent(t.domEvent)}.bind(this);setTimeout(e,10),this.editor.on(\"nativecontextmenu\",e)}}).call(l.prototype),f.defineOptions(l.prototype,\"mouseHandler\",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=l}),define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";function r(e){e.on(\"click\",function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())}),e.on(\"gutterclick\",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n==\"foldWidgets\"){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on(\"gutterdblclick\",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n==\"foldWidgets\"){var r=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(r,!0),o=s.range||s.firstRange;if(o){r=o.start.row;var u=i.getFoldAt(r,i.getLine(r).length,1);u?i.removeFold(u):(i.addFold(\"...\",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}t.FoldHandler=r}),define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"],function(e,t,n){\"use strict\";var r=e(\"../lib/keys\"),i=e(\"../lib/event\"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]==e)return;while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)},this.addKeyboardHandler=function(e,t){if(!e)return;typeof e==\"function\"&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||\"\"}).filter(Boolean).join(\" \")},this.$callKeyboardHandlers=function(e,t,n,r){var s,o=!1,u=this.$editor.commands;for(var a=this.$handlers.length;a--;){s=this.$handlers[a].handleKeyboard(this.$data,e,t,n,r);if(!s||!s.command)continue;s.command==\"null\"?o=!0:o=u.exec(s.command,this.$editor,s.args,r),o&&r&&e!=-1&&s.passEvent!=1&&s.command.passEvent!=1&&i.stopEvent(r);if(o)break}return!o&&e==-1&&(s={command:\"insertstring\"},o=u.exec(\"insertstring\",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal(\"keyboardActivity\",s),o},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s}),define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(e,t){return this.compare(e,t)==0},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),t==1?(t=this.compare(r.row,r.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:t==1?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0},this.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){typeof e==\"object\"?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){typeof e==\"object\"?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return this.compare(e,t)==0?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(n==0)return this;if(n==-1)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/lang\"),s=e(\"./lib/event_emitter\").EventEmitter,o=e(\"./range\").Range,u=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on(\"change\",function(e){t._emit(\"changeCursor\"),t.$isEmpty||t._emit(\"changeSelection\"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.selectionAnchor.on(\"change\",function(){t.$isEmpty||t._emit(\"changeSelection\")})};(function(){r.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit(\"changeSelection\"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+e);return}var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();(!r||t.column!==0)&&this.setSelectionAnchor(t.row,t.column+e),(r||n.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit(\"changeSelection\"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(typeof t==\"undefined\"){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n=typeof e==\"number\"?e:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,t===!0?new o(n,0,r,this.session.getLine(r).length):new o(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(\" \").length-1==t},this.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(e.column===0)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),s=i.match(/^\\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(r.column+=s[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s){this.moveCursorTo(s.end.row,s.end.column);return}if(i=this.session.nonTokenRe.exec(r))t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t);if(t>=n.length){this.moveCursorTo(e,n.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight();return}if(i=this.session.tokenRe.exec(r))t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(e,t)},this.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(e,t,-1);r==null&&(r=this.doc.getLine(e).substring(0,t));var s=i.stringReverse(r),o;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;if(o=this.session.nonTokenRe.exec(s))t-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0;if(t<=0){this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft();return}if(o=this.session.tokenRe.exec(s))t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(e,t)},this.$shortWordEndIndex=function(e){var t,n=0,r,i=/\\s/,s=this.session.tokenRe;s.lastIndex=0;if(t=this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{while((r=e[n])&&i.test(r))n++;if(n<1){s.lastIndex=0;while((r=e[n])&&!s.test(r)){s.lastIndex=0,n++;if(i.test(r)){if(n>2){n--;break}while((r=e[n])&&i.test(r))n++;if(n>2)break}}}}return s.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<s&&/^\\s*$/.test(r));/^\\s+/.test(r)||(r=\"\"),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(e).substring(0,t);if(t===0){do e--,r=this.doc.getLine(e);while(e>0&&/^\\s*$/.test(r));t=r.length,/\\s+$/.test(r)||(r=\"\")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,t-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);t===0&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var r=this.session.screenToDocumentPosition(n.row+e,n.column);e!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||e>0)&&r.row++,this.moveCursorTo(r.row,r.column+t,t===0)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(e.start==undefined){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(u.prototype),t.Selection=u}),define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"],function(e,t,n){\"use strict\";var r=e(\"./config\"),i=2e3,s=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){var n=this.states[t],r=[],i=0,s=this.matchMappings[t]={defaultToken:\"text\"},o=\"g\",u=[];for(var a=0;a<n.length;a++){var f=n[a];f.defaultToken&&(s.defaultToken=f.defaultToken),f.caseInsensitive&&(o=\"gi\");if(f.regex==null)continue;f.regex instanceof RegExp&&(f.regex=f.regex.toString().slice(1,-1));var l=f.regex,c=(new RegExp(\"(?:(\"+l+\")|(.))\")).exec(\"a\").length-2;Array.isArray(f.token)?f.token.length==1||c==1?f.token=f.token[0]:c-1!=f.token.length?(this.reportError(\"number of classes and regexp groups doesn't match\",{rule:f,groupCount:c-1}),f.token=f.token[0]):(f.tokenArray=f.token,f.token=null,f.onMatch=this.$arrayTokens):typeof f.token==\"function\"&&!f.onMatch&&(c>1?f.onMatch=this.$applyToken:f.onMatch=f.token),c>1&&(/\\\\\\d/.test(f.regex)?l=f.regex.replace(/\\\\([0-9]+)/g,function(e,t){return\"\\\\\"+(parseInt(t,10)+i+1)}):(c=1,l=this.removeCapturingGroups(f.regex)),!f.splitRegex&&typeof f.token!=\"string\"&&u.push(f)),s[i]=a,i+=c,r.push(l),f.onMatch||(f.onMatch=null)}r.length||(s[0]=0,r.push(\"$\")),u.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp(\"(\"+r.join(\")|(\")+\")|($)\",o)}};(function(){this.$setMaxTokenCount=function(e){i=e|0},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if(typeof n==\"string\")return[{type:n,value:e}];var r=[];for(var i=0,s=n.length;i<s;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return\"text\";var n=[],r=this.tokenArray;for(var i=0,s=r.length;i<s;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g,function(e,t){return t?\"(?:\":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf(\"(?=\")!=-1){var n=0,r=!1,i={};e.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g,function(e,t,s,o,u,a){return r?r=u!=\"]\":u?r=!0:o?(n==i.stack&&(i.end=a+1,i.stack=-1),n--):s&&(n++,s.length!=1&&(i.stack=n,i.start=a)),e}),i.end!=null&&/^\\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return e.charAt(0)!=\"^\"&&(e=\"^\"+e),e.charAt(e.length-1)!=\"$\"&&(e+=\"$\"),new RegExp(e,(t||\"\").replace(\"g\",\"\"))},this.getLineTokens=function(e,t){if(t&&typeof t!=\"string\"){var n=t.slice(0);t=n[0],t===\"#tmp\"&&(n.shift(),t=n.shift())}else var n=[];var r=t||\"start\",s=this.states[r];s||(r=\"start\",s=this.states[r]);var o=this.matchMappings[r],u=this.regExps[r];u.lastIndex=0;var a,f=[],l=0,c=0,h={type:null,value:\"\"};while(a=u.exec(e)){var p=o.defaultToken,d=null,v=a[0],m=u.lastIndex;if(m-v.length>l){var g=e.substring(l,m-v.length);h.type==p?h.value+=g:(h.type&&f.push(h),h={type:p,value:g})}for(var y=0;y<a.length-2;y++){if(a[y+1]===undefined)continue;d=s[o[y]],d.onMatch?p=d.onMatch(v,r,n,e):p=d.token,d.next&&(typeof d.next==\"string\"?r=d.next:r=d.next(r,n),s=this.states[r],s||(this.reportError(\"state doesn't exist\",r),r=\"start\",s=this.states[r]),o=this.matchMappings[r],l=m,u=this.regExps[r],u.lastIndex=m),d.consumeLineEnd&&(l=m);break}if(v)if(typeof p==\"string\")!!d&&d.merge===!1||h.type!==p?(h.type&&f.push(h),h={type:p,value:v}):h.value+=v;else if(p){h.type&&f.push(h),h={type:null,value:\"\"};for(var y=0;y<p.length;y++)f.push(p[y])}if(l==e.length)break;l=m;if(c++>i){c>2*e.length&&this.reportError(\"infinite loop with in ace tokenizer\",{startState:t,line:e});while(l<e.length)h.type&&f.push(h),h={value:e.substring(l,l+=2e3),type:\"overflow\"};r=\"start\",n=[];break}}return h.type&&f.push(h),n.length>1&&n[0]!==r&&n.unshift(\"#tmp\",r),{tokens:f,state:n.length?n:r}},this.reportError=r.reportError}).call(s.prototype),t.Tokenizer=s}),define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"],function(e,t,n){\"use strict\";var r=e(\"../lib/lang\"),i=function(){this.$rules={start:[{token:\"empty_line\",regex:\"^$\"},{defaultToken:\"text\"}]}};(function(){this.addRules=function(e,t){if(!t){for(var n in e)this.$rules[n]=e[n];return}for(var n in e){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i];if(s.next||s.onMatch)typeof s.next==\"string\"&&s.next.indexOf(t)!==0&&(s.next=t+s.next),s.nextState&&s.nextState.indexOf(t)!==0&&(s.nextState=t+s.nextState)}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o=typeof e==\"function\"?(new e).getRules():e;if(i)for(var u=0;u<i.length;u++)i[u]=t+i[u];else{i=[];for(var a in o)i.push(t+a)}this.addRules(o,t);if(n){var f=Array.prototype[s?\"push\":\"unshift\"];for(var u=0;u<i.length;u++)f.apply(this.$rules[i[u]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return(e!=\"start\"||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||\"start\"};this.normalizeRules=function(){function i(s){var o=r[s];o.processed=!0;for(var u=0;u<o.length;u++){var a=o[u],f=null;Array.isArray(a)&&(f=a,a={}),!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+\".end\",regex:a.end||a.start,next:\"pop\"}),a.token=a.token+\".start\",a.push=!0);var l=a.next||a.push;if(l&&Array.isArray(l)){var c=a.stateName;c||(c=a.token,typeof c!=\"string\"&&(c=c[0]||\"\"),r[c]&&(c+=n++)),r[c]=l,a.next=c,i(c)}else l==\"pop\"&&(a.next=t);a.push&&(a.nextState=a.next||a.push,a.next=e,delete a.push);if(a.rules)for(var h in a.rules)r[h]?r[h].push&&r[h].push.apply(r[h],a.rules[h]):r[h]=a.rules[h];var p=typeof a==\"string\"?a:a.include;p&&(Array.isArray(p)?f=p.map(function(e){return r[e]}):f=r[p]);if(f){var d=[u,1].concat(f);a.noEscape&&(d=d.filter(function(e){return!e.next})),o.splice.apply(o,d),u--}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||\"text\",a.caseInsensitive),delete a.defaultToken)}}var n=0,r=this.$rules;Object.keys(r).forEach(i,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var s=e[t];n&&(s=s.toLowerCase());var o=s.split(r||\"|\");for(var u=o.length;u--;)i[o[u]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(typeof e==\"function\")var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;var t={};for(var n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(r.prototype),t.Behaviour=r}),define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;var e;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1,e||(e=this.$session.getLength());if(this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(r.prototype),t.TokenIterator=r}),define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"],function(e,t,n){\"use strict\";var r=e(\"../../lib/oop\"),i=e(\"../behaviour\").Behaviour,s=e(\"../../token_iterator\").TokenIterator,o=e(\"../../lib/lang\"),u=[\"text\",\"paren.rparen\",\"punctuation.operator\"],a=[\"text\",\"paren.rparen\",\"punctuation.operator\",\"comment\"],f,l={},c={'\"':'\"',\"'\":\"'\"},h=function(e){var t=-1;e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount}));if(l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:\"\",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:\"\",maybeInsertedLineEnd:\"\"}},p=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},d=function(e){this.add(\"braces\",\"insertion\",function(t,n,r,i,s){var u=r.getCursorPosition(),a=i.doc.getLine(u.row);if(s==\"{\"){h(r);var l=r.getSelectionRange(),c=i.doc.getTextRange(l);if(c!==\"\"&&c!==\"{\"&&r.getWrapBehavioursEnabled())return p(l,c,\"{\",\"}\");if(d.isSaneInsertion(r,i))return/[\\]\\}\\)]/.test(a[u.column])||r.inMultiSelectMode||e&&e.braces?(d.recordAutoInsert(r,i,\"}\"),{text:\"{}\",selection:[1,1]}):(d.recordMaybeInsert(r,i,\"{\"),{text:\"{\",selection:[1,1]})}else if(s==\"}\"){h(r);var v=a.substring(u.column,u.column+1);if(v==\"}\"){var m=i.$findOpeningBracket(\"}\",{column:u.column+1,row:u.row});if(m!==null&&d.isAutoInsertedClosing(u,a,s))return d.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}}else{if(s==\"\\n\"||s==\"\\r\\n\"){h(r);var g=\"\";d.isMaybeInsertedClosing(u,a)&&(g=o.stringRepeat(\"}\",f.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var v=a.substring(u.column,u.column+1);if(v===\"}\"){var y=i.findMatchingBracket({row:u.row,column:u.column+1},\"}\");if(!y)return null;var b=this.$getIndent(i.getLine(y.row))}else{if(!g){d.clearMaybeInsertedClosing();return}var b=this.$getIndent(a)}var w=b+i.getTabString();return{text:\"\\n\"+w+\"\\n\"+b+g,selection:[1,w.length,1,w.length]}}d.clearMaybeInsertedClosing()}}),this.add(\"braces\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==\"{\"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.end.column,i.end.column+1);if(u==\"}\")return i.end.column++,i;f.maybeInsertedBrackets--}}),this.add(\"parens\",\"insertion\",function(e,t,n,r,i){if(i==\"(\"){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==\"\"&&n.getWrapBehavioursEnabled())return p(s,o,\"(\",\")\");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,\")\"),{text:\"()\",selection:[1,1]}}else if(i==\")\"){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==\")\"){var l=r.$findOpeningBracket(\")\",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}}}),this.add(\"parens\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==\"(\"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==\")\")return i.end.column++,i}}),this.add(\"brackets\",\"insertion\",function(e,t,n,r,i){if(i==\"[\"){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==\"\"&&n.getWrapBehavioursEnabled())return p(s,o,\"[\",\"]\");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,\"]\"),{text:\"[]\",selection:[1,1]}}else if(i==\"]\"){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==\"]\"){var l=r.$findOpeningBracket(\"]\",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}}}),this.add(\"brackets\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==\"[\"){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==\"]\")return i.end.column++,i}}),this.add(\"string_dquotes\",\"insertion\",function(e,t,n,r,i){var s=r.$mode.$quotes||c;if(i.length==1&&s[i]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;h(n);var o=i,u=n.getSelectionRange(),a=r.doc.getTextRange(u);if(a!==\"\"&&(a.length!=1||!s[a])&&n.getWrapBehavioursEnabled())return p(u,a,o,o);if(!a){var f=n.getCursorPosition(),l=r.doc.getLine(f.row),d=l.substring(f.column-1,f.column),v=l.substring(f.column,f.column+1),m=r.getTokenAt(f.row,f.column),g=r.getTokenAt(f.row,f.column+1);if(d==\"\\\\\"&&m&&/escape/.test(m.type))return null;var y=m&&/string|escape/.test(m.type),b=!g||/string|escape/.test(g.type),w;if(v==o)w=y!==b,w&&/string\\.end/.test(g.type)&&(w=!1);else{if(y&&!b)return null;if(y&&b)return null;var E=r.$mode.tokenRe;E.lastIndex=0;var S=E.test(d);E.lastIndex=0;var x=E.test(d);if(S||x)return null;if(v&&!/[\\s;,.})\\]\\\\]/.test(v))return null;w=!0}return{text:w?o+o:\"\",selection:[1,1]}}}}),this.add(\"string_dquotes\",\"deletion\",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&(s=='\"'||s==\"'\")){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==s)return i.end.column++,i}})};d.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||\"text\",u)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||\"text\",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||\"text\",a)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,i,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=r.row,f.autoInsertedLineEnd=n+i.substr(r.column),f.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,i)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=r.row,f.maybeInsertedLineStart=i.substr(0,r.column)+n,f.maybeInsertedLineEnd=i.substr(r.column),f.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,n){return f.autoInsertedBrackets>0&&e.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return f.maybeInsertedBrackets>0&&e.row===f.maybeInsertedRow&&t.substr(e.column)===f.maybeInsertedLineEnd&&t.substr(0,e.column)==f.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},r.inherits(d,i),t.CstyleBehaviour=d}),define(\"ace/unicode\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";function r(e){var n=/\\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,\"\\\\u$&\")}t.packages={},r({L:\"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",Ll:\"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",Lu:\"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",Lt:\"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",Lm:\"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",Lo:\"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",M:\"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",Mn:\"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",Mc:\"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",Me:\"0488048906DE20DD-20E020E2-20E4A670-A672\",N:\"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",Nd:\"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",Nl:\"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",No:\"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",P:\"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",Pd:\"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",Ps:\"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",Pe:\"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",Pi:\"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",Pf:\"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",Pc:\"005F203F20402054FE33FE34FE4D-FE4FFF3F\",Po:\"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",S:\"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",Sm:\"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",Sc:\"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",Sk:\"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",So:\"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",Z:\"002000A01680180E2000-200A20282029202F205F3000\",Zs:\"002000A01680180E2000-200A202F205F3000\",Zl:\"2028\",Zp:\"2029\",C:\"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",Cc:\"0000-001F007F-009F\",Cf:\"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",Co:\"E000-F8FF\",Cs:\"D800-DFFF\",Cn:\"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"})}),define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"../tokenizer\").Tokenizer,i=e(\"./text_highlight_rules\").TextHighlightRules,s=e(\"./behaviour/cstyle\").CstyleBehaviour,o=e(\"../unicode\"),u=e(\"../lib/lang\"),a=e(\"../token_iterator\").TokenIterator,f=e(\"../range\").Range,l=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp(\"^[\"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+\"\\\\$_]+\",\"g\"),this.nonTokenRe=new RegExp(\"^(?:[^\"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+\"\\\\$_]|\\\\s])+\",\"g\"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart=\"\",this.blockComment=\"\",this.toggleCommentLines=function(e,t,n,r){function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var i=t.doc,s=!0,o=!0,a=Infinity,f=t.getTabSize(),l=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var c=this.blockComment.start,h=this.blockComment.end,p=new RegExp(\"^(\\\\s*)(?:\"+u.escapeRegExp(c)+\")\"),d=new RegExp(\"(?:\"+u.escapeRegExp(h)+\")\\\\s*$\"),v=function(e,t){if(g(e,t))return;if(!s||/\\S/.test(e))i.insertInLine({row:t,column:e.length},h),i.insertInLine({row:t,column:a},c)},m=function(e,t){var n;(n=e.match(d))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(p))&&i.removeInLine(t,n[1].length,n[0].length)},g=function(e,n){if(p.test(e))return!0;var r=t.getTokens(n);for(var i=0;i<r.length;i++)if(r[i].type===\"comment\")return!0}}else{if(Array.isArray(this.lineCommentStart))var p=this.lineCommentStart.map(u.escapeRegExp).join(\"|\"),c=this.lineCommentStart[0];else var p=u.escapeRegExp(this.lineCommentStart),c=this.lineCommentStart;p=new RegExp(\"^(\\\\s*)(?:\"+p+\") ?\"),l=t.getUseSoftTabs();var m=function(e,t){var n=e.match(p);if(!n)return;var r=n[1].length,s=n[0].length;!b(e,r,s)&&n[0][s-1]==\" \"&&s--,i.removeInLine(t,r,s)},y=c+\" \",v=function(e,t){if(!s||/\\S/.test(e))b(e,a,a)?i.insertInLine({row:t,column:a},y):i.insertInLine({row:t,column:a},c)},g=function(e,t){return p.test(e)},b=function(e,t,n){var r=0;while(t--&&e.charAt(t)==\" \")r++;if(r%f!=0)return!1;var r=0;while(e.charAt(n++)==\" \")r++;return f>2?r%f!=f-1:r%f==0}}var E=Infinity;w(function(e,t){var n=e.search(/\\S/);n!==-1?(n<a&&(a=n),o&&!g(e,t)&&(o=!1)):E>e.length&&(E=e.length)}),a==Infinity&&(a=E,s=!1,o=!1),l&&a%f!=0&&(a=Math.floor(a/f)*f),w(o?m:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(!i)return;!i.start&&i[0]&&(i=i[0]);var s=new a(t,r.row,r.column),o=s.getCurrentToken(),u=t.selection,l=t.selection.toOrientedRange(),c,h;if(o&&/comment/.test(o.type)){var p,d;while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.start);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;p=new f(m,g,m,g+i.start.length);break}o=s.stepBackward()}var s=new a(t,r.row,r.column),o=s.getCurrentToken();while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.end);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;d=new f(m,g,m,g+i.end.length);break}o=s.stepForward()}d&&t.remove(d),p&&(t.remove(p),c=p.start.row,h=-i.start.length)}else h=i.start.length,c=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);l.start.row==c&&(l.start.column+=h),l.end.row==c&&(l.end.column+=h),t.selection.fromOrientedRange(l)},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);var n=[\"toggleBlockComment\",\"toggleCommentLines\",\"getNextLineIndent\",\"checkOutdent\",\"autoOutdent\",\"transformAction\",\"getCompletions\"];for(var t=0;t<n.length;t++)(function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}})(this)},this.$delegator=function(e,t,n){var r=t[0];typeof r!=\"string\"&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++){if(!this.$modes[this.$embeds[i]])continue;var s=r.split(this.$embeds[i]);if(!s[0]&&s[1]){t[0]=s[1];var o=this.$modes[this.$embeds[i]];return o[e].apply(o,t)}}var u=n.apply(this,t);return n?u:undefined},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var u=s[o][t].apply(this,arguments);if(u)return u}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t){var i=t[r];for(var s=0,o=i.length;s<o;s++)if(typeof i[s].token==\"string\")/keyword|support|storage/.test(i[s].token)&&n.push(i[s].regex);else if(typeof i[s].token==\"object\")for(var u=0,a=i[s].token.length;u<a;u++)if(/keyword|support|storage/.test(i[s].token[u])){var r=i[s].regex.match(/\\(.+?\\)/g)[u];n.push(r.substr(1,r.length-2))}}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:\"keyword\"}})},this.$id=\"ace/mode/text\"}).call(l.prototype),t.Mode=l}),define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";function r(e,t){throw console.log(\"Invalid Delta:\",e),\"Invalid Delta: \"+t}function i(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}function s(e,t){t.action!=\"insert\"&&t.action!=\"remove\"&&r(t,\"delta.action must be 'insert' or 'remove'\"),t.lines instanceof Array||r(t,\"delta.lines must be an Array\"),(!t.start||!t.end)&&r(t,\"delta.start/end must be an present\");var n=t.start;i(e,t.start)||r(t,\"delta.start must be contained in document\");var s=t.end;t.action==\"remove\"&&!i(e,s)&&r(t,\"delta.end must contained in document for 'remove' actions\");var o=s.row-n.row,u=s.column-(o==0?n.column:0);(o!=t.lines.length-1||t.lines[o].length!=u)&&r(t,\"delta.range must match delta lines\")}t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,s=e[r]||\"\";switch(t.action){case\"insert\":var o=t.lines;if(o.length===1)e[r]=s.substring(0,i)+t.lines[0]+s.substring(i);else{var u=[r,1].concat(t.lines);e.splice.apply(e,u),e[r]=s.substring(0,i)+e[r],e[r+t.lines.length-1]+=s.substring(i)}break;case\"remove\":var a=t.end.column,f=t.end.row;r===f?e[r]=s.substring(0,i)+s.substring(a):e.splice(r,f-r+1,s.substring(0,i)+e[f].substring(a))}}}),define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/event_emitter\").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),typeof n==\"undefined\"?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i=t.action==\"insert\",s=(i?1:-1)*(t.end.row-t.start.row),o=(i?1:-1)*(t.end.column-t.start.column),u=t.start,a=i?u:t.end;return e(n,u,r)?{row:n.row,column:n.column}:e(a,n,!r)?{row:n.row+s,column:n.column+(n.row==a.row?o:0)}:{row:u.row,column:u.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(e.start.row==e.end.row&&e.start.row!=this.row)return;if(e.start.row>this.row)return;var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)},this.setPosition=function(e,t,n){var r;n?r={row:e,column:t}:r=this.$clipPositionToDocument(e,t);if(this.row==r.row&&this.column==r.column)return;var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal(\"change\",{old:i,value:r})},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./apply_delta\").applyDelta,s=e(\"./lib/event_emitter\").EventEmitter,o=e(\"./range\").Range,u=e(\"./anchor\").Anchor,a=function(e){this.$lines=[\"\"],e.length===0?this.$lines=[\"\"]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new u(this,e,t)},\"aaa\".split(/a/).length===0?this.$split=function(e){return e.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:this.$split=function(e){return e.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=t?t[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e,this._signal(\"changeNewLineMode\")},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e==\"\\r\\n\"||e==\"\\r\"||e==\"\\n\"},this.getLine=function(e){return this.$lines[e]||\"\"},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||\"\").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(e,[\"\",\"\"])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:\"insert\",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();e===undefined?e=n:e<0?e=0:e>=n&&(e=n-1,t=undefined);var r=this.getLine(e);return t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([\"\"]),n=0):(t=[\"\"].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(t.length==1?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:\"insert\",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:\"remove\",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:\"remove\",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,s=n?this.getLine(i).length:0,u=r?t+1:t,a=r?0:this.getLine(u).length,f=new o(i,s,u,a),l=this.$lines.slice(e,t+1);return this.applyDelta({start:f.start,end:f.end,action:\"remove\",lines:this.getLinesForRange(f)}),l},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(e,t){e instanceof o||(e=o.fromPoints(e.start,e.end));if(t.length===0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return t?n=this.insert(e.start,t):n=e.start,n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n=e.action==\"insert\";if(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))return;n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),i(this.$lines,e,t),this._signal(\"change\",e)},this.$splitAndapplyLargeDelta=function(e,t){var n=e.lines,r=n.length,i=e.start.row,s=e.start.column,o=0,u=0;do{o=u,u+=t-1;var a=n.slice(o,u);if(u>r){e.lines=a,e.start.row=i+o,e.start.column=s;break}a.push(\"\"),this.applyDelta({start:this.pos(i+o,s),end:this.pos(i+u,s=0),action:e.action,lines:a},!0)}while(!0)},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action==\"insert\"?\"remove\":\"insert\",lines:e.lines.slice()})},this.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length;for(var i=t||0,s=n.length;i<s;i++){e-=n[i].length+r;if(e<0)return{row:i,column:e+n[i].length+r}}return{row:s-1,column:n[s-1].length}},this.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length);for(var o=t||0;o<s;++o)i+=n[o].length+r;return i+e.column}}).call(a.prototype),t.Document=a}),define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/event_emitter\").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(!n.running)return;var e=new Date,t=n.currentLine,r=-1,i=n.doc,s=t;while(n.lines[t])t++;var o=i.getLength(),u=0;n.running=!1;while(t<o){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);u++;if(u%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,r==-1&&(r=t),s<=r&&n.fireUpdateEvent(s,r)}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal(\"update\",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.lines[t]=null;else if(e.action==\"remove\")this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||\"start\"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+\"\"!=r.state+\"\"?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./lib/lang\"),i=e(\"./lib/oop\"),s=e(\"./range\").Range,o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||\"text\"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){if(this.regExp+\"\"==e+\"\")return;this.regExp=e,this.cache=[]},this.update=function(e,t,n,i){if(!this.regExp)return;var o=i.firstRow,u=i.lastRow;for(var a=o;a<=u;a++){var f=this.cache[a];f==null&&(f=r.getMatchOffsets(n.getLine(a),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(e){return new s(a,e.offset,a,e.offset+e.length)}),this.cache[a]=f.length?f:\"\");for(var l=f.length;l--;)t.drawSingleLineMarker(e,f[l].toScreenRange(n),this.clazz,i)}}}).call(o.prototype),t.SearchHighlight=o}),define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e(\"../range\").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r=0,i=this.folds,s,o,u,a=!0;t==null&&(t=this.end.row,n=this.end.column);for(var f=0;f<i.length;f++){s=i[f],o=s.range.compareStart(t,n);if(o==-1){e(null,t,n,r,a);return}u=e(null,s.start.row,s.start.column,r,a),u=!u&&e(s.placeholder,s.start.row,s.start.column,r);if(u||o===0)return;a=!s.sameRow,r=s.end.column}e(null,t,n,r,a)},this.getNextFoldTo=function(e,t){var n,r;for(var i=0;i<this.folds.length;i++){n=this.folds[i],r=n.range.compareEnd(e,t);if(r==-1)return{fold:n,kind:\"after\"};if(r===0)return{fold:n,kind:\"inside\"}}return null},this.addRemoveChars=function(e,t,n){var r=this.getNextFoldTo(e,t),i,s;if(r){i=r.fold;if(r.kind==\"inside\"&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){s=this.folds;var o=s.indexOf(i);o===0&&(this.start.column+=n);for(o;o<s.length;o++){i=s[o],i.start.column+=n;if(!i.sameRow)return;i.end.column+=n}this.end.column+=n}}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||n.kind==\"inside\")return null;var r=n.fold,s=this.folds,o=this.foldData,u=s.indexOf(r),a=s[u-1];this.end.row=a.end.row,this.end.column=a.end.column,s=s.splice(u,s.length-u);var f=new i(o,s);return o.splice(o.indexOf(this)+1,0,f),f},this.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+\": [\"];return this.folds.forEach(function(t){e.push(\"  \"+t.toString())}),e.push(\"]\"),e.join(\"\\n\")},this.idxToPosition=function(e){var t=0;for(var n=0;n<this.folds.length;n++){var r=this.folds[n];e-=r.start.column-t;if(e<0)return{row:r.start.row,column:r.start.column+e};e-=r.placeholder.length;if(e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"./range\").Range,i=r.comparePoints,s=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){var r=this.ranges;for(var s=n||0;s<r.length;s++){var o=r[s],u=i(e,o.end);if(u>0)continue;var a=i(e,o.start);return u===0?t&&a!==0?-s-2:s:a>0||a===0&&!t?s:-s-1}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){var t=[];for(var n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});var n=t[0],r;for(var s=1;s<t.length;s++){r=n,n=t[s];var o=i(r.end,n.start);if(o<0)continue;if(o==0&&!r.isEmpty()&&!n.isEmpty())continue;i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(s,1),e.push(n),n=r,s--}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);var s=[];for(var o=r;o<i;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on(\"change\",this.onChange)},this.detach=function(){if(!this.session)return;this.session.removeListener(\"change\",this.onChange),this.session=null},this.$onChange=function(e){if(e.action==\"insert\")var t=e.start,n=e.end;else var n=e.start,t=e.end;var r=t.row,i=n.row,s=i-r,o=-t.column+n.column,u=this.ranges;for(var a=0,f=u.length;a<f;a++){var l=u[a];if(l.end.row<r)continue;if(l.start.row>r)break;l.start.row==r&&l.start.column>=t.column&&(l.start.column!=t.column||!this.$insertRight)&&(l.start.column+=o,l.start.row+=s);if(l.end.row==r&&l.end.column>=t.column){if(l.end.column==t.column&&this.$insertRight)continue;l.end.column==t.column&&o>0&&a<f-1&&l.end.column>l.start.column&&l.end.column==u[a+1].start.column&&(l.end.column-=o),l.end.column+=o,l.end.row+=s}}if(s!=0&&a<f)for(;a<f;a++){var l=u[a];l.start.row+=s,l.end.row+=s}}}).call(s.prototype),t.RangeList=s}),define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/range_list\",\"ace/lib/oop\"],function(e,t,n){\"use strict\";function u(e,t){e.row-=t.row,e.row==0&&(e.column-=t.column)}function a(e,t){u(e.start,t),u(e.end,t)}function f(e,t){e.row==0&&(e.column+=t.column),e.row+=t.row}function l(e,t){f(e.start,t),f(e.end,t)}var r=e(\"../range\").Range,i=e(\"../range_list\").RangeList,s=e(\"../lib/oop\"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};s.inherits(o,i),function(){this.toString=function(){return'\"'+this.placeholder+'\" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(this.range.isEqual(e))return;if(!this.range.containsRange(e))throw new Error(\"A fold can't intersect already existing fold\"+e.range+this.range);a(e,this.start);var t=e.start.row,n=e.start.column;for(var r=0,i=-1;r<this.subFolds.length;r++){i=this.subFolds[r].range.compare(t,n);if(i!=1)break}var s=this.subFolds[r];if(i==0)return s.addSubFold(e);var t=e.range.end.row,n=e.range.end.column;for(var o=r,i=-1;o<this.subFolds.length;o++){i=this.subFolds[o].range.compare(t,n);if(i!=1)break}var u=this.subFolds[o];if(i==0)throw new Error(\"A fold can't intersect already existing fold\"+e.range+this.range);var f=this.subFolds.splice(r,o-r,e);return e.setFoldLine(this.foldLine),e},this.restoreRange=function(e){return l(e,this.start)}}.call(o.prototype)}),define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"],function(e,t,n){\"use strict\";function u(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;var i=r.folds;for(var s=0;s<i.length;s++){var o=i[s];if(o.range.contains(e,t)){if(n==1&&o.range.isEnd(e,t))continue;if(n==-1&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(o==2)continue;if(o==-2)break;var u=r[s].folds;for(var a=0;a<u.length;a++){var f=u[a];o=f.range.compareRange(e);if(o==-2)break;if(o==2)continue;if(o==42)break;i.push(f)}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){var e=[],t=this.$foldData;for(var n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){r=r||this.getFoldLine(e);if(!r)return null;var i={end:{column:0}},s,o;for(var u=0;u<r.folds.length;u++){o=r.folds[u];var a=o.range.compareEnd(e,t);if(a==-1){s=this.getLine(o.start.row).substring(i.end.column,o.start.column);break}if(a===0)return null;i=o}return s||(s=this.getLine(o.start.row).substring(i.end.column)),n==-1?s.substring(0,t-i.end.column):n==1?s.substring(t-i.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){var n=this.$foldData,r=t-e+1;for(var i=0;i<n.length;i++){var s=n[i],o=s.end.row,u=s.start.row;if(o>=t){u<t&&(u>=e?r-=t-u:r=0);break}o>=e&&(u>=e?r-=o-u:r-=o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n=this.$foldData,r=!1,o;e instanceof s?o=e:(o=new s(t,e),o.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(o.range);var u=o.start.row,a=o.start.column,f=o.end.row,l=o.end.column;if(u<f||u==f&&a<=l-2){var c=this.getFoldAt(u,a,1),h=this.getFoldAt(f,l,-1);if(c&&h==c)return c.addSubFold(o);c&&!c.range.isStart(u,a)&&this.removeFold(c),h&&!h.range.isEnd(f,l)&&this.removeFold(h);var p=this.getFoldsInRange(o.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){o.addSubFold(e)}));for(var d=0;d<n.length;d++){var v=n[d];if(f==v.start.row){v.addFold(o),r=!0;break}if(u==v.end.row){v.addFold(o),r=!0;if(!o.sameRow){var m=n[d+1];if(m&&m.start.row==f){v.merge(m);break}}break}if(f<=v.start.row)break}return r||(v=this.$addFoldLine(new i(this.$foldData,o))),this.$useWrapMode?this.$updateWrapData(v.start.row,v.start.row):this.$updateRowLengthCache(v.start.row,v.start.row),this.$modified=!0,this._signal(\"changeFold\",{data:o,action:\"add\"}),o}throw new Error(\"The range has to be at least 2 characters width\")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(s.length==1)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal(\"changeFold\",{data:e,action:\"remove\"})},this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;e==null?(n=new r(0,0,this.getLength(),0),t=!0):typeof e==\"number\"?n=new r(e,0,e,this.getLine(e).length):\"row\"in e?n=r.fromPoints(e,e):n=e,i=this.getFoldsInRangeList(n);if(t)this.removeFolds(i);else{var s=i;while(s.length)this.expandFolds(s),s=this.getFoldsInRangeList(n)}if(i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){r==null&&(r=e.start.row),i==null&&(i=0),t==null&&(t=e.end.row),n==null&&(n=this.getLine(t).length);var s=this.doc,o=\"\";return e.walk(function(e,t,n,u){if(t<r)return;if(t==r){if(n<i)return;u=Math.max(i,u)}e!=null?o+=e:o+=s.getLine(t).substring(u,n)},t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(!i){var s;return s=this.doc.getLine(e),s.substring(r||0,t||s.length)}return this.getFoldDisplayLine(i,e,t,n,r)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)}),e},this.toggleFold=function(e){var t=this.selection,n=t.getRange(),r,i;if(n.isEmpty()){var s=n.start;r=this.getFoldAt(s.row,s.column);if(r){this.expandFold(r);return}(i=this.findMatchingBracket(s))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length){this.expandFolds(o);return}o.length==1&&(r=o[0])}r||(r=this.getFoldAt(n.start.row,n.start.column));if(r&&r.range.toString()==n.toString()){this.expandFold(r);return}var u=\"...\";if(!n.isMultiLine()){u=this.getTextRange(n);if(u.length<4)return;u=u.trim().substring(0,2)+\"..\"}this.addFold(u,n)},this.getCommentFoldRange=function(e,t,n){var i=new o(this,e,t),s=i.getCurrentToken(),u=s.type;if(s&&/^comment|string/.test(u)){u=u.match(/comment|string/)[0],u==\"comment\"&&(u+=\"|doc-start\");var a=new RegExp(u),f=new r;if(n!=1){do s=i.stepBackward();while(s&&a.test(s.type));i.stepForward()}f.start.row=i.getCurrentTokenRow(),f.start.column=i.getCurrentTokenColumn()+2,i=new o(this,e,t);if(n!=-1){var l=-1;do{s=i.stepForward();if(l==-1){var c=this.getState(i.$row);a.test(c)||(l=i.$row)}else if(i.$row>l)break}while(s&&a.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return f.end.row=i.getCurrentTokenRow(),f.end.column=i.getCurrentTokenColumn()+s.value.length-2,f}},this.foldAll=function(e,t,n){n==undefined&&(n=1e5);var r=this.foldWidgets;if(!r)return;t=t||this.getLength(),e=e||0;for(var i=e;i<t;i++){r[i]==null&&(r[i]=this.getFoldWidget(i));if(r[i]!=\"start\")continue;var s=this.getFoldWidgetRange(i);if(s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e){i=s.end.row;try{var o=this.addFold(\"...\",s);o&&(o.collapseChildren=n)}catch(u){}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle=\"markbegin\",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error(\"invalid fold style: \"+e+\"[\"+Object.keys(this.$foldStyles).join(\", \")+\"]\");if(this.$foldStyle==e)return;this.$foldStyle=e,e==\"manual\"&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)},this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e,this.off(\"change\",this.$updateFoldWidgets),this.off(\"tokenizerUpdate\",this.$tokenizerUpdateFoldWidgets),this._signal(\"changeAnnotation\");if(!e||this.$foldStyle==\"manual\"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on(\"change\",this.$updateFoldWidgets),this.on(\"tokenizerUpdate\",this.$tokenizerUpdateFoldWidgets)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var r=e-1,i;while(r>=0){var s=n[r];s==null&&(s=n[r]=this.getFoldWidget(r));if(s==\"start\"){var o=this.getFoldWidgetRange(r);i||(i=o);if(o&&o.end.row>=e)break}r--}return{range:r!==-1&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=\" ace_invalid\")}},this.$toggleFoldWidget=function(e,t){if(!this.getFoldWidget)return;var n=this.getFoldWidget(e),r=this.getLine(e),i=n===\"end\"?-1:1,s=this.getFoldAt(e,i===-1?0:r.length,i);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()){s=this.getFoldAt(o.start.row,o.start.column,1);if(s&&o.isEqual(s.range))return this.removeFold(s),s}if(t.siblings){var u=this.getParentFoldRangeData(e);if(u.range)var a=u.range.start.row+1,f=u.range.end.row;this.foldAll(a,f,t.all?1e4:0)}else t.children?(f=o?o.end.row:this.getLength(),this.foldAll(e+1,f,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold(\"...\",o));return o},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(n)return;var r=this.getParentFoldRangeData(t,!0);n=r.range||r.firstRange;if(n){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold(\"...\",n)}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.foldWidgets[t]=null;else if(e.action==\"remove\")this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var r=e(\"../range\").Range,i=e(\"./fold_line\").FoldLine,s=e(\"./fold\").Fold,o=e(\"../token_iterator\").TokenIterator;t.Folding=u}),define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"],function(e,t,n){\"use strict\";function s(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n==\"\")return null;var r=n.match(/([\\(\\[\\{])|([\\)\\]\\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t=this.getLine(e.row),n=!0,r,s=t.charAt(e.column-1),o=s&&s.match(/([\\(\\[\\{])|([\\)\\]\\}])/);o||(s=t.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\\(\\[\\{])|([\\)\\]\\}])/),n=!1);if(!o)return null;if(o[1]){var u=this.$findClosingBracket(o[1],e);if(!u)return null;r=i.fromPoints(e,u),n||(r.end.column++,r.start.column--),r.cursor=r.end}else{var u=this.$findOpeningBracket(o[2],e);if(!u)return null;r=i.fromPoints(u,e),n||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.$brackets={\")\":\"(\",\"(\":\")\",\"]\":\"[\",\"[\":\"]\",\"{\":\"}\",\"}\":\"{\"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp(\"(\\\\.?\"+u.type.replace(\".\",\"\\\\.\").replace(\"rparen\",\".paren\").replace(/\\b(?:end)\\b/,\"(?:start|begin|end)\")+\")+\"));var a=t.column-o.getCurrentTokenColumn()-2,f=u.value;for(;;){while(a>=0){var l=f.charAt(a);if(l==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else l==e&&(s+=1);a-=1}do u=o.stepBackward();while(u&&!n.test(u.type));if(u==null)break;f=u.value,a=f.length-1}return null},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp(\"(\\\\.?\"+u.type.replace(\".\",\"\\\\.\").replace(\"lparen\",\".paren\").replace(/\\b(?:start|begin)\\b/,\"(?:start|begin|end)\")+\")+\"));var a=t.column-o.getCurrentTokenColumn();for(;;){var f=u.value,l=f.length;while(a<l){var c=f.charAt(a);if(c==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}do u=o.stepForward();while(u&&!n.test(u.type));if(u==null)break;a=0}return null}}var r=e(\"../token_iterator\").TokenIterator,i=e(\"../range\").Range;t.BracketMatch=s}),define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/lang\"),s=e(\"./config\"),o=e(\"./lib/event_emitter\").EventEmitter,u=e(\"./selection\").Selection,a=e(\"./mode/text\").Mode,f=e(\"./range\").Range,l=e(\"./document\").Document,c=e(\"./background_tokenizer\").BackgroundTokenizer,h=e(\"./search_highlight\").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id=\"session\"+ ++p.$uid,this.$foldData.toString=function(){return this.join(\"\\n\")},this.on(\"changeFold\",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this);if(typeof e!=\"object\"||!e.getLine)e=new l(e);this.setDocument(e),this.selection=new u(this),s.resetOptions(this),this.setMode(t),s._signal(\"session\",this)};p.$uid=0,function(){function m(e){return e<4352?!1:e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}r.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener(\"change\",this.$onChange),this.doc=e,e.on(\"change\",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&!e.ignore&&(this.$deltasDoc.push(e),t&&t.length!=0&&this.$deltasFold.push({action:\"removeFolds\",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal(\"change\",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e),r,i=0;if(t==null)s=n.length-1,i=this.getLine(e).length;else for(var s=0;s<n.length;s++){i+=n[s].value.length;if(i>=t)break}return r=n[s],r?(r.index=s,r.start=i-r.value.length,r):null},this.setUndoManager=function(e){this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel();if(e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:\"fold\",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:\"doc\",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:\"aceupdate\",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(\" \",this.getTabSize()):\"\t\"},this.setUseSoftTabs=function(e){this.setOption(\"useSoftTabs\",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption(\"tabSize\",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption(\"navigateWithinSoftTabs\",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption(\"overwrite\",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=\"\"),this.$decorations[e]+=\" \"+t,this._signal(\"changeBreakpoint\",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||\"\").replace(\" \"+t,\"\"),this._signal(\"changeBreakpoint\",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]=\"ace_breakpoint\";this._signal(\"changeBreakpoint\",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal(\"changeBreakpoint\",{})},this.setBreakpoint=function(e,t){t===undefined&&(t=\"ace_breakpoint\"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal(\"changeBreakpoint\",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal(\"changeBreakpoint\",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||\"line\",renderer:typeof n==\"function\"?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._signal(\"changeFrontMarker\")):(this.$backMarkers[i]=s,this._signal(\"changeBackMarker\")),i},this.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal(\"changeFrontMarker\")):(this.$backMarkers[n]=e,this._signal(\"changeBackMarker\")),e},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?\"changeFrontMarker\":\"changeBackMarker\"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,\"ace_selected-word\",\"text\");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){typeof t!=\"number\"&&(n=t,t=e),n||(n=\"ace_step\");var i=new f(e,0,t,Infinity);return i.id=this.addMarker(i,n,\"fullLine\",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal(\"changeAnnotation\",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\\r?\\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine=\"\\n\"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe));if(r)var i=this.tokenRe;else if(/^\\s+$/.test(n.slice(t-1,t+1)))var i=/\\s/;else var i=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(i));s++}var o=t;while(o<n.length&&n.charAt(o).match(i))o++;return new f(e,s,e,o)},this.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \\t]/))n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption(\"useWorker\",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal(\"tokenizerUpdate\",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&typeof e==\"object\"){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||\"ace/mode/text\";this.$modes[\"ace/mode/text\"]||(this.$modes[\"ace/mode/text\"]=new a);if(this.$modes[r]&&!n){this.$onChangeMode(this.$modes[r]),t&&t();return}this.$modeId=r,s.loadModule([\"mode\",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes[\"ace/mode/text\"],!0)},this.$onChangeMode=function(e,t){t||(this.$modeId=e.$id);if(this.$mode===e)return;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(n.addEventListener!==undefined){var r=this.onReloadTokenizer.bind(this);n.addEventListener(\"update\",r)}if(!this.bgTokenizer){this.bgTokenizer=new c(n);var i=this;this.bgTokenizer.addEventListener(\"update\",function(e){i._signal(\"tokenizerUpdate\",e)})}else this.bgTokenizer.setTokenizer(n);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit(\"changeMode\"))},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn(\"Could not load worker\",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){if(this.$scrollTop===e||isNaN(e))return;this.$scrollTop=e,this._signal(\"changeScrollTop\",e)},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){if(this.$scrollLeft===e||isNaN(e))return;this.$scrollLeft=e,this._signal(\"changeScrollLeft\",e)},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:Infinity,u=t.length;for(var a=0;a<u;a++){if(a>o){a=s.end.row+1;if(a>=u)break;s=this.$foldData[i++],o=s?s.start.row:Infinity}n[a]==null&&(n[a]=this.$getStringScreenWidth(t[a])[0]),n[a]>r&&(r=n[a])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;var n=null;for(var r=e.length-1;r!=-1;r--){var i=e[r];i.group==\"doc\"?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n},this.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;var n=null;for(var r=0;r<e.length;r++){var i=e[r];i.group==\"doc\"&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?e.action!==\"insert\":e.action===\"insert\"}var i=e[0],s,o,u=!1;r(i)?(s=f.fromPoints(i.start,i.end),u=!0):(s=f.fromPoints(i.start,i.start),u=!1);for(var a=1;a<e.length;a++)i=e[a],r(i)?(o=i.start,s.compare(o.row,o.column)==-1&&s.setStart(o),o=i.end,s.compare(o.row,o.column)==1&&s.setEnd(o),u=!0):(o=i.start,s.compare(o.row,o.column)==-1&&(s=f.fromPoints(i.start,i.start)),u=!1);if(n!=null){f.comparePoints(n.start,s.start)===0&&(n.start.column+=s.end.column-s.start.column,n.end.column+=s.end.column-s.start.column);var l=n.compareRange(s);l==1?s.setStart(n.start):l==-1&&s.setEnd(n.end)}return s},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),s=f.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,u=o?-e.end.column:e.start.column-e.end.column;u&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}s.end=this.insert(s.start,r);if(i.length){var a=e.start,l=s.start,o=l.row-a.row,u=l.column-a.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==a.row&&(e.start.column+=u),e.end.row==a.row&&(e.end.column+=u),e.start.row+=o,e.end.row+=o,e}))}return s},this.indentRows=function(e,t,n){n=n.replace(/\\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){var t=e.collapseRows(),n=new f(0,0,0,0),r=this.getTabSize();for(var i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r;++o)if(s.charAt(o)!=\" \")break;o<r&&s.charAt(o)==\"\t\"?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t);if(n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var s=new f(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),u=n==0?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,u),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal(\"changeWrapMode\")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal(\"changeWrapMode\")},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal(\"changeWrapLimit\")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,s=r.row,o=i.row,u=o-s,a=null;this.$updating=!0;if(u!=0)if(n===\"remove\"){this[t?\"$wrapData\":\"$rowLengthCache\"].splice(s,u);var f=this.$foldData;a=this.getFoldsInRange(e),this.removeFolds(a);var l=this.getFoldLine(i.row),c=0;if(l){l.addRemoveChars(i.row,i.column,r.column-i.column),l.shiftRow(-u);var h=this.getFoldLine(s);h&&h!==l&&(h.merge(l),l=h),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=i.row&&l.shiftRow(-u)}o=s}else{var p=Array(u);p.unshift(s,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,p);var f=this.$foldData,l=this.getFoldLine(s),c=0;if(l){var v=l.range.compareInside(r.row,r.column);v==0?(l=l.split(r.row,r.column),l&&(l.shiftRow(u),l.addRemoveChars(o,0,i.column-r.column))):v==-1&&(l.addRemoveChars(s,0,i.column-r.column),l.shiftRow(u)),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=s&&l.shiftRow(u)}}else{u=Math.abs(e.start.column-e.end.column),n===\"remove\"&&(a=this.getFoldsInRange(e),this.removeFolds(a),u=-u);var l=this.getFoldLine(s);l&&l.addRemoveChars(s,r.column,u)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error(\"doc.getLength() and $wrapData.length have to be the same!\"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),a},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r=this.doc.getAllLines(),i=this.getTabSize(),s=this.$wrapData,o=this.$wrapLimit,a,f,l=e;t=Math.min(t,r.length-1);while(l<=t)f=this.getFoldLine(l,f),f?(a=[],f.walk(function(e,t,i,s){var o;if(e!=null){o=this.$getDisplayTokens(e,a.length),o[0]=n;for(var f=1;f<o.length;f++)o[f]=u}else o=this.$getDisplayTokens(r[t].substring(s,i),a.length);a=a.concat(o)}.bind(this),f.end.row,r[f.end.row].length+1),s[f.start.row]=this.$computeWrapSplits(a,o,i),l=f.end.row+1):(a=this.$getDisplayTokens(r[l]),s[l]=this.$computeWrapSplits(a,o,i),l++)};var e=1,t=2,n=3,u=4,l=9,p=10,d=11,v=12;this.$computeWrapSplits=function(e,r,i){function g(){var t=0;if(m===0)return t;if(h)for(var n=0;n<e.length;n++){var r=e[n];if(r==p)t+=1;else{if(r!=d){if(r==v)continue;break}t+=i}}return c&&h!==!1&&(t+=i),Math.min(t,m)}function y(t){var n=e.slice(a,t),r=n.length;n.join(\"\").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),s.length||(b=g(),s.indent=b),f+=r,s.push(f),a=t}if(e.length==0)return[];var s=[],o=e.length,a=0,f=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,m=r<=Math.max(2*i,8)||h===!1?0:Math.floor(r/2),b=0;while(o-a>r-b){var w=a+r-b;if(e[w-1]>=p&&e[w]>=p){y(w);continue}if(e[w]==n||e[w]==u){for(w;w!=a-1;w--)if(e[w]==n)break;if(w>a){y(w);continue}w=a+r;for(w;w<e.length;w++)if(e[w]!=u)break;if(w==e.length)break;y(w);continue}var E=Math.max(w-(r-(r>>2)),a-1);while(w>E&&e[w]<n)w--;if(c){while(w>E&&e[w]<n)w--;while(w>E&&e[w]==l)w--}else while(w>E&&e[w]<p)w--;if(w>E){y(++w);continue}w=a+r,e[w]==t&&w--,y(w-b)}return s},this.$getDisplayTokens=function(n,r){var i=[],s;r=r||0;for(var o=0;o<n.length;o++){var u=n.charCodeAt(o);if(u==9){s=this.getScreenTabSize(i.length+r),i.push(d);for(var a=1;a<s;a++)i.push(v)}else u==32?i.push(p):u>39&&u<48||u>57&&u<64?i.push(l):u>=4352&&m(u)?i.push(e,t):i.push(e)}return i},this.$getStringScreenWidth=function(e,t,n){if(t==0)return[0,0];t==null&&(t=Infinity),n=n||0;var r,i;for(i=0;i<e.length;i++){r=e.charCodeAt(i),r==9?n+=this.getScreenTabSize(n):r>=4352&&m(r)?n+=2:n+=1;if(n>t)break}return[n,i]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.getRowLineCount=function(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,r=0,i=0,s,o=0,u=0,a=this.$screenRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var o=a[f],r=this.$docRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getLength()-1,p=this.getNextFoldLine(r),d=p?p.start.row:Infinity;while(o<=e){u=this.getRowLength(r);if(o+u>e||r>=h)break;o+=u,r++,r>d&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),d=p?p.start.row:Infinity),c&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(o+u<=e||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}var v=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){var g=Math.floor(e-o);s=m[g],g>0&&m.length&&(v=m.indent,i=m[g-1]||m[m.length-1],n=n.substring(i))}}return i+=this.$getStringScreenWidth(n,t-v)[1],this.$useWrapMode&&i>=s&&(i=s-1),p?p.idxToPosition(i):{row:r,column:i}},this.documentToScreenPosition=function(e,t){if(typeof t==\"undefined\")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,u=0,a=this.$docRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var u=a[f],r=this.$screenRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getNextFoldLine(u),p=h?h.start.row:Infinity;while(u<e){if(u>=p){o=h.end.row+1;if(o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:Infinity}else o=u+1;r+=this.getRowLength(u),u=o,c&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var d=\"\";h&&u>=p?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);var v=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){var g=0;while(d.length>=m[g])r++,g++;d=d.substring(m[g-1]||0,d.length),v=g>0?m.indent:0}}return{row:r,column:v+this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var r=0;r<n.length;r++)t=n[r],e-=t.end.row-t.start.row}else{var i=this.$wrapData.length,s=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;while(s<i){var u=this.$wrapData[s];e+=u?u.length+1:1,s++,s>o&&(s=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(t,n,r){if(n===0)return[0,0];n||(n=Infinity),r=r||0;var i,s;for(s=0;s<t.length;s++){i=t.charAt(s),i===\"\t\"?r+=this.getScreenTabSize(r):r+=e.getCharacterWidth(i);if(r>n)break}return[r,s]}},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}.call(p.prototype),e(\"./edit_session/folding\").Folding.call(p.prototype),e(\"./edit_session/bracket_match\").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,\"session\",{wrap:{set:function(e){!e||e==\"off\"?e=!1:e==\"free\"?e=!0:e==\"printMargin\"?e=-1:typeof e==\"string\"&&(e=parseInt(e,10)||!1);if(this.$wrap==e)return;this.$wrap=e;if(!e)this.setUseWrapMode(!1);else{var t=typeof e==\"number\"?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?\"printMargin\":this.getWrapLimitRange().min?this.$wrap:\"free\":\"off\"},handlesSet:!0},wrapMethod:{set:function(e){e=e==\"auto\"?this.$mode.type!=\"text\":e!=\"text\",e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:\"auto\"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal(\"changeBreakpoint\")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){if(isNaN(e)||this.$tabSize===e)return;this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal(\"changeTabSize\")},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(e){this._signal(\"changeOverwrite\")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"],function(e,t,n){\"use strict\";function u(e,t){function n(e){return/\\w/.test(e)||t.regExp?\"\\\\b\":\"\"}return n(e[0])+e+n(e[e.length-1])}var r=e(\"./lib/lang\"),i=e(\"./lib/oop\"),s=e(\"./range\").Range,o=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i,o){return r=new s(e,n,i,o),n==o&&t.start&&t.start.start&&t.skipCurrent!=0&&r.isEqual(t.start)?(r=null,!1):!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],u=t.re;if(t.$isMultiLine){var a=u.length,f=i.length-a,l;e:for(var c=u.offset||0;c<=f;c++){for(var h=0;h<a;h++)if(i[c+h].search(u[h])==-1)continue e;var p=i[c],d=i[c+a-1],v=p.length-p.match(u[0])[0].length,m=d.match(u[a-1])[0].length;if(l&&l.end.row===c&&l.end.column>v)continue;o.push(l=new s(c,v,c+a-1,m)),a>2&&(c=c+a-2)}}else for(var g=0;g<i.length;g++){var y=r.getMatchOffsets(i[g],u);for(var h=0;h<y.length;h++){var b=y[h];o.push(new s(g,b.offset,g,b.offset+b.length))}}if(n){var w=n.start.column,E=n.start.column,g=0,h=o.length-1;while(g<h&&o[g].start.column<w&&o[g].start.row==n.start.row)g++;while(g<h&&o[h].end.column>E&&o[h].end.row==n.end.row)h--;o=o.slice(g,h+1);for(g=0,h=o.length;g<h;g++)o[g].start.row+=n.start.row,o[g].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!r)return;var i=r.exec(e);if(!i||i[0].length!=e.length)return null;t=e.replace(r,t);if(n.preserveCase){t=t.split(\"\");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join(\"\")}return t},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=u(n,e));var i=e.caseSensitive?\"gm\":\"gmi\";e.$isMultiLine=!t&&/[\\n\\r]/.test(n);if(e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var s=new RegExp(n,i)}catch(o){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){var n=e.replace(/\\r\\n|\\r|\\n/g,\"$\\n^\").split(\"\\n\"),r=[];for(var i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(s){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=t.backwards==1,i=t.skipCurrent!=0,s=t.range,o=t.start;o||(o=s?s[r?\"end\":\"start\"]:e.selection.getRange()),o.start&&(o=o[i!=r?\"end\":\"start\"]);var u=s?s.start.row:0,a=s?s.end.row:e.getLength()-1;if(r)var f=function(e){var n=o.row;if(c(n,o.column,e))return;for(n--;n>=u;n--)if(c(n,Number.MAX_VALUE,e))return;if(t.wrap==0)return;for(n=a,u=o.row;n>=u;n--)if(c(n,Number.MAX_VALUE,e))return};else var f=function(e){var n=o.row;if(c(n,o.column,e))return;for(n+=1;n<=a;n++)if(c(n,0,e))return;if(t.wrap==0)return;for(n=u,a=o.row;n<=a;n++)if(c(n,0,e))return};if(t.$isMultiLine)var l=n.length,c=function(t,i,s){var o=r?t-l+1:t;if(o<0)return;var u=e.getLine(o),a=u.search(n[0]);if(!r&&a<i||a===-1)return;for(var f=1;f<l;f++){u=e.getLine(o+f);if(u.search(n[f])==-1)return}var c=u.match(n[l-1])[0].length;if(r&&c>i)return;if(s(o,a,o+l-1,c))return!0};else if(r)var c=function(t,r,i){var s=e.getLine(t),o=[],u,a=0;n.lastIndex=0;while(u=n.exec(s)){var f=u[0].length;a=u.index;if(!f){if(a>=s.length)break;n.lastIndex=a+=1}if(u.index+f>r)break;o.push(u.index,f)}for(var l=o.length-1;l>=0;l-=2){var c=o[l-1],f=o[l];if(i(t,c,t,c+f))return!0}};else var c=function(t,r,i){var s=e.getLine(t),o,u=r;n.lastIndex=r;while(o=n.exec(s)){var a=o[0].length;u=o.index;if(i(t,u,t,u+a))return!0;if(!a){n.lastIndex=u+=1;if(u>=s.length)return!1}}};return{forEach:f}}}).call(o.prototype),t.Search=o}),define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"],function(e,t,n){\"use strict\";function o(e,t){this.platform=t||(i.isMac?\"mac\":\"win\"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function u(e,t){o.call(this,e,t),this.$singleCommand=!1}var r=e(\"../lib/keys\"),i=e(\"../lib/useragent\"),s=r.KEY_MODS;u.prototype=o.prototype,function(){function e(e){return typeof e==\"object\"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&(typeof e==\"string\"?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var s=r[i];if(s==e)delete r[i];else if(Array.isArray(s)){var o=s.indexOf(e);o!=-1&&(s.splice(o,1),s.length==1&&(r[i]=s[0]))}}},this.bindKey=function(e,t,n){typeof e==\"object\"&&e&&(n==undefined&&(n=e.position),e=e[this.platform]);if(!e)return;if(typeof t==\"function\")return this.addCommand({exec:t,bindKey:e,name:t.name||e});e.split(\"|\").forEach(function(e){var r=\"\";if(e.indexOf(\" \")!=-1){var i=e.split(/\\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?\" \":\"\")+n,this._addCommandToBinding(r,\"chainKeys\")},this),r+=\" \"}var o=this.parseKeys(e),u=s[o.hashId]+o.key;this._addCommandToBinding(r+u,t,n)},this)},this._addCommandToBinding=function(t,n,r){var i=this.commandKeyBinding,s;if(!n)delete i[t];else if(!i[t]||this.$singleCommand)i[t]=n;else{Array.isArray(i[t])?(s=i[t].indexOf(n))!=-1&&i[t].splice(s,1):i[t]=[i[t]],typeof r!=\"number\"&&(r=e(n));var o=i[t];for(s=0;s<o.length;s++){var u=o[s],a=e(u);if(a>r)break}o.splice(s,0,n)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(!n)return;if(typeof n==\"string\")return this.bindKey(n,t);typeof n==\"function\"&&(n={exec:n});if(typeof n!=\"object\")return;n.name||(n.name=t),this.addCommand(n)},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(t.length==1&&t[0]==\"shift\")return{key:n.toUpperCase(),hashId:-1}}var s=0;for(var o=t.length;o--;){var u=r.KEY_MODS[t[o]];if(u==null)return typeof console!=\"undefined\"&&console.error(\"invalid modifier \"+t[o]+\" in \"+e),!1;s|=u}return{key:n,hashId:s}},this.findKeyCommand=function(t,n){var r=s[t]+n;return this.commandKeyBinding[r]},this.handleKeyboard=function(e,t,n,r){if(r<0)return;var i=s[t]+n,o=this.commandKeyBinding[i];e.$keyChain&&(e.$keyChain+=\" \"+i,o=this.commandKeyBinding[e.$keyChain]||o);if(o)if(o==\"chainKeys\"||o[o.length-1]==\"chainKeys\")return e.$keyChain=e.$keyChain||i,{command:\"null\"};if(e.$keyChain)if(!!t&&t!=4||n.length!=1){if(t==-1||r>0)e.$keyChain=\"\"}else e.$keyChain=e.$keyChain.slice(0,-i.length-1);return{command:o}},this.getStatusText=function(e,t){return t.$keyChain||\"\"}}.call(o.prototype),t.HashHandler=o,t.MultiHashHandler=u}),define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../keyboard/hash_handler\").MultiHashHandler,s=e(\"../lib/event_emitter\").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler(\"exec\",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(o,i),function(){r.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}typeof e==\"string\"&&(e=this.commands[e]);if(!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit(\"exec\",i),this._signal(\"afterExec\",i),i.returnValue===!1?!1:!0},this.toggleRecording=function(e){if(this.$inReplay)return;return e&&e._emit(\"changeStatus\"),this.recording?(this.macro.pop(),this.removeEventListener(\"exec\",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on(\"exec\",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t==\"string\"?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}},this.trimMacro=function(e){return e.map(function(e){return typeof e[0]!=\"string\"&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"],function(e,t,n){\"use strict\";function o(e,t){return{win:e,mac:t}}var r=e(\"../lib/lang\"),i=e(\"../config\"),s=e(\"../range\").Range;t.commands=[{name:\"showSettingsMenu\",bindKey:o(\"Ctrl-,\",\"Command-,\"),exec:function(e){i.loadModule(\"ace/ext/settings_menu\",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:\"goToNextError\",bindKey:o(\"Alt-E\",\"F4\"),exec:function(e){i.loadModule(\"ace/ext/error_marker\",function(t){t.showErrorMarker(e,1)})},scrollIntoView:\"animate\",readOnly:!0},{name:\"goToPreviousError\",bindKey:o(\"Alt-Shift-E\",\"Shift-F4\"),exec:function(e){i.loadModule(\"ace/ext/error_marker\",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:\"animate\",readOnly:!0},{name:\"selectall\",bindKey:o(\"Ctrl-A\",\"Command-A\"),exec:function(e){e.selectAll()},readOnly:!0},{name:\"centerselection\",bindKey:o(null,\"Ctrl-L\"),exec:function(e){e.centerSelection()},readOnly:!0},{name:\"gotoline\",bindKey:o(\"Ctrl-L\",\"Command-L\"),exec:function(e){var t=parseInt(prompt(\"Enter line number:\"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:\"fold\",bindKey:o(\"Alt-L|Ctrl-F1\",\"Command-Alt-L|Command-F1\"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"unfold\",bindKey:o(\"Alt-Shift-L|Ctrl-Shift-F1\",\"Command-Alt-Shift-L|Command-Shift-F1\"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"toggleFoldWidget\",bindKey:o(\"F2\",\"F2\"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"toggleParentFoldWidget\",bindKey:o(\"Alt-F2\",\"Alt-F2\"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"foldall\",bindKey:o(null,\"Ctrl-Command-Option-0\"),exec:function(e){e.session.foldAll()},scrollIntoView:\"center\",readOnly:!0},{name:\"foldOther\",bindKey:o(\"Alt-0\",\"Command-Option-0\"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:\"center\",readOnly:!0},{name:\"unfoldall\",bindKey:o(\"Alt-Shift-0\",\"Command-Option-Shift-0\"),exec:function(e){e.session.unfold()},scrollIntoView:\"center\",readOnly:!0},{name:\"findnext\",bindKey:o(\"Ctrl-K\",\"Command-G\"),exec:function(e){e.findNext()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"findprevious\",bindKey:o(\"Ctrl-Shift-K\",\"Command-Shift-G\"),exec:function(e){e.findPrevious()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"selectOrFindNext\",bindKey:o(\"Alt-K\",\"Ctrl-G\"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:\"selectOrFindPrevious\",bindKey:o(\"Alt-Shift-K\",\"Ctrl-Shift-G\"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:\"find\",bindKey:o(\"Ctrl-F\",\"Command-F\"),exec:function(e){i.loadModule(\"ace/ext/searchbox\",function(t){t.Search(e)})},readOnly:!0},{name:\"overwrite\",bindKey:\"Insert\",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:\"selecttostart\",bindKey:o(\"Ctrl-Shift-Home\",\"Command-Shift-Home|Command-Shift-Up\"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"gotostart\",bindKey:o(\"Ctrl-Home\",\"Command-Home|Command-Up\"),exec:function(e){e.navigateFileStart()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"selectup\",bindKey:o(\"Shift-Up\",\"Shift-Up|Ctrl-Shift-P\"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"golineup\",bindKey:o(\"Up\",\"Up|Ctrl-P\"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttoend\",bindKey:o(\"Ctrl-Shift-End\",\"Command-Shift-End|Command-Shift-Down\"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"gotoend\",bindKey:o(\"Ctrl-End\",\"Command-End|Command-Down\"),exec:function(e){e.navigateFileEnd()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"selectdown\",bindKey:o(\"Shift-Down\",\"Shift-Down|Ctrl-Shift-N\"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"golinedown\",bindKey:o(\"Down\",\"Down|Ctrl-N\"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectwordleft\",bindKey:o(\"Ctrl-Shift-Left\",\"Option-Shift-Left\"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotowordleft\",bindKey:o(\"Ctrl-Left\",\"Option-Left\"),exec:function(e){e.navigateWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttolinestart\",bindKey:o(\"Alt-Shift-Left\",\"Command-Shift-Left|Ctrl-Shift-A\"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotolinestart\",bindKey:o(\"Alt-Left|Home\",\"Command-Left|Home|Ctrl-A\"),exec:function(e){e.navigateLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectleft\",bindKey:o(\"Shift-Left\",\"Shift-Left|Ctrl-Shift-B\"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotoleft\",bindKey:o(\"Left\",\"Left|Ctrl-B\"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectwordright\",bindKey:o(\"Ctrl-Shift-Right\",\"Option-Shift-Right\"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotowordright\",bindKey:o(\"Ctrl-Right\",\"Option-Right\"),exec:function(e){e.navigateWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttolineend\",bindKey:o(\"Alt-Shift-Right\",\"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotolineend\",bindKey:o(\"Alt-Right|End\",\"Command-Right|End|Ctrl-E\"),exec:function(e){e.navigateLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectright\",bindKey:o(\"Shift-Right\",\"Shift-Right\"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotoright\",bindKey:o(\"Right\",\"Right|Ctrl-F\"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectpagedown\",bindKey:\"Shift-PageDown\",exec:function(e){e.selectPageDown()},readOnly:!0},{name:\"pagedown\",bindKey:o(null,\"Option-PageDown\"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:\"gotopagedown\",bindKey:o(\"PageDown\",\"PageDown|Ctrl-V\"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:\"selectpageup\",bindKey:\"Shift-PageUp\",exec:function(e){e.selectPageUp()},readOnly:!0},{name:\"pageup\",bindKey:o(null,\"Option-PageUp\"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:\"gotopageup\",bindKey:\"PageUp\",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:\"scrollup\",bindKey:o(\"Ctrl-Up\",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:\"scrolldown\",bindKey:o(\"Ctrl-Down\",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:\"selectlinestart\",bindKey:\"Shift-Home\",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectlineend\",bindKey:\"Shift-End\",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"togglerecording\",bindKey:o(\"Ctrl-Alt-E\",\"Command-Option-E\"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:\"replaymacro\",bindKey:o(\"Ctrl-Shift-E\",\"Command-Shift-E\"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:\"jumptomatching\",bindKey:o(\"Ctrl-P\",\"Ctrl-P\"),exec:function(e){e.jumpToMatching()},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"selecttomatching\",bindKey:o(\"Ctrl-Shift-P\",\"Ctrl-Shift-P\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"expandToMatching\",bindKey:o(\"Ctrl-Shift-M\",\"Ctrl-Shift-M\"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"passKeysToBrowser\",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:\"copy\",exec:function(e){},readOnly:!0},{name:\"cut\",exec:function(e){var t=e.getSelectionRange();e._emit(\"cut\",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"paste\",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:\"cursor\"},{name:\"removeline\",bindKey:o(\"Ctrl-D\",\"Command-D\"),exec:function(e){e.removeLines()},scrollIntoView:\"cursor\",multiSelectAction:\"forEachLine\"},{name:\"duplicateSelection\",bindKey:o(\"Ctrl-Shift-D\",\"Command-Shift-D\"),exec:function(e){e.duplicateSelection()},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"sortlines\",bindKey:o(\"Ctrl-Alt-S\",\"Command-Alt-S\"),exec:function(e){e.sortLines()},scrollIntoView:\"selection\",multiSelectAction:\"forEachLine\"},{name:\"togglecomment\",bindKey:o(\"Ctrl-/\",\"Command-/\"),exec:function(e){e.toggleCommentLines()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"toggleBlockComment\",bindKey:o(\"Ctrl-Shift-/\",\"Command-Shift-/\"),exec:function(e){e.toggleBlockComment()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"modifyNumberUp\",bindKey:o(\"Ctrl-Shift-Up\",\"Alt-Shift-Up\"),exec:function(e){e.modifyNumber(1)},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"modifyNumberDown\",bindKey:o(\"Ctrl-Shift-Down\",\"Alt-Shift-Down\"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"replace\",bindKey:o(\"Ctrl-H\",\"Command-Option-F\"),exec:function(e){i.loadModule(\"ace/ext/searchbox\",function(t){t.Search(e,!0)})}},{name:\"undo\",bindKey:o(\"Ctrl-Z\",\"Command-Z\"),exec:function(e){e.undo()}},{name:\"redo\",bindKey:o(\"Ctrl-Shift-Z|Ctrl-Y\",\"Command-Shift-Z|Command-Y\"),exec:function(e){e.redo()}},{name:\"copylinesup\",bindKey:o(\"Alt-Shift-Up\",\"Command-Option-Up\"),exec:function(e){e.copyLinesUp()},scrollIntoView:\"cursor\"},{name:\"movelinesup\",bindKey:o(\"Alt-Up\",\"Option-Up\"),exec:function(e){e.moveLinesUp()},scrollIntoView:\"cursor\"},{name:\"copylinesdown\",bindKey:o(\"Alt-Shift-Down\",\"Command-Option-Down\"),exec:function(e){e.copyLinesDown()},scrollIntoView:\"cursor\"},{name:\"movelinesdown\",bindKey:o(\"Alt-Down\",\"Option-Down\"),exec:function(e){e.moveLinesDown()},scrollIntoView:\"cursor\"},{name:\"del\",bindKey:o(\"Delete\",\"Delete|Ctrl-D|Shift-Delete\"),exec:function(e){e.remove(\"right\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"backspace\",bindKey:o(\"Shift-Backspace|Backspace\",\"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),exec:function(e){e.remove(\"left\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"cut_or_delete\",bindKey:o(\"Shift-Delete\",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove(\"left\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolinestart\",bindKey:o(\"Alt-Backspace\",\"Command-Backspace\"),exec:function(e){e.removeToLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolineend\",bindKey:o(\"Alt-Delete\",\"Ctrl-K\"),exec:function(e){e.removeToLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removewordleft\",bindKey:o(\"Ctrl-Backspace\",\"Alt-Backspace|Ctrl-Alt-Backspace\"),exec:function(e){e.removeWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removewordright\",bindKey:o(\"Ctrl-Delete\",\"Alt-Delete\"),exec:function(e){e.removeWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"outdent\",bindKey:o(\"Shift-Tab\",\"Shift-Tab\"),exec:function(e){e.blockOutdent()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"indent\",bindKey:o(\"Tab\",\"Tab\"),exec:function(e){e.indent()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"blockoutdent\",bindKey:o(\"Ctrl-[\",\"Ctrl-[\"),exec:function(e){e.blockOutdent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"blockindent\",bindKey:o(\"Ctrl-]\",\"Ctrl-]\"),exec:function(e){e.blockIndent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"insertstring\",exec:function(e,t){e.insert(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"inserttext\",exec:function(e,t){e.insert(r.stringRepeat(t.text||\"\",t.times||1))},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"splitline\",bindKey:o(null,\"Ctrl-O\"),exec:function(e){e.splitLine()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"transposeletters\",bindKey:o(\"Alt-Shift-X\",\"Ctrl-T\"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:\"cursor\"},{name:\"touppercase\",bindKey:o(\"Ctrl-U\",\"Ctrl-U\"),exec:function(e){e.toUpperCase()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"tolowercase\",bindKey:o(\"Ctrl-Shift-U\",\"Ctrl-Shift-U\"),exec:function(e){e.toLowerCase()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"expandtoline\",bindKey:o(\"Ctrl-Shift-L\",\"Command-Shift-L\"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"joinlines\",bindKey:o(null,null),exec:function(e){var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,u=e.session.doc.getTextRange(e.selection.getRange()),a=u.replace(/\\n\\s*/,\" \").length,f=e.session.doc.getLine(n.row);for(var l=n.row+1;l<=i.row+1;l++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));c.length!==0&&(c=\" \"+c),f+=c}i.row+1<e.session.doc.getLength()-1&&(f+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,i.row+2,0),f),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:\"forEach\",readOnly:!0},{name:\"invertSelection\",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==t||r[o].end.column!==n)&&i.push(new s(r[o].end.row,r[o].end.column,t,n)),o===0?(r[o].start.row!==0||r[o].start.column!==0)&&i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:\"none\"}]}),define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\"],function(e,t,n){\"use strict\";e(\"./lib/fixoldbrowsers\");var r=e(\"./lib/oop\"),i=e(\"./lib/dom\"),s=e(\"./lib/lang\"),o=e(\"./lib/useragent\"),u=e(\"./keyboard/textinput\").TextInput,a=e(\"./mouse/mouse_handler\").MouseHandler,f=e(\"./mouse/fold_handler\").FoldHandler,l=e(\"./keyboard/keybinding\").KeyBinding,c=e(\"./edit_session\").EditSession,h=e(\"./search\").Search,p=e(\"./range\").Range,d=e(\"./lib/event_emitter\").EventEmitter,v=e(\"./commands/command_manager\").CommandManager,m=e(\"./commands/default_commands\").commands,g=e(\"./config\"),y=e(\"./token_iterator\").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.id=\"editor\"+ ++b.$uid,this.commands=new v(o.isMac?\"mac\":\"win\",m),typeof document==\"object\"&&(this.textInput=new u(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new f(this)),this.keyBinding=new l(this),this.$blockScrolling=0,this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on(\"exec\",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal(\"input\",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on(\"change\",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new c(\"\")),g.resetOptions(this),g._signal(\"editor\",this)};b.$uid=0,function(){r.implement(this,d),this.$initOperationListeners=function(){function e(e){return e[e.length-1]}this.selections=[],this.commands.on(\"exec\",this.startOperation.bind(this),!0),this.commands.on(\"afterExec\",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this)),this.on(\"change\",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on(\"changeSelection\",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&this.curOp.command.scrollIntoView!==undefined&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;this._signal(\"beforeEndOperation\");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case\"center-animate\":n=\"animate\";case\"center\":this.renderer.scrollCursorIntoView(null,.5);break;case\"animate\":case\"cursor\":this.renderer.scrollCursorIntoView();break;case\"selectionPart\":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}n==\"animate\"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=[\"backspace\",\"del\",\"insertstring\"],this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if(e.command.name==\"insertstring\"){var i=e.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\\s/.test(i)||/\\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;this.$mergeUndoDeltas!=\"always\"&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())},this.setKeyboardHandler=function(e,t){if(e&&typeof e==\"string\"){this.$keybindingId=e;var n=this;g.loadModule([\"keybinding\",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session==e)return;this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off(\"change\",this.$onDocumentChange),this.session.off(\"changeMode\",this.$onChangeMode),this.session.off(\"tokenizerUpdate\",this.$onTokenizerUpdate),this.session.off(\"changeTabSize\",this.$onChangeTabSize),this.session.off(\"changeWrapLimit\",this.$onChangeWrapLimit),this.session.off(\"changeWrapMode\",this.$onChangeWrapMode),this.session.off(\"changeFold\",this.$onChangeFold),this.session.off(\"changeFrontMarker\",this.$onChangeFrontMarker),this.session.off(\"changeBackMarker\",this.$onChangeBackMarker),this.session.off(\"changeBreakpoint\",this.$onChangeBreakpoint),this.session.off(\"changeAnnotation\",this.$onChangeAnnotation),this.session.off(\"changeOverwrite\",this.$onCursorChange),this.session.off(\"changeScrollTop\",this.$onScrollTopChange),this.session.off(\"changeScrollLeft\",this.$onScrollLeftChange);var n=this.session.getSelection();n.off(\"changeCursor\",this.$onCursorChange),n.off(\"changeSelection\",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on(\"change\",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on(\"changeMode\",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on(\"tokenizerUpdate\",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on(\"changeTabSize\",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on(\"changeWrapLimit\",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on(\"changeWrapMode\",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on(\"changeFold\",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on(\"changeFrontMarker\",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on(\"changeBackMarker\",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on(\"changeBreakpoint\",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on(\"changeAnnotation\",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on(\"changeOverwrite\",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on(\"changeScrollTop\",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on(\"changeScrollLeft\",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on(\"changeCursor\",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on(\"changeSelection\",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal(\"changeSession\",{session:e,oldSession:t}),this.curOp=null,t&&t._signal(\"changeEditor\",{oldEditor:this}),e&&e._signal(\"changeEditor\",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption(\"fontSize\")||i.computedStyle(this.container,\"fontSize\")},this.setFontSize=function(e){this.setOption(\"fontSize\",e)},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(this.$highlightPending)return;var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(!t||!t.bgTokenizer)return;var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,\"ace_bracket\",\"text\"))},50)},this.$highlightTags=function(){if(this.$highlightTagPending)return;var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(!t||!t.bgTokenizer)return;var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\\b(?:tag-open|tag-name)/.test(i.type)){t.removeMarker(t.$tagHighlight),t.$tagHighlight=null;return}if(i.type.indexOf(\"tag-open\")!=-1){i=r.stepForward();if(!i)return}var s=i.value,o=0,u=r.stepBackward();if(u.value==\"<\"){do u=i,i=r.stepForward(),i&&i.value===s&&i.type.indexOf(\"tag-name\")!==-1&&(u.value===\"<\"?o++:u.value===\"</\"&&o--);while(i&&o>=0)}else{do i=u,u=r.stepBackward(),i&&i.value===s&&i.type.indexOf(\"tag-name\")!==-1&&(u.value===\"<\"?o++:u.value===\"</\"&&o--);while(u&&o<=0);r.stepForward()}if(!i){t.removeMarker(t.$tagHighlight),t.$tagHighlight=null;return}var a=r.getCurrentTokenRow(),f=r.getCurrentTokenColumn(),l=new p(a,f,a,f+i.value.length),c=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&c!=undefined&&l.compareRange(c.range)!==0&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),l&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(l,\"ace_bracket\",\"text\"))},50)},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit(\"focus\",e)},this.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit(\"blur\",e)},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:Infinity;this.renderer.updateLines(e.start.row,n,t),this._signal(\"change\",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(g.warn(\"Automatically scrolling cursor into view after selection change\",\"this will be disabled in the next version\",\"set editor.$blockScrolling = Infinity to disable this message\"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal(\"changeSelection\")},this.$updateHighlightActiveLine=function(){var e=this.getSession(),t;if(this.$highlightActiveLine){if(this.$selectionStyle!=\"line\"||!this.selection.isMultiLine())t=this.getCursorPosition();this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(t=!1)}if(e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new p(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,\"ace_active-line\",\"screenLine\"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal(\"changeBackMarker\"))},this.onSelectionChange=function(e){var t=this.session;t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,\"ace_selection\",r)}else this.$updateHighlightActiveLine();var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal(\"changeSelection\")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),s=i.length,o=i.substring(Math.max(n,0),Math.min(r,s));if(n>=0&&/^[\\w\\d]/.test(o)||r<=s&&/[\\w\\d]$/.test(o))return;o=i.substring(t.start.column,t.end.column);if(!/^[\\w\\d]+$/.test(o))return;var u=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o});return u},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit(\"changeMode\",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal(\"copy\",e),e},this.onCopy=function(){this.commands.exec(\"copy\",this)},this.onCut=function(){this.commands.exec(\"cut\",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec(\"paste\",this,n)},this.$handlePaste=function(e){typeof e==\"string\"&&(e={text:e}),this._signal(\"paste\",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\\r\\n|\\r|\\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec(\"insertstring\",this,t);for(var i=r.length;i--;){var s=r[i];s.isEmpty()||this.session.remove(s),this.session.insert(s.start,n[i])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=r.transformAction(n.getState(i.row),\"insertion\",this,n,e);s&&(e!==s.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=s.text)}e==\"\t\"&&(e=this.session.getTabString());if(!this.selection.isEmpty()){var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}else if(this.session.getOverwrite()&&e.indexOf(\"\\n\")==-1){var o=new p.fromPoints(i,i);o.end.column+=e.length,this.session.remove(o)}if(e==\"\\n\"||e==\"\\r\\n\"){var u=n.getLine(i.row);if(i.column>u.search(/\\S|$/)){var a=u.substr(i.column).search(/\\S|$/);n.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();var f=i.column,l=n.getState(i.row),u=n.getLine(i.row),c=r.checkOutdent(l,u,e),h=n.insert(i,e);s&&s.selection&&(s.selection.length==2?this.selection.setSelectionRange(new p(i.row,f+s.selection[0],i.row,f+s.selection[1])):this.selection.setSelectionRange(new p(i.row+s.selection[0],s.selection[1],i.row+s.selection[2],s.selection[3])));if(n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(l,u.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}c&&r.autoOutdent(l,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption(\"scrollSpeed\",e)},this.getScrollSpeed=function(){return this.getOption(\"scrollSpeed\")},this.setDragDelay=function(e){this.setOption(\"dragDelay\",e)},this.getDragDelay=function(){return this.getOption(\"dragDelay\")},this.setSelectionStyle=function(e){this.setOption(\"selectionStyle\",e)},this.getSelectionStyle=function(){return this.getOption(\"selectionStyle\")},this.setHighlightActiveLine=function(e){this.setOption(\"highlightActiveLine\",e)},this.getHighlightActiveLine=function(){return this.getOption(\"highlightActiveLine\")},this.setHighlightGutterLine=function(e){this.setOption(\"highlightGutterLine\",e)},this.getHighlightGutterLine=function(){return this.getOption(\"highlightGutterLine\")},this.setHighlightSelectedWord=function(e){this.setOption(\"highlightSelectedWord\",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption(\"readOnly\",e)},this.getReadOnly=function(){return this.getOption(\"readOnly\")},this.setBehavioursEnabled=function(e){this.setOption(\"behavioursEnabled\",e)},this.getBehavioursEnabled=function(){return this.getOption(\"behavioursEnabled\")},this.setWrapBehavioursEnabled=function(e){this.setOption(\"wrapBehavioursEnabled\",e)},this.getWrapBehavioursEnabled=function(){return this.getOption(\"wrapBehavioursEnabled\")},this.setShowFoldWidgets=function(e){this.setOption(\"showFoldWidgets\",e)},this.getShowFoldWidgets=function(){return this.getOption(\"showFoldWidgets\")},this.setFadeFoldWidgets=function(e){this.setOption(\"fadeFoldWidgets\",e)},this.getFadeFoldWidgets=function(){return this.getOption(\"fadeFoldWidgets\")},this.remove=function(e){this.selection.isEmpty()&&(e==\"left\"?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,\"deletion\",this,n,t);if(t.end.column===0){var s=n.getTextRange(t);if(s[s.length-1]==\"\\n\"){var o=n.getLine(t.end.row);/^\\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert(\"\\n\"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var e=this.getCursorPosition(),t=e.column;if(t===0)return;var n=this.session.getLine(e.row),r,i;t<n.length?(r=n.charAt(t)+n.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(r=n.charAt(t-1)+n.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,r),this.session.selection.moveToPosition(i.end)},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,\"\t\");return}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\\s+$/.test(r)){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,\"\t\");return}}var i=e.getLine(t.start.row),o=t.start,u=e.getTabSize(),a=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var f=u-a%u,l=s.stringRepeat(\" \",f);else{var f=a%u;while(i[t.start.column-1]==\" \"&&f)t.start.column--,f--;this.selection.setSelectionRange(t),l=\"\t\"}return this.insert(l)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,\"\t\")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var r=new p(0,0,0,0);for(var i=e.first;i<=e.last;i++){var s=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=s.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\\-]?[0-9]+(?:\\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var s={value:i[0],start:i.index,end:i.index+i[0].length};return s}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(\".\")>=0?s.start+s.value.indexOf(\".\")+1:s.end,u=s.start+s.value.length-o,a=parseFloat(s.value);a*=Math.pow(10,u),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),a+=e,a/=Math.pow(10,u);var f=a.toFixed(u),l=new p(t,s.start,t,s.end);this.session.replace(l,f),this.moveCursorTo(t,Math.max(s.start+1,n+f.length-s.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var s=r?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var s=i.toOrientedRange();n=this.$getSelectedRows(s),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(r=0),s.moveBy(r,0),i.fromOrientedRange(s)}else{var o=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;var u=0,a=0,f=o.length;for(var l=0;l<f;l++){var c=l;o[l].moveBy(u,0),n=this.$getSelectedRows(o[l]);var h=n.first,p=n.last;while(++l<f){a&&o[l].moveBy(a,0);var d=this.$getSelectedRows(o[l]);if(t&&d.first!=p)break;if(!t&&d.first>p+1)break;p=d.last}l--,u=this.session.$moveLines(h,p,t?0:e),t&&e==-1&&(c=l+1);while(c<=l)o[c].moveBy(u,0),c++;t||(u=0),a+=u}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),t!=null&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),s=i||r.stepForward();if(!s)return;var o,u=!1,a={},f=n.column-s.start,l,c={\")\":\"(\",\"(\":\"(\",\"]\":\"[\",\"[\":\"[\",\"{\":\"{\",\"}\":\"{\"};do{if(s.value.match(/[{}()\\[\\]]/g))for(;f<s.value.length&&!u;f++){if(!c[s.value[f]])continue;l=c[s.value[f]]+\".\"+s.type.replace(\"rparen\",\"lparen\"),isNaN(a[l])&&(a[l]=0);switch(s.value[f]){case\"(\":case\"[\":case\"{\":a[l]++;break;case\")\":case\"]\":case\"}\":a[l]--,a[l]===-1&&(o=\"bracket\",u=!0)}}else s&&s.type.indexOf(\"tag-name\")!==-1&&(isNaN(a[s.value])&&(a[s.value]=0),i.value===\"<\"?a[s.value]++:i.value===\"</\"&&a[s.value]--,a[s.value]===-1&&(o=\"tag\",u=!0));u||(i=s,s=r.stepForward(),f=0)}while(s&&!u);if(!o)return;var h,d;if(o===\"bracket\"){h=this.session.getBracketRange(n);if(!h){h=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+f-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+f-1),d=h.start;if(t||d.row===n.row&&Math.abs(d.column-n.column)<2)h=this.session.getBracketRange(d)}}else if(o===\"tag\"){if(!s||s.type.indexOf(\"tag-name\")===-1)return;var v=s.value;h=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2);if(h.compare(n.row,n.column)===0){u=!1;do s=i,i=r.stepBackward(),i&&(i.type.indexOf(\"tag-close\")!==-1&&h.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),s.value===v&&s.type.indexOf(\"tag-name\")!==-1&&(i.value===\"<\"?a[v]++:i.value===\"</\"&&a[v]--,a[v]===0&&(u=!0)));while(i&&!u)}s&&s.type.indexOf(\"tag-name\")&&(d=h.start,d.row==n.row&&Math.abs(d.column-n.column)<2&&(d=h.end))}d=h&&h.cursor||d,d&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):this.selection.moveTo(d.row,d.column))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorLeft()}this.clearSelection()},this.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorRight()}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),n!==null&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),t!==null?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),typeof e==\"string\"||e instanceof RegExp?t.needle=e:typeof e==\"object\"&&r.mixin(t,e);var i=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);if(t.preventScroll)return s;if(s)return this.revealRange(s,n),s;t.backwards?i.start=i.end:i.end=i.start,this.selection.setRange(i)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal(\"destroy\",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(!e)return;var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement(\"div\"));var i=this.$scrollAnchor;i.style.cssText=\"position:absolute\",this.container.insertBefore(i,this.container.firstChild);var s=this.on(\"changeSelection\",function(){r=!0}),o=this.renderer.on(\"beforeRender\",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),u=this.renderer.on(\"afterRender\",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,u=s.top-o.offset;s.top>=0&&u+t.top<0?r=!0:s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight?r=!1:r=null,r!=null&&(i.style.top=u+\"px\",i.style.left=s.left+\"px\",i.style.height=o.lineHeight+\"px\",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){if(e)return;delete this.setAutoScrollEditorIntoView,this.off(\"changeSelection\",s),this.renderer.off(\"afterRender\",u),this.renderer.off(\"beforeRender\",o)}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||\"ace\",t=this.renderer.$cursorLayer;if(!t)return;t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&e!=\"wide\",i.setCssClass(t.element,\"ace_slim-cursors\",/slim/.test(e))}}.call(b.prototype),g.defineOptions(b.prototype,\"editor\",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal(\"changeSelectionStyle\",{data:e})},initialValue:\"line\"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:[\"ace\",\"slim\",\"smooth\",\"wide\"],initialValue:\"ace\"},mergeUndoDeltas:{values:[!1,!0,\"always\"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:\"renderer\",vScrollBarAlwaysVisible:\"renderer\",highlightGutterLine:\"renderer\",animatedScroll:\"renderer\",showInvisibles:\"renderer\",showPrintMargin:\"renderer\",printMarginColumn:\"renderer\",printMargin:\"renderer\",fadeFoldWidgets:\"renderer\",showFoldWidgets:\"renderer\",showLineNumbers:\"renderer\",showGutter:\"renderer\",displayIndentGuides:\"renderer\",fontSize:\"renderer\",fontFamily:\"renderer\",maxLines:\"renderer\",minLines:\"renderer\",scrollPastEnd:\"renderer\",fixedWidthGutter:\"renderer\",theme:\"renderer\",scrollSpeed:\"$mouseHandler\",dragDelay:\"$mouseHandler\",dragEnabled:\"$mouseHandler\",focusTimout:\"$mouseHandler\",tooltipFollowsMouse:\"$mouseHandler\",firstLineNumber:\"session\",overwrite:\"session\",newLineMode:\"session\",useWorker:\"session\",useSoftTabs:\"session\",tabSize:\"session\",wrap:\"session\",indentedSoftWrap:\"session\",foldStyle:\"session\",mode:\"session\"}),t.Editor=b}),define(\"ace/undomanager\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";var r=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines.length==1?null:e.lines,text:e.lines.length==1?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){var n=new Array(e.length);for(var r=0;r<e.length;r++){var i=e[r],s={group:i.group,deltas:new Array(i.length)};for(var o=0;o<i.deltas.length;o++){var u=i.deltas[o];s.deltas[o]=t(u)}n[r]=s}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return this.dirtyCounter===0},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(r.prototype),t.UndoManager=r}),define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"../lib/dom\"),i=e(\"../lib/oop\"),s=e(\"../lib/lang\"),o=e(\"../lib/event_emitter\").EventEmitter,u=function(e){this.element=r.createElement(\"div\"),this.element.className=\"ace_layer ace_gutter-layer\",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener(\"change\",this.$updateAnnotations),this.session=e,e&&e.on(\"change\",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(\"deprecated use session.addGutterDecoration\"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(\"deprecated use session.removeGutterDecoration\"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||\"\",i.text.indexOf(o)===-1&&i.text.push(o);var u=n.type;u==\"error\"?i.className=\" ace_error\":u==\"warning\"&&i.className!=\" ace_error\"?i.className=\" ace_warning\":u==\"info\"&&!i.className&&(i.className=\" ace_info\")}},this.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.start.row,n=e.end.row-t;if(n!==0)if(e.action==\"remove\")this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}},this.update=function(e){var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),s=t.getNextFoldLine(n),o=s?s.start.row:Infinity,u=this.$showFoldWidgets&&t.foldWidgets,a=t.$breakpoints,f=t.$decorations,l=t.$firstLineNumber,c=0,h=t.gutterRenderer||this.$renderer,p=null,d=-1,v=n;for(;;){v>o&&(v=s.end.row+1,s=t.getNextFoldLine(v,s),o=s?s.start.row:Infinity);if(v>i){while(this.$cells.length>d+1)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++d],p||(p={element:null,textNode:null,foldWidget:null},p.element=r.createElement(\"div\"),p.textNode=document.createTextNode(\"\"),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[d]=p);var m=\"ace_gutter-cell \";a[v]&&(m+=a[v]),f[v]&&(m+=f[v]),this.$annotations[v]&&(m+=this.$annotations[v].className),p.element.className!=m&&(p.element.className=m);var g=t.getRowLength(v)*e.lineHeight+\"px\";g!=p.element.style.height&&(p.element.style.height=g);if(u){var y=u[v];y==null&&(y=u[v]=t.getFoldWidget(v))}if(y){p.foldWidget||(p.foldWidget=r.createElement(\"span\"),p.element.appendChild(p.foldWidget));var m=\"ace_fold-widget ace_\"+y;y==\"start\"&&v==o&&v<s.end.row?m+=\" ace_closed\":m+=\" ace_open\",p.foldWidget.className!=m&&(p.foldWidget.className=m);var g=e.lineHeight+\"px\";p.foldWidget.style.height!=g&&(p.foldWidget.style.height=g)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var b=c=h?h.getText(t,v):v+l;b!==p.textNode.data&&(p.textNode.data=b),v++}this.element.style.height=e.minHeight+\"px\";if(this.$fixedWidth||t.$useWrapMode)c=t.getLength()+l;var w=h?h.getWidth(t,c,e):c.toString().length*e.characterWidth,E=this.$padding||this.$computePadding();w+=E.left+E.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+\"px\",this._emit(\"changeGutterWidth\",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer=\"\",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return\"\"},getText:function(){return\"\"}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,\"ace_folding-enabled\"):r.removeCssClass(this.element,\"ace_folding-enabled\"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return\"markers\";if(this.$showFoldWidgets&&e.x>n.right-t.right)return\"foldWidgets\"}}).call(u.prototype),t.Gutter=u}),define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"../range\").Range,i=e(\"../lib/dom\"),s=function(e){this.element=i.createElement(\"div\"),this.element.className=\"ace_layer ace_marker-layer\",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){if(!e)return;this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(t,this,this.session,e);continue}var i=r.range.clipRows(e.firstRow,e.lastRow);if(i.isEmpty())continue;i=i.toScreenRange(this.session);if(r.renderer){var s=this.$getTop(i.start.row,e),o=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,o,s,e)}else r.type==\"fullLine\"?this.drawFullLineMarker(t,i,r.clazz,e):r.type==\"screenLine\"?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?r.type==\"text\"?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+\" ace_start\"+\" ace_br15\",e)}this.element.innerHTML=t.join(\"\")},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,s,o){var u=this.session,a=n.start.row,f=n.end.row,l=a,c=0,h=0,p=u.getScreenLastRowColumn(l),d=new r(l,n.start.column,l,h);for(;l<=f;l++)d.start.row=d.end.row=l,d.start.column=l==a?n.start.column:u.getRowWrapIndent(l),d.end.column=p,c=h,h=p,p=l+1<f?u.getScreenLastRowColumn(l+1):l==f?0:n.end.column,this.drawSingleLineMarker(t,d,i+(l==a?\" ace_start\":\"\")+\" ace_br\"+e(l==a||l==a+1&&n.start.column,c<h,h>p,l==f),s,l==f?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var s=this.$padding,o=r.lineHeight,u=this.$getTop(t.start.row,r),a=s+t.start.column*r.characterWidth;i=i||\"\",e.push(\"<div class='\",n,\" ace_br1 ace_start' style='\",\"height:\",o,\"px;\",\"right:0;\",\"top:\",u,\"px;\",\"left:\",a,\"px;\",i,\"'></div>\"),u=this.$getTop(t.end.row,r);var f=t.end.column*r.characterWidth;e.push(\"<div class='\",n,\" ace_br12' style='\",\"height:\",o,\"px;\",\"width:\",f,\"px;\",\"top:\",u,\"px;\",\"left:\",s,\"px;\",i,\"'></div>\"),o=(t.end.row-t.start.row-1)*r.lineHeight;if(o<=0)return;u=this.$getTop(t.start.row+1,r);var l=(t.start.column?1:0)|(t.end.column?0:8);e.push(\"<div class='\",n,l?\" ace_br\"+l:\"\",\"' style='\",\"height:\",o,\"px;\",\"right:0;\",\"top:\",u,\"px;\",\"left:\",s,\"px;\",i,\"'></div>\")},this.drawSingleLineMarker=function(e,t,n,r,i,s){var o=r.lineHeight,u=(t.end.column+(i||0)-t.start.column)*r.characterWidth,a=this.$getTop(t.start.row,r),f=this.$padding+t.start.column*r.characterWidth;e.push(\"<div class='\",n,\"' style='\",\"height:\",o,\"px;\",\"width:\",u,\"px;\",\"top:\",a,\"px;\",\"left:\",f,\"px;\",s||\"\",\"'></div>\")},this.drawFullLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-s),e.push(\"<div class='\",n,\"' style='\",\"height:\",o,\"px;\",\"top:\",s,\"px;\",\"left:0;right:0;\",i||\"\",\"'></div>\")},this.drawScreenLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;e.push(\"<div class='\",n,\"' style='\",\"height:\",o,\"px;\",\"top:\",s,\"px;\",\"left:0;right:0;\",i||\"\",\"'></div>\")}}).call(s.prototype),t.Marker=s}),define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"../lib/oop\"),i=e(\"../lib/dom\"),s=e(\"../lib/lang\"),o=e(\"../lib/useragent\"),u=e(\"../lib/event_emitter\").EventEmitter,a=function(e){this.element=i.createElement(\"div\"),this.element.className=\"ace_layer ace_text-layer\",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,u),this.EOF_CHAR=\"\\u00b6\",this.EOL_CHAR_LF=\"\\u00ac\",this.EOL_CHAR_CRLF=\"\\u00a4\",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR=\"\\u2014\",this.SPACE_CHAR=\"\\u00b7\",this.$padding=0,this.$updateEolChar=function(){var e=this.session.doc.getNewLineCharacter()==\"\\n\"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding=\"0 \"+e+\"px\"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on(\"changeCharacterSize\",function(e){this._signal(\"changeCharacterSize\",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++)this.showInvisibles?t.push(\"<span class='ace_invisible ace_invisible_tab'>\"+s.stringRepeat(this.TAB_CHAR,n)+\"</span>\"):t.push(s.stringRepeat(\" \",n));if(this.displayIndentGuides){this.$indentGuideRe=/\\s\\S| \\t|\\t |\\s$/;var r=\"ace_indent-guide\",i=\"\",o=\"\";if(this.showInvisibles){r+=\" ace_invisible\",i=\" ace_invisible_space\",o=\" ace_invisible_tab\";var u=s.stringRepeat(this.SPACE_CHAR,this.tabSize),a=s.stringRepeat(this.TAB_CHAR,this.tabSize)}else var u=s.stringRepeat(\" \",this.tabSize),a=u;this.$tabStrings[\" \"]=\"<span class='\"+r+i+\"'>\"+u+\"</span>\",this.$tabStrings[\"\t\"]=\"<span class='\"+r+o+\"'>\"+a+\"</span>\"}},this.updateLines=function(e,t,n){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),s=this.element.childNodes,o=0;for(var u=e.firstRow;u<r;u++){var a=this.session.getFoldLine(u);if(a){if(a.containsRow(r)){r=a.start.row;break}u=a.end.row}o++}var u=r,a=this.session.getNextFoldLine(u),f=a?a.start.row:Infinity;for(;;){u>f&&(u=a.end.row+1,a=this.session.getNextFoldLine(u,a),f=a?a.start.row:Infinity);if(u>i)break;var l=s[o++];if(l){var c=[];this.$renderLine(c,u,!this.$useLineGroups(),u==f?a:!1),l.style.height=e.lineHeight*this.session.getRowLength(u)+\"px\",l.innerHTML=c.join(\"\")}u++}},this.scrollLines=function(e){var t=this.config;this.config=e;if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(var r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){var i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){var r=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>n)break;var a=i.createElement(\"div\"),f=[];this.$renderLine(f,s,!1,s==u?o:!1),a.innerHTML=f.join(\"\");if(this.$useLineGroups())a.className=\"ace_line_group\",r.appendChild(a),a.style.height=e.lineHeight*this.session.getRowLength(s)+\"px\";else while(a.firstChild)r.appendChild(a.firstChild);s++}return r},this.update=function(e){this.config=e;var t=[],n=e.firstRow,r=e.lastRow,i=n,s=this.session.getNextFoldLine(i),o=s?s.start.row:Infinity;for(;;){i>o&&(i=s.end.row+1,s=this.session.getNextFoldLine(i,s),o=s?s.start.row:Infinity);if(i>r)break;this.$useLineGroups()&&t.push(\"<div class='ace_line_group' style='height:\",e.lineHeight*this.session.getRowLength(i),\"px'>\"),this.$renderLine(t,i,!1,i==o?s:!1),this.$useLineGroups()&&t.push(\"</div>\"),i++}this.element.innerHTML=t.join(\"\")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,o=/\\t|&|<|>|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\uFFF9-\\uFFFC])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]/g,u=function(e,n,r,o,u){if(n)return i.showInvisibles?\"<span class='ace_invisible ace_invisible_space'>\"+s.stringRepeat(i.SPACE_CHAR,e.length)+\"</span>\":e;if(e==\"&\")return\"&#38;\";if(e==\"<\")return\"&#60;\";if(e==\">\")return\"&#62;\";if(e==\"\t\"){var a=i.session.getScreenTabSize(t+o);return t+=a-1,i.$tabStrings[a]}if(e==\"\\u3000\"){var f=i.showInvisibles?\"ace_cjk ace_invisible ace_invisible_space\":\"ace_cjk\",l=i.showInvisibles?i.SPACE_CHAR:\"\";return t+=1,\"<span class='\"+f+\"' style='width:\"+i.config.characterWidth*2+\"px'>\"+l+\"</span>\"}return r?\"<span class='ace_invisible ace_invisible_space ace_invalid'>\"+i.SPACE_CHAR+\"</span>\":(t+=1,\"<span class='ace_cjk' style='width:\"+i.config.characterWidth*2+\"px'>\"+e+\"</span>\")},a=r.replace(o,u);if(!this.$textToken[n.type]){var f=\"ace_\"+n.type.replace(/\\./g,\" ace_\"),l=\"\";n.type==\"fold\"&&(l=\" style='width:\"+n.value.length*this.config.characterWidth+\"px;' \"),e.push(\"<span class='\",f,\"'\",l,\">\",a,\"</span>\")}else e.push(a);return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return r<=0||r>=n?t:t[0]==\" \"?(r-=r%this.tabSize,e.push(s.stringRepeat(this.$tabStrings[\" \"],r/this.tabSize)),t.substr(r)):t[0]==\"\t\"?(e.push(s.stringRepeat(this.$tabStrings[\"\t\"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){var i=0,o=0,u=n[0],a=0;for(var f=0;f<t.length;f++){var l=t[f],c=l.value;if(f==0&&this.displayIndentGuides){i=c.length,c=this.renderIndentGuide(e,c,u);if(!c)continue;i-=c.length}if(i+c.length<u)a=this.$renderToken(e,a,l,c),i+=c.length;else{while(i+c.length>=u)a=this.$renderToken(e,a,l,c.substring(0,u-i)),c=c.substring(u-i),i=u,r||e.push(\"</div>\",\"<div class='ace_line' style='height:\",this.config.lineHeight,\"px'>\"),e.push(s.stringRepeat(\"\\u00a0\",n.indent)),o++,a=0,u=n[o]||Number.MAX_VALUE;c.length!=0&&(i+=c.length,a=this.$renderToken(e,a,l,c))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var s=1;s<t.length;s++)r=t[s],i=r.value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){!r&&r!=0&&(r=this.session.getFoldLine(t));if(r)var i=this.$getFoldLineTokens(t,r);else var i=this.session.getTokens(t);n||e.push(\"<div class='ace_line' style='height:\",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),\"px'>\");if(i.length){var s=this.session.getRowSplitData(t);s&&s.length?this.$renderWrappedLine(e,i,s,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push(\"<span class='ace_invisible ace_invisible_eol'>\",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,\"</span>\")),n||e.push(\"</div>\")},this.$getFoldLineTokens=function(e,t){function i(e,t,n){var i=0,s=0;while(s+e[i].value.length<t){s+=e[i].value.length,i++;if(i==e.length)return}if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}while(s<n&&i<e.length){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var n=this.session,r=[],s=n.getTokens(e);return t.walk(function(e,t,o,u,a){e!=null?r.push({type:\"fold\",value:e}):(a&&(s=n.getTokens(t)),s.length&&i(s,u,o))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";var r=e(\"../lib/dom\"),i,s=function(e){this.element=r.createElement(\"div\"),this.element.className=\"ace_layer ace_cursor-layer\",e.appendChild(this.element),i===undefined&&(i=!(\"opacity\"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,\"ace_hidden-cursors\"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){var t=this.cursors;for(var n=t.length;n--;)t[n].style.visibility=e?\"\":\"hidden\"},this.$updateOpacity=function(e){var t=this.cursors;for(var n=t.length;n--;)t[n].style.opacity=e?\"\":\"0\"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&!i&&(this.smoothBlinking=e,r.setCssClass(this.element,\"ace_smooth-blinking\",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement(\"div\");return e.className=\"ace_cursor\",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,\"ace_hidden-cursors\"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,\"ace_hidden-cursors\"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,\"ace_smooth-blinking\"),e(!0);if(!this.isBlinking||!this.blinkInterval||!this.isVisible)return;this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,\"ace_smooth-blinking\")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+n.column*this.config.characterWidth,i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;if(t===undefined||t.length===0)t=[{cursor:null}];for(var n=0,i=t.length;n<i;n++){var s=this.getPixelPosition(t[n].cursor,!0);if((s.top>e.height+e.offset||s.top<0)&&n>1)continue;var o=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,s,e,t[n],this.session):(o.left=s.left+\"px\",o.top=s.top+\"px\",o.width=e.characterWidth+\"px\",o.height=e.lineHeight+\"px\")}while(this.cursors.length>r)this.removeCursor();var u=this.session.getOverwrite();this.$setOverwrite(u),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,\"ace_overwrite-cursors\"):r.removeCssClass(this.element,\"ace_overwrite-cursors\"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s}),define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/dom\"),s=e(\"./lib/event\"),o=e(\"./lib/event_emitter\").EventEmitter,u=32768,a=function(e){this.element=i.createElement(\"div\"),this.element.className=\"ace_scrollbar ace_scrollbar\"+this.classSuffix,this.inner=i.createElement(\"div\"),this.inner.className=\"ace_scrollbar-inner\",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,\"scroll\",this.onScroll.bind(this)),s.addListener(this.element,\"mousedown\",s.preventDefault)};(function(){r.implement(this,o),this.setVisible=function(e){this.element.style.display=e?\"\":\"none\",this.isVisible=e,this.coeff=1}}).call(a.prototype);var f=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+\"px\",this.$minWidth=0};r.inherits(f,a),function(){this.classSuffix=\"-v\",this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(this.coeff!=1){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit(\"scroll\",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+\"px\"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>u?(this.coeff=u/e,e=u):this.coeff!=1&&(this.coeff=1),this.inner.style.height=e+\"px\"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(f.prototype);var l=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+\"px\"};r.inherits(l,a),function(){this.classSuffix=\"-h\",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit(\"scroll\",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+\"px\"},this.setInnerWidth=function(e){this.inner.style.width=e+\"px\"},this.setScrollWidth=function(e){this.inner.style.width=e+\"px\"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=f,t.ScrollBarV=f,t.ScrollBarH=l,t.VScrollBar=f,t.HScrollBar=l}),define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"],function(e,t,n){\"use strict\";var r=e(\"./lib/event\"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){this.changes=this.changes|e;if(!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame(function(){t.pending=!1;var e;while(e=t.changes)t.changes=0,t.onRender(e)},this.window)}}}).call(i.prototype),t.RenderLoop=i}),define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"],function(e,t,n){var r=e(\"../lib/oop\"),i=e(\"../lib/dom\"),s=e(\"../lib/lang\"),o=e(\"../lib/useragent\"),u=e(\"../lib/event_emitter\").EventEmitter,a=0,f=t.FontMetrics=function(e){this.el=i.createElement(\"div\"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement(\"div\"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement(\"div\"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),a||this.$testFractionalRect(),this.$measureNode.innerHTML=s.stringRepeat(\"X\",a),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,u),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement(\"div\");this.$setMeasureNodeStyles(e.style),e.style.width=\"0.2px\",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;t>0&&t<1?a=50:a=100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height=\"auto\",e.left=e.top=\"0px\",e.visibility=\"hidden\",e.position=\"absolute\",e.whiteSpace=\"pre\",o.isIE<8?e[\"font-family\"]=\"inherit\":e.font=\"inherit\",e.overflow=t?\"hidden\":\"visible\"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight=\"bold\";var t=this.$measureSizes();this.$measureNode.style.fontWeight=\"\",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit(\"changeCharacterSize\",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(a===50){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var n={height:e.height,width:e.width/a}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/a};return n.width===0||n.height===0?null:n},this.$measureCharWidth=function(e){this.$main.innerHTML=s.stringRepeat(e,a);var t=this.$main.getBoundingClientRect();return t.width/a},this.getCharacterWidth=function(e){var t=this.charSizes[e];return t===undefined&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(f.prototype)}),define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/lib/useragent\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\"],function(e,t,n){\"use strict\";var r=e(\"./lib/oop\"),i=e(\"./lib/dom\"),s=e(\"./config\"),o=e(\"./lib/useragent\"),u=e(\"./layer/gutter\").Gutter,a=e(\"./layer/marker\").Marker,f=e(\"./layer/text\").Text,l=e(\"./layer/cursor\").Cursor,c=e(\"./scrollbar\").HScrollBar,h=e(\"./scrollbar\").VScrollBar,p=e(\"./renderloop\").RenderLoop,d=e(\"./layer/font_metrics\").FontMetrics,v=e(\"./lib/event_emitter\").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \\'Monaco\\', \\'Menlo\\', \\'Ubuntu Mono\\', \\'Consolas\\', \\'source-code-pro\\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \\'\\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}';i.importCssString(m,\"ace_editor.css\");var g=function(e,t){var n=this;this.container=e||i.createElement(\"div\"),this.$keepTextAreaAtCursor=!o.isOldIE,i.addCssClass(this.container,\"ace_editor\"),this.setTheme(t),this.$gutter=i.createElement(\"div\"),this.$gutter.className=\"ace_gutter\",this.container.appendChild(this.$gutter),this.scroller=i.createElement(\"div\"),this.scroller.className=\"ace_scroller\",this.container.appendChild(this.scroller),this.content=i.createElement(\"div\"),this.content.className=\"ace_content\",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on(\"changeGutterWidth\",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var r=this.$textLayer=new f(this.content);this.canvas=r.element,this.$markerFront=new a(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener(\"scroll\",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener(\"scroll\",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener(\"changeCharacterSize\",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal(\"changeCharacterSize\",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._emit(\"renderer\",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,v),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle(\"ace_nobold\",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off(\"changeNewLineMode\",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e);if(!e)return;this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on(\"changeNewLineMode\",this.onChangeNewLineMode)},this.updateLines=function(e,t,n){t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(this.resizing>2)return;this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var s=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,s=this.$size,o={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};r&&(e||s.height!=r)&&(s.height=r,i|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+\"px\",i|=this.CHANGE_SCROLL);if(n&&(e||s.width!=n)){i|=this.CHANGE_SIZE,s.width=n,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+\"px\",s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+\"px\",this.scroller.style.bottom=this.scrollBarH.getHeight()+\"px\";if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)i|=this.CHANGE_FULL}return s.$dirty=!n||!r,i&&this._signal(\"resize\",o),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption(\"animatedScroll\",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption(\"showInvisibles\",e)},this.getShowInvisibles=function(){return this.getOption(\"showInvisibles\")},this.getDisplayIndentGuides=function(){return this.getOption(\"displayIndentGuides\")},this.setDisplayIndentGuides=function(e){this.setOption(\"displayIndentGuides\",e)},this.setShowPrintMargin=function(e){this.setOption(\"showPrintMargin\",e)},this.getShowPrintMargin=function(){return this.getOption(\"showPrintMargin\")},this.setPrintMarginColumn=function(e){this.setOption(\"printMarginColumn\",e)},this.getPrintMarginColumn=function(){return this.getOption(\"printMarginColumn\")},this.getShowGutter=function(){return this.getOption(\"showGutter\")},this.setShowGutter=function(e){return this.setOption(\"showGutter\",e)},this.getFadeFoldWidgets=function(){return this.getOption(\"fadeFoldWidgets\")},this.setFadeFoldWidgets=function(e){this.setOption(\"fadeFoldWidgets\",e)},this.setHighlightGutterLine=function(e){this.setOption(\"highlightGutterLine\",e)},this.getHighlightGutterLine=function(){return this.getOption(\"highlightGutterLine\")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+\"px\",this.$gutterLineHighlight.style.height=t+\"px\"},this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=i.createElement(\"div\");e.className=\"ace_layer ace_print-margin-layer\",this.$printMarginEl=i.createElement(\"div\"),this.$printMarginEl.className=\"ace_print-margin\",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+\"px\",t.visibility=this.$showPrintMargin?\"visible\":\"hidden\",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(t<0||t>e.height-i){r.top=r.left=\"0\";return}var s=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\\x01+/,\"\");s*=this.session.$getStringScreenWidth(o)[0]+2,i+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-s&&(n=this.$size.scrollerWidth-s),n+=this.gutterWidth,r.height=i+\"px\",r.width=s+\"px\",r.left=Math.min(n,this.$size.scrollerWidth-s)+\"px\",r.top=Math.min(t,this.$size.height-i)+\"px\"},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=e|0,i.bottom=t|0,i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption(\"hScrollBarAlwaysVisible\",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption(\"vScrollBarAlwaysVisible\",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){this.$changes&&(e|=this.$changes,this.$changes=0);if(!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal(\"beforeRender\");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){e|=this.$computeLayerConfig();if(n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+\"px\",this.content.style.marginTop=-n.offset+\"px\",this.content.style.width=n.width+2*this.$padding+\"px\",this.content.style.height=n.minHeight+\"px\"}e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+\"px\",this.scroller.className=this.scrollLeft<=0?\"ace_scroller\":\"ace_scroller ace_scroll-left\");if(e&this.CHANGE_FULL){this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal(\"afterRender\");return}if(e&this.CHANGE_SCROLL){e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal(\"afterRender\");return}e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal(\"afterRender\")},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+\"px\",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal(\"autosize\")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,s=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),u=this.$horizScroll!==o;u&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var f=this.scrollTop%this.lineHeight,l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+h.right)));var p=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>h.top),d=a!==p;d&&(this.$vScroll=p,this.scrollBarV.setVisible(p));var v=Math.ceil(l/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-f)/this.lineHeight)),g=m+v,y,b,w=this.lineHeight;m=e.screenToDocumentRow(m,0);var E=e.getFoldLine(m);E&&(m=E.start.row),y=e.documentToScreenRow(m,0),b=e.getRowLength(m)*w,g=Math.min(e.screenToDocumentRow(g,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(g)*w+b,f=this.scrollTop-y*w;var S=0;this.layerConfig.width!=s&&(S=this.CHANGE_H_SCROLL);if(u||d)S=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal(\"scrollbarVisibilityChanged\"),d&&(s=this.$getLongestLine());return this.layerConfig={width:s,padding:this.$padding,firstRow:m,firstRowScreen:y,lastRow:g,lineHeight:w,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:f,gutterOffset:w?Math.max(0,Math.ceil((f+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},S},this.$updateLines=function(){if(!this.$changedLines)return;var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1)return;if(t<n.firstRow)return;if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,e,t),!0},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(this.$size.scrollerHeight===0)return;var r=this.$cursorLayer.getPixelPosition(e),i=r.left,s=r.top,o=n&&n.top||0,u=n&&n.bottom||0,a=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;a+o>s?(t&&a+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),s===0&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):a+this.$size.scrollerHeight-u<s+this.lineHeight&&(t&&a+this.$size.scrollerHeight-u<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight-this.$size.scrollerHeight));var f=this.scrollLeft;f>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):f+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&i-f<this.characterWidth&&this.session.setScrollLeft(0)},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){typeof e==\"number\"&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(s(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=i.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(!this.$animatedScroll)return;var r=this;if(e==n)return;if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length){e=i[0];if(e==n)return}}var s=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),r.session.setScrollTop(s.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(r.session.setScrollTop(s.shift()),r.session.$scrollTop=n):n!=null?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return!0;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return!0;if(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return!0;if(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,i=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=Math.round(r);return{row:i,column:s,side:r-s>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),i=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,Math.max(r,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+Math.round(r.column*this.characterWidth),s=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,\"ace_focus\")},this.visualizeBlur=function(){i.removeCssClass(this.container,\"ace_focus\")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,\"ace_composition\"),this.textarea.style.cssText=\"\",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;i.removeCssClass(this.textarea,\"ace_composition\"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null},this.setTheme=function(e,t){function o(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error(\"couldn't load module \"+e+\" or it didn't call define\");i.importCssString(r.cssText,r.cssClass,n.container.ownerDocument),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var s=\"padding\"in r?r.padding:\"padding\"in(n.theme||{})?4:n.$padding;n.$padding&&s!=n.$padding&&n.setPadding(s),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,\"ace_dark\",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent(\"themeLoaded\",{theme:r}),t&&t()}var n=this;this.$themeId=e,n._dispatchEvent(\"themeChange\",{theme:e});if(!e||typeof e==\"string\"){var r=e||this.$options.theme.initialValue;s.loadModule([\"theme\",r],o)}else o(e)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),s.defineOptions(g.prototype,\"renderer\",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){typeof e==\"number\"&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?\"block\":\"none\",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,\"ace_fade-fold-widgets\",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight){this.$gutterLineHighlight=i.createElement(\"div\"),this.$gutterLineHighlight.className=\"ace_gutter-active-line\",this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=e?\"\":\"none\",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){typeof e==\"number\"&&(e+=\"px\"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0;if(this.$scrollPastEnd==e)return;this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:\"./theme/textmate\",handlesSet:!0}}),t.VirtualRenderer=g}),define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"],function(e,t,n){\"use strict\";function u(e){var t=\"importScripts('\"+i.qualifyURL(e)+\"');\";try{return new Blob([t],{type:\"application/javascript\"})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,s=new r;return s.append(t),s.getBlob(\"application/javascript\")}}function a(e){var t=u(e),n=window.URL||window.webkitURL,r=n.createObjectURL(t);return new Worker(r)}var r=e(\"../lib/oop\"),i=e(\"../lib/net\"),s=e(\"../lib/event_emitter\").EventEmitter,o=e(\"../config\"),f=function(t,n,r,i,s){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl);if(o.get(\"packaged\")||!e.toUrl)i=i||o.moduleUrl(n,\"worker\");else{var u=this.$normalizePath;i=i||u(e.toUrl(\"ace/worker/worker.js\",null,\"_\"));var f={};t.forEach(function(t){f[t]=u(e.toUrl(t,null,\"_\").replace(/(\\.js)?(\\?.*)?$/,\"\"))})}this.$worker=a(i),s&&this.send(\"importScripts\",s),this.$worker.postMessage({init:!0,tlns:f,module:n,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case\"event\":this._signal(t.name,{data:t.data});break;case\"call\":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case\"error\":this.reportError(t.data);break;case\"log\":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal(\"terminate\",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off(\"change\",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call(\"setValue\",[e.getValue()]),e.on(\"change\",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),e.action==\"insert\"?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;if(!e)return;this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call(\"setValue\",[this.$doc.getValue()]):this.emit(\"change\",{data:e})}}).call(f.prototype);var l=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,u=Object.create(s),a=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){a.messageBuffer.push(e),r&&(i?setTimeout(f):f())},this.setEmitSync=function(e){i=e};var f=function(){var e=a.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&u._signal(e.event,e.data)};u.postMessage=function(e){a.onMessage({data:e})},u.callback=function(e,t){this.postMessage({type:\"call\",id:t,data:e})},u.emit=function(e,t){this.postMessage({type:\"event\",name:e,data:t})},o.loadModule([\"worker\",t],function(e){r=new e[n](u);while(a.messageBuffer.length)f()})};l.prototype=f.prototype,t.UIWorkerClient=l,t.WorkerClient=f,t.createWorker=a}),define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"],function(e,t,n){\"use strict\";var r=e(\"./range\").Range,i=e(\"./lib/event_emitter\").EventEmitter,s=e(\"./lib/oop\"),o=function(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on(\"change\",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var u=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),e.selection.on(\"changeCursor\",this.$onCursorChange)};(function(){s.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(this.othersActive)return;var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})},this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row!==t.end.row)return;if(t.start.row!==this.pos.row)return;this.$updating=!0;var n=e.action===\"insert\"?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;this.updateAnchors(e),i&&(this.length+=n);if(i&&!this.session.$fromUndo)if(e.action===\"insert\")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.insertMergedLines(a,e.lines)}else if(e.action===\"remove\")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(this.$updating)return;var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)},this.onCursorChange=function(e){if(this.$updating||!this.session)return;var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit(\"cursorEnter\",e)):(this.hideOtherMarkers(),this._emit(\"cursorLeave\",e))},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener(\"change\",this.$onUpdate),this.session.selection.removeEventListener(\"changeCursor\",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth===-1)return;var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}).call(o.prototype),t.PlaceHolder=o}),define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"],function(e,t,n){function s(e,t){return e.row==t.row&&e.column==t.column}function o(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,u=t.ctrlKey,a=e.getAccelKey(),f=e.getButton();u&&i.isMac&&(f=t.button);if(e.editor.inMultiSelectMode&&f==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!u&&!n&&!a){f===0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}if(f!==0)return;var l=e.editor,c=l.selection,h=l.inMultiSelectMode,p=e.getDocumentPosition(),d=c.getCursor(),v=e.inSelection()||c.isEmpty()&&s(p,d),m=e.x,g=e.y,y=function(e){m=e.clientX,g=e.clientY},b=l.session,w=l.renderer.pixelToScreenCoordinates(m,g),E=w,S;if(l.$mouseHandler.$enableJumpToDef)u&&n||a&&n?S=o?\"block\":\"add\":n&&l.$blockSelectEnabled&&(S=\"block\");else if(a&&!n){S=\"add\";if(!h&&o)return}else n&&l.$blockSelectEnabled&&(S=\"block\");S&&i.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu();if(S==\"add\"){if(!h&&v)return;if(!h){var x=c.toOrientedRange();l.addSelectionMarker(x)}var T=c.rangeList.rangeAtPoint(p);l.$blockScrolling++,l.inVirtualSelectionMode=!0,o&&(T=null,x=c.ranges[0]||x,l.removeSelectionMarker(x)),l.once(\"mouseup\",function(){var e=c.toOrientedRange();T&&e.isEmpty()&&s(T.cursor,e.cursor)?c.substractPoint(e.cursor):(o?c.substractPoint(x.cursor):x&&(l.removeSelectionMarker(x),c.addRange(x)),c.addRange(e)),l.$blockScrolling--,l.inVirtualSelectionMode=!1})}else if(S==\"block\"){e.stop(),l.inVirtualSelectionMode=!0;var N,C=[],k=function(){var e=l.renderer.pixelToScreenCoordinates(m,g),t=b.screenToDocumentPosition(e.row,e.column);if(s(E,e)&&s(t,c.lead))return;E=e,l.$blockScrolling++,l.selection.moveToPosition(t),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(C),C=c.rectangularRangeBlock(E,w),l.$mouseHandler.$clickSelection&&C.length==1&&C[0].isEmpty()&&(C[0]=l.$mouseHandler.$clickSelection.clone()),C.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers(),l.$blockScrolling--};l.$blockScrolling++,h&&!a?c.toSingleRange():!h&&a&&(N=c.toOrientedRange(),l.addSelectionMarker(N)),o?w=b.documentToScreenPosition(c.lead):c.moveToPosition(p),l.$blockScrolling--,E={row:-1,column:-1};var L=function(e){clearInterval(O),l.removeSelectionMarkers(C),C.length||(C=[c.toOrientedRange()]),l.$blockScrolling++,N&&(l.removeSelectionMarker(N),c.toSingleRange(N));for(var t=0;t<C.length;t++)c.addRange(C[t]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null,l.$blockScrolling--},A=k;r.capture(l.container,y,L);var O=setInterval(function(){A()},20);return e.preventDefault()}}var r=e(\"../lib/event\"),i=e(\"../lib/useragent\");t.onMouseDown=o}),define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"],function(e,t,n){t.defaultCommands=[{name:\"addCursorAbove\",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:\"Ctrl-Alt-Up\",mac:\"Ctrl-Alt-Up\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorBelow\",exec:function(e){e.selectMoreLines(1)},bindKey:{win:\"Ctrl-Alt-Down\",mac:\"Ctrl-Alt-Down\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorAboveSkipCurrent\",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Up\",mac:\"Ctrl-Alt-Shift-Up\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorBelowSkipCurrent\",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Down\",mac:\"Ctrl-Alt-Shift-Down\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectMoreBefore\",exec:function(e){e.selectMore(-1)},bindKey:{win:\"Ctrl-Alt-Left\",mac:\"Ctrl-Alt-Left\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectMoreAfter\",exec:function(e){e.selectMore(1)},bindKey:{win:\"Ctrl-Alt-Right\",mac:\"Ctrl-Alt-Right\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectNextBefore\",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Left\",mac:\"Ctrl-Alt-Shift-Left\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectNextAfter\",exec:function(e){e.selectMore(1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Right\",mac:\"Ctrl-Alt-Shift-Right\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"splitIntoLines\",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:\"Ctrl-Alt-L\",mac:\"Ctrl-Alt-L\"},readOnly:!0},{name:\"alignCursors\",exec:function(e){e.alignCursors()},bindKey:{win:\"Ctrl-Alt-A\",mac:\"Ctrl-Alt-A\"},scrollIntoView:\"cursor\"},{name:\"findAll\",exec:function(e){e.findAll()},bindKey:{win:\"Ctrl-Alt-K\",mac:\"Ctrl-Alt-G\"},scrollIntoView:\"cursor\",readOnly:!0}],t.multiSelectCommands=[{name:\"singleSelection\",bindKey:\"esc\",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:\"cursor\",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e(\"../keyboard/hash_handler\").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"],function(e,t,n){function h(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=n==-1,c.find(e)}function v(e,t){return e.row==t.row&&e.column==t.column}function m(e){if(e.$multiselectOnSessionChange)return;e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on(\"changeSession\",e.$multiselectOnSessionChange),e.on(\"mousedown\",o),e.commands.addCommands(f.defaultCommands),g(e)}function g(e){function r(t){n&&(e.renderer.setMouseCursor(\"\"),n=!1)}var t=e.textInput.getElement(),n=!1;u.addListener(t,\"keydown\",function(t){var i=t.keyCode==18&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor(\"crosshair\"),n=!0):n&&r()}),u.addListener(t,\"keyup\",r),u.addListener(t,\"blur\",r)}var r=e(\"./range_list\").RangeList,i=e(\"./range\").Range,s=e(\"./selection\").Selection,o=e(\"./mouse/multi_select_handler\").onMouseDown,u=e(\"./lib/event\"),a=e(\"./lib/lang\"),f=e(\"./commands/multi_select_commands\");t.commands=f.defaultCommands.concat(f.multiSelectCommands);var l=e(\"./search\").Search,c=new l,p=e(\"./edit_session\").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount===0){var n=this.toOrientedRange();this.rangeList.add(n),this.rangeList.add(e);if(this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal(\"multiSelect\"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal(\"addRange\",{range:e})},this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal(\"removeRange\",{ranges:e}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal(\"singleSelect\"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new r,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),s=n.start.row,o=n.end.row;if(s==o){if(r)var u=n.end,a=n.start;else var u=n.start,a=n.end;this.addRange(i.fromPoints(a,a)),this.addRange(i.fromPoints(u,u));return}var f=[],l=this.getLineRange(s,!0);l.start.column=n.start.column,f.push(l);for(var c=s+1;c<o;c++)f.push(this.getLineRange(c,!0));l=this.getLineRange(o,!0),l.end.column=n.end.column,f.push(l),f.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),s=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(r,s);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,u=t.column;else var o=t.column,u=e.column;var a=e.row<t.row;if(a)var f=e.row,l=t.row;else var f=t.row,l=e.row;o<0&&(o=0),f<0&&(f=0),f==l&&(n=!0);for(var c=f;c<=l;c++){var h=i.fromPoints(this.session.screenToDocumentPosition(c,o),this.session.screenToDocumentPosition(c,u));if(h.isEmpty()){if(p&&v(h.end,p))break;var p=h.end}h.cursor=s?h.start:h.end,r.push(h)}a&&r.reverse();if(!n){var d=r.length-1;while(r[d].isEmpty()&&d>0)d--;if(d>0){var m=0;while(r[m].isEmpty())m++}for(var g=d;g>=m;g--)r[g].isEmpty()&&r.splice(g,1)}return r}}.call(s.prototype);var d=e(\"./editor\").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,\"ace_selection\",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var r=e[n];if(!r.marker)continue;this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle(\"ace_multiselect\"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler(\"exec\",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle(\"ace_multiselect\"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler(\"exec\",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit(\"changeSelection\")},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(!n.multiSelect)return;if(!t.multiSelectAction){var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}else t.multiSelectAction==\"forEach\"?r=n.forEachSelection(t,e.args):t.multiSelectAction==\"forEachLine\"?r=n.forEachSelection(t,e.args,!0):t.multiSelectAction==\"single\"?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});return r},this.forEachSelection=function(e,t,n){if(this.inVirtualSelectionMode)return;var r=n&&n.keepOrder,i=n==1||n&&n.$byLines,o=this.session,u=this.selection,a=u.rangeList,f=(r?u:a).ranges,l;if(!f.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=u._eventRegistry;u._eventRegistry={};var h=new s(o);this.inVirtualSelectionMode=!0;for(var p=f.length;p--;){if(i)while(p>0&&f[p].start.row==f[p-1].end.row)p--;h.fromOrientedRange(f[p]),h.index=p,this.selection=o.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});!l&&d!==undefined&&(l=d),h.toOrientedRange(f[p])}h.detach(),this.selection=o.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=c,u.mergeOverlappingRanges();var v=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),v&&v.from==v.to&&this.renderer.animateScrolling(v.from),l},this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e=\"\";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.rangeList.ranges,n=[];for(var r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e=\"\")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle;if(t.needle==undefined){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var s=this.multiSelect;n||s.toSingleRange(i[0]);for(var o=i.length;o--;)s.addRange(i[o],!0);return r&&s.rangeList.rangeAtPoint(r.start)&&s.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(s.row+e,s.column);if(!n.isEmpty())var u=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+e,u.column);else var a=o;if(r){var f=i.fromPoints(o,a);f.cursor=f.start}else{var f=i.fromPoints(a,o);f.cursor=f.end}f.desiredColumn=s.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(n);else if(t)var l=n.cursor;this.selection.addRange(f),l&&this.selection.substractPoint(l)},this.transposeSelections=function(e){var t=this.session,n=t.multiSelect,r=n.ranges;for(var i=r.length;i--;){var s=r[i];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var u=[];for(var i=r.length;i--;){var s=r[i];u.unshift(t.getTextRange(s))}e<0?u.unshift(u.pop()):u.push(u.shift());for(var i=r.length;i--;){var s=r[i],o=s.clone();t.replace(s,u[i]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect,s=i.toOrientedRange();if(s.isEmpty()){s=r.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s);if(n)return}var o=r.getTextRange(s),u=h(r,o,e);u&&(u.cursor=e==-1?u.start:u.end,this.$blockScrolling+=1,this.session.unfold(u),this.multiSelect.addRange(u),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,s=n.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(!n.length||s.length==n.length-1){var o=this.selection.getRange(),u=o.start.row,f=o.end.row,l=u==f;if(l){var c=this.session.getLength(),h;do h=this.session.getLine(f);while(/[=:]/.test(h)&&++f<c);do h=this.session.getLine(u);while(/[=:]/.test(h)&&--u>0);u<0&&(u=0),f>=c&&(f=c-1)}var p=this.session.removeFullLines(u,f);p=this.$reAlignText(p,l),this.session.insert({row:u,column:0},p.join(\"\\n\")+\"\\n\"),l||(o.start.column=0,o.end.column=p[p.length-1].length),this.selection.setRange(o)}else{s.forEach(function(e){t.substractPoint(e.cursor)});var d=0,v=Infinity,m=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\\S/g);return i==-1&&(i=0),n.column>d&&(d=n.column),i<v&&(v=i),i});n.forEach(function(t,n){var r=t.cursor,s=d-r.column,o=m[n]-v;s>o?e.insert(r,a.stringRepeat(\" \",s-o)):e.remove(new i(r.row,r.column,r.row,r.column-s+o)),t.start.column=t.end.column=d,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(e,t){function u(e){return a.stringRepeat(\" \",e)}function f(e){return e[2]?u(i)+e[2]+u(s-e[2].length+o)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}function l(e){return e[2]?u(i+s-e[2].length)+e[2]+u(o,\" \")+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}function c(e){return e[2]?u(i)+e[2]+u(o)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}var n=!0,r=!0,i,s,o;return e.map(function(e){var t=e.match(/(\\s*)(.*?)(\\s*)([=:].*)/);return t?i==null?(i=t[1].length,s=t[2].length,o=t[3].length,t):(i+s+o!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(n=!1),i>t[1].length&&(i=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?f:n?r?l:f:c)}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off(\"addRange\",this.$onAddRange),n.multiSelect.off(\"removeRange\",this.$onRemoveRange),n.multiSelect.off(\"multiSelect\",this.$onMultiSelect),n.multiSelect.off(\"singleSelect\",this.$onSingleSelect),n.multiSelect.lead.off(\"change\",this.$checkMultiselectChange),n.multiSelect.anchor.off(\"change\",this.$checkMultiselectChange)),t&&(t.multiSelect.on(\"addRange\",this.$onAddRange),t.multiSelect.on(\"removeRange\",this.$onRemoveRange),t.multiSelect.on(\"multiSelect\",this.$onMultiSelect),t.multiSelect.on(\"singleSelect\",this.$onSingleSelect),t.multiSelect.lead.on(\"change\",this.$checkMultiselectChange),t.multiSelect.anchor.on(\"change\",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m,e(\"./config\").defineOptions(d.prototype,\"editor\",{enableMultiselect:{set:function(e){m(this),e?(this.on(\"changeSession\",this.$multiselectOnSessionChange),this.on(\"mousedown\",o)):(this.off(\"changeSession\",this.$multiselectOnSessionChange),this.off(\"mousedown\",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"],function(e,t,n){\"use strict\";var r=e(\"../../range\").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?\"start\":t==\"markbeginend\"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?\"end\":\"\"},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\\S/,s=e.getLine(t),o=s.search(i);if(o==-1)return;var u=n||s.length,a=e.getLength(),f=t,l=t;while(++t<a){var c=e.getLine(t).search(i);if(c==-1)continue;if(c<=o)break;l=t}if(l>f){var h=e.getLine(l).length;return new r(f,u,l,h)}},this.openingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i+1},u=e.$findClosingBracket(t,o,s);if(!u)return;var a=e.foldWidgets[u.row];return a==null&&(a=e.getFoldWidget(u.row)),a==\"start\"&&u.row>o.row&&(u.row--,u.column=e.getLine(u.row).length),r.fromPoints(o,u)},this.closingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i},u=e.$findOpeningBracket(t,o);if(!u)return;return u.column++,o.column--,r.fromPoints(u,o)}}).call(i.prototype)}),define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";t.isDark=!1,t.cssClass=\"ace-tm\",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;}';var r=e(\"../lib/dom\");r.importCssString(t.cssText,t.cssClass)}),define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/range\"],function(e,t,n){\"use strict\";function o(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on(\"change\",this.updateOnChange),this.session.on(\"changeFold\",this.updateOnFold),this.session.on(\"changeEditor\",this.$onChangeEditor)}var r=e(\"./lib/oop\"),i=e(\"./lib/dom\"),s=e(\"./range\").Range;(function(){this.getRowLength=function(e){var t;return this.lineWidgets?t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:t=0,!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach();if(this.editor==e)return;this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on(\"beforeRender\",this.measureWidgets),e.renderer.on(\"afterRender\",this.renderWidgets))},this.detach=function(e){var t=this.editor;if(!t)return;this.editor=null,t.widgetManager=null,t.renderer.off(\"beforeRender\",this.measureWidgets),t.renderer.off(\"afterRender\",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(!n||!e.action)return;var r=e.data,i=r.start.row,s=r.end.row,o=e.action==\"add\";for(var u=i+1;u<s;u++)n[u]&&(n[u].hidden=o);n[s]&&(o?n[i]?n[s].hidden=o:n[i]=n[s]:(n[i]==n[s]&&(n[i]=undefined),n[s].hidden=o))},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(!t)return;var n=e.start.row,r=e.end.row-n;if(r!==0)if(e.action==\"remove\"){var i=t.splice(n+1,r);i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(r);s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}},this.$updateRows=function(){var e=this.session.lineWidgets;if(!e)return;var t=!0;e.forEach(function(e,n){if(e){t=!1,e.row=n;while(e.$oldWidget)e.$oldWidget.row=n,e=e.$oldWidget}}),t&&(this.session.lineWidgets=null)},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement(\"div\"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,\"ace_lineWidgetContainer\"),e.el.style.position=\"absolute\",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight==null&&(e.pixelHeight=e.el.offsetHeight),e.rowCount==null&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);e.$fold=r;if(r){var s=this.session.lineWidgets;e.row==r.end.row&&!s[r.start.row]?s[r.start.row]=e:e.hidden=!0}return this.session._emit(\"changeFold\",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el);if(e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[e.row];if(n==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else while(n){if(n.$oldWidget==e){n.$oldWidget=e.$oldWidget;break}n=n.$oldWidget}}this.session._emit(\"changeFold\",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){var t=this.session.lineWidgets,n=t&&t[e],r=[];while(n)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(!n||!n.length)return;var i=Infinity;for(var s=0;s<n.length;s++){var o=n[s];if(!o||!o.el)continue;if(o.session!=this.session)continue;if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var u=o.h/r.lineHeight;o.coverLine&&(u-=this.session.getRowLineCount(o.row),u<0&&(u=0)),o.rowCount!=u&&(o.rowCount=u,o.row<i&&(i=o.row))}i!=Infinity&&(this.session._emit(\"changeFold\",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(!r)return;var i=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,r.length);while(i>0&&!r[i])i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;o<=s;o++){var u=r[o];if(!u||!u.el)continue;if(u.hidden){u.el.style.top=-100-(u.pixelHeight||0)+\"px\";continue}u._inDocument||(u._inDocument=!0,t.container.appendChild(u.el));var a=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;u.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-n.offset+\"px\";var f=u.coverGutter?0:t.gutterWidth;u.fixedWidth||(f-=t.scrollLeft),u.el.style.left=f+\"px\",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=n.width+2*n.padding+\"px\"),u.fixedWidth?u.el.style.right=t.scrollBar.getWidth()+\"px\":u.el.style.right=\"\"}}}).call(o.prototype),t.LineWidgets=o}),define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"],function(e,t,n){\"use strict\";function o(e,t,n){var r=0,i=e.length-1;while(r<=i){var s=r+i>>1,o=n(t,e[s]);if(o>0)r=s+1;else{if(!(o<0))return s;i=s-1}}return-(r+1)}function u(e,t,n){var r=e.getAnnotations().sort(s.comparePoints);if(!r.length)return;var i=o(r,{row:t,column:-1},s.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:i===0&&n<0&&(i=r.length-1);var u=r[i];if(!u||!n)return;if(u.row===t){do u=r[i+=n];while(u&&u.row===t);if(!u)return r.slice()}var a=[];t=u.row;do a[n<0?\"unshift\":\"push\"](u),u=r[i+=n];while(u&&u.row==t);return a.length&&a}var r=e(\"../line_widgets\").LineWidgets,i=e(\"../lib/dom\"),s=e(\"../range\").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),o=s.row,a=n.widgetManager.getWidgetsAtRow(o).filter(function(e){return e.type==\"errorMarker\"})[0];a?a.destroy():o-=t;var f=u(n,o,t),l;if(f){var c=f[0];s.column=(c.pos&&typeof c.column!=\"number\"?c.pos.sc:c.column)||0,s.row=c.row,l=e.renderer.$gutterLayer.$annotations[s.row]}else{if(a)return;l={text:[\"Looks good!\"],className:\"ace_ok\"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:i.createElement(\"div\"),type:\"errorMarker\"},p=h.el.appendChild(i.createElement(\"div\")),d=h.el.appendChild(i.createElement(\"div\"));d.className=\"error_widget_arrow \"+l.className;var v=e.renderer.$cursorLayer.getPixelPosition(s).left;d.style.left=v+e.renderer.gutterWidth-5+\"px\",h.el.className=\"error_widget_wrapper\",p.className=\"error_widget \"+l.className,p.innerHTML=l.text.join(\"<br>\"),p.appendChild(i.createElement(\"div\"));var m=function(e,t,n){if(t===0&&(n===\"esc\"||n===\"return\"))return h.destroy(),{command:\"null\"}};h.destroy=function(){if(e.$mouseHandler.isMousePressed)return;e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off(\"changeSelection\",h.destroy),e.off(\"changeSession\",h.destroy),e.off(\"mouseup\",h.destroy),e.off(\"change\",h.destroy)},e.keyBinding.addKeyboardHandler(m),e.on(\"changeSelection\",h.destroy),e.on(\"changeSession\",h.destroy),e.on(\"mouseup\",h.destroy),e.on(\"change\",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},i.importCssString(\"    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }\",\"\")}),define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"],function(e,t,n){\"use strict\";e(\"./lib/fixoldbrowsers\");var r=e(\"./lib/dom\"),i=e(\"./lib/event\"),s=e(\"./editor\").Editor,o=e(\"./edit_session\").EditSession,u=e(\"./undomanager\").UndoManager,a=e(\"./virtual_renderer\").VirtualRenderer;e(\"./worker/worker_client\"),e(\"./keyboard/hash_handler\"),e(\"./placeholder\"),e(\"./multi_select\"),e(\"./mode/folding/fold_mode\"),e(\"./theme/textmate\"),e(\"./ext/error_marker\"),t.config=e(\"./config\"),t.require=e,typeof define==\"function\"&&(t.define=define),t.edit=function(e){if(typeof e==\"string\"){var n=e;e=document.getElementById(n);if(!e)throw new Error(\"ace.edit can't find div #\"+n)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var o=\"\";if(e&&/input|textarea/i.test(e.tagName)){var u=e;o=u.value,e=r.createElement(\"pre\"),u.parentNode.replaceChild(e,u)}else e&&(o=r.getInnerText(e),e.innerHTML=\"\");var f=t.createEditSession(o),l=new s(new a(e));l.setSession(f);var c={document:f,editor:l,onResize:l.resize.bind(l,null)};return u&&(c.textarea=u),i.addListener(window,\"resize\",c.onResize),l.on(\"destroy\",function(){i.removeListener(window,\"resize\",c.onResize),c.editor.container.env=null}),l.container.env=l.env=c,l},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new u),n},t.EditSession=o,t.UndoManager=u,t.version=\"1.2.8\"});\n            (function() {\n                window.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = window.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                });\n            })();\n        "

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../ace-builds/src-min/theme-eclipse.js":
/***/ (function(module, exports) {

module.exports = "define(\"ace/theme/eclipse\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],function(e,t,n){\"use strict\";t.isDark=!1,t.cssText='.ace-eclipse .ace_gutter {background: #ebebeb;border-right: 1px solid rgb(159, 159, 159);color: rgb(136, 136, 136);}.ace-eclipse .ace_print-margin {width: 1px;background: #ebebeb;}.ace-eclipse {background-color: #FFFFFF;color: black;}.ace-eclipse .ace_fold {background-color: rgb(60, 76, 114);}.ace-eclipse .ace_cursor {color: black;}.ace-eclipse .ace_storage,.ace-eclipse .ace_keyword,.ace-eclipse .ace_variable {color: rgb(127, 0, 85);}.ace-eclipse .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-eclipse .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-eclipse .ace_function {color: rgb(60, 76, 114);}.ace-eclipse .ace_string {color: rgb(42, 0, 255);}.ace-eclipse .ace_comment {color: rgb(113, 150, 130);}.ace-eclipse .ace_comment.ace_doc {color: rgb(63, 95, 191);}.ace-eclipse .ace_comment.ace_doc.ace_tag {color: rgb(127, 159, 191);}.ace-eclipse .ace_constant.ace_numeric {color: darkblue;}.ace-eclipse .ace_tag {color: rgb(25, 118, 116);}.ace-eclipse .ace_type {color: rgb(127, 0, 127);}.ace-eclipse .ace_xml-pe {color: rgb(104, 104, 91);}.ace-eclipse .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-eclipse .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-eclipse .ace_meta.ace_tag {color:rgb(25, 118, 116);}.ace-eclipse .ace_invisible {color: #ddd;}.ace-eclipse .ace_entity.ace_other.ace_attribute-name {color:rgb(127, 0, 127);}.ace-eclipse .ace_marker-layer .ace_step {background: rgb(255, 255, 0);}.ace-eclipse .ace_active-line {background: rgb(232, 242, 254);}.ace-eclipse .ace_gutter-active-line {background-color : #DADADA;}.ace-eclipse .ace_marker-layer .ace_selected-word {border: 1px solid rgb(181, 213, 255);}.ace-eclipse .ace_indent-guide {background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;}',t.cssClass=\"ace-eclipse\";var r=e(\"../lib/dom\");r.importCssString(t.cssText,t.cssClass)})"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../easy-pie-chart/dist/easypiechart.js":
/***/ (function(module, exports) {

module.exports = "/**!\n * easy-pie-chart\n * Lightweight plugin to render simple, animated and retina optimized pie charts\n *\n * @license \n * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)\n * @version 2.1.7\n **/\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (root['EasyPieChart'] = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['EasyPieChart'] = factory();\n  }\n}(this, function () {\n\n/**\n * Renderer to render the chart on a canvas object\n * @param {DOMElement} el      DOM element to host the canvas (root of the plugin)\n * @param {object}     options options object of the plugin\n */\nvar CanvasRenderer = function(el, options) {\n\tvar cachedBackground;\n\tvar canvas = document.createElement('canvas');\n\n\tel.appendChild(canvas);\n\n\tif (typeof(G_vmlCanvasManager) === 'object') {\n\t\tG_vmlCanvasManager.initElement(canvas);\n\t}\n\n\tvar ctx = canvas.getContext('2d');\n\n\tcanvas.width = canvas.height = options.size;\n\n\t// canvas on retina devices\n\tvar scaleBy = 1;\n\tif (window.devicePixelRatio > 1) {\n\t\tscaleBy = window.devicePixelRatio;\n\t\tcanvas.style.width = canvas.style.height = [options.size, 'px'].join('');\n\t\tcanvas.width = canvas.height = options.size * scaleBy;\n\t\tctx.scale(scaleBy, scaleBy);\n\t}\n\n\t// move 0,0 coordinates to the center\n\tctx.translate(options.size / 2, options.size / 2);\n\n\t// rotate canvas -90deg\n\tctx.rotate((-1 / 2 + options.rotate / 180) * Math.PI);\n\n\tvar radius = (options.size - options.lineWidth) / 2;\n\tif (options.scaleColor && options.scaleLength) {\n\t\tradius -= options.scaleLength + 2; // 2 is the distance between scale and bar\n\t}\n\n\t// IE polyfill for Date\n\tDate.now = Date.now || function() {\n\t\treturn +(new Date());\n\t};\n\n\t/**\n\t * Draw a circle around the center of the canvas\n\t * @param {strong} color     Valid CSS color string\n\t * @param {number} lineWidth Width of the line in px\n\t * @param {number} percent   Percentage to draw (float between -1 and 1)\n\t */\n\tvar drawCircle = function(color, lineWidth, percent) {\n\t\tpercent = Math.min(Math.max(-1, percent || 0), 1);\n\t\tvar isNegative = percent <= 0 ? true : false;\n\n\t\tctx.beginPath();\n\t\tctx.arc(0, 0, radius, 0, Math.PI * 2 * percent, isNegative);\n\n\t\tctx.strokeStyle = color;\n\t\tctx.lineWidth = lineWidth;\n\n\t\tctx.stroke();\n\t};\n\n\t/**\n\t * Draw the scale of the chart\n\t */\n\tvar drawScale = function() {\n\t\tvar offset;\n\t\tvar length;\n\n\t\tctx.lineWidth = 1;\n\t\tctx.fillStyle = options.scaleColor;\n\n\t\tctx.save();\n\t\tfor (var i = 24; i > 0; --i) {\n\t\t\tif (i % 6 === 0) {\n\t\t\t\tlength = options.scaleLength;\n\t\t\t\toffset = 0;\n\t\t\t} else {\n\t\t\t\tlength = options.scaleLength * 0.6;\n\t\t\t\toffset = options.scaleLength - length;\n\t\t\t}\n\t\t\tctx.fillRect(-options.size/2 + offset, 0, length, 1);\n\t\t\tctx.rotate(Math.PI / 12);\n\t\t}\n\t\tctx.restore();\n\t};\n\n\t/**\n\t * Request animation frame wrapper with polyfill\n\t * @return {function} Request animation frame method or timeout fallback\n\t */\n\tvar reqAnimationFrame = (function() {\n\t\treturn  window.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\twindow.setTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t}());\n\n\t/**\n\t * Draw the background of the plugin including the scale and the track\n\t */\n\tvar drawBackground = function() {\n\t\tif(options.scaleColor) drawScale();\n\t\tif(options.trackColor) drawCircle(options.trackColor, options.trackWidth || options.lineWidth, 1);\n\t};\n\n  /**\n    * Canvas accessor\n   */\n  this.getCanvas = function() {\n    return canvas;\n  };\n\n  /**\n    * Canvas 2D context 'ctx' accessor\n   */\n  this.getCtx = function() {\n    return ctx;\n  };\n\n\t/**\n\t * Clear the complete canvas\n\t */\n\tthis.clear = function() {\n\t\tctx.clearRect(options.size / -2, options.size / -2, options.size, options.size);\n\t};\n\n\t/**\n\t * Draw the complete chart\n\t * @param {number} percent Percent shown by the chart between -100 and 100\n\t */\n\tthis.draw = function(percent) {\n\t\t// do we need to render a background\n\t\tif (!!options.scaleColor || !!options.trackColor) {\n\t\t\t// getImageData and putImageData are supported\n\t\t\tif (ctx.getImageData && ctx.putImageData) {\n\t\t\t\tif (!cachedBackground) {\n\t\t\t\t\tdrawBackground();\n\t\t\t\t\tcachedBackground = ctx.getImageData(0, 0, options.size * scaleBy, options.size * scaleBy);\n\t\t\t\t} else {\n\t\t\t\t\tctx.putImageData(cachedBackground, 0, 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.clear();\n\t\t\t\tdrawBackground();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.clear();\n\t\t}\n\n\t\tctx.lineCap = options.lineCap;\n\n\t\t// if barcolor is a function execute it and pass the percent as a value\n\t\tvar color;\n\t\tif (typeof(options.barColor) === 'function') {\n\t\t\tcolor = options.barColor(percent);\n\t\t} else {\n\t\t\tcolor = options.barColor;\n\t\t}\n\n\t\t// draw bar\n\t\tdrawCircle(color, options.lineWidth, percent / 100);\n\t}.bind(this);\n\n\t/**\n\t * Animate from some percent to some other percentage\n\t * @param {number} from Starting percentage\n\t * @param {number} to   Final percentage\n\t */\n\tthis.animate = function(from, to) {\n\t\tvar startTime = Date.now();\n\t\toptions.onStart(from, to);\n\t\tvar animation = function() {\n\t\t\tvar process = Math.min(Date.now() - startTime, options.animate.duration);\n\t\t\tvar currentValue = options.easing(this, process, from, to - from, options.animate.duration);\n\t\t\tthis.draw(currentValue);\n\t\t\toptions.onStep(from, to, currentValue);\n\t\t\tif (process >= options.animate.duration) {\n\t\t\t\toptions.onStop(from, to);\n\t\t\t} else {\n\t\t\t\treqAnimationFrame(animation);\n\t\t\t}\n\t\t}.bind(this);\n\n\t\treqAnimationFrame(animation);\n\t}.bind(this);\n};\n\nvar EasyPieChart = function(el, opts) {\n\tvar defaultOptions = {\n\t\tbarColor: '#ef1e25',\n\t\ttrackColor: '#f9f9f9',\n\t\tscaleColor: '#dfe0e0',\n\t\tscaleLength: 5,\n\t\tlineCap: 'round',\n\t\tlineWidth: 3,\n\t\ttrackWidth: undefined,\n\t\tsize: 110,\n\t\trotate: 0,\n\t\tanimate: {\n\t\t\tduration: 1000,\n\t\t\tenabled: true\n\t\t},\n\t\teasing: function (x, t, b, c, d) { // more can be found here: http://gsgd.co.uk/sandbox/jquery/easing/\n\t\t\tt = t / (d/2);\n\t\t\tif (t < 1) {\n\t\t\t\treturn c / 2 * t * t + b;\n\t\t\t}\n\t\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t\t},\n\t\tonStart: function(from, to) {\n\t\t\treturn;\n\t\t},\n\t\tonStep: function(from, to, currentValue) {\n\t\t\treturn;\n\t\t},\n\t\tonStop: function(from, to) {\n\t\t\treturn;\n\t\t}\n\t};\n\n\t// detect present renderer\n\tif (typeof(CanvasRenderer) !== 'undefined') {\n\t\tdefaultOptions.renderer = CanvasRenderer;\n\t} else if (typeof(SVGRenderer) !== 'undefined') {\n\t\tdefaultOptions.renderer = SVGRenderer;\n\t} else {\n\t\tthrow new Error('Please load either the SVG- or the CanvasRenderer');\n\t}\n\n\tvar options = {};\n\tvar currentValue = 0;\n\n\t/**\n\t * Initialize the plugin by creating the options object and initialize rendering\n\t */\n\tvar init = function() {\n\t\tthis.el = el;\n\t\tthis.options = options;\n\n\t\t// merge user options into default options\n\t\tfor (var i in defaultOptions) {\n\t\t\tif (defaultOptions.hasOwnProperty(i)) {\n\t\t\t\toptions[i] = opts && typeof(opts[i]) !== 'undefined' ? opts[i] : defaultOptions[i];\n\t\t\t\tif (typeof(options[i]) === 'function') {\n\t\t\t\t\toptions[i] = options[i].bind(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// check for jQuery easing\n\t\tif (typeof(options.easing) === 'string' && typeof(jQuery) !== 'undefined' && jQuery.isFunction(jQuery.easing[options.easing])) {\n\t\t\toptions.easing = jQuery.easing[options.easing];\n\t\t} else {\n\t\t\toptions.easing = defaultOptions.easing;\n\t\t}\n\n\t\t// process earlier animate option to avoid bc breaks\n\t\tif (typeof(options.animate) === 'number') {\n\t\t\toptions.animate = {\n\t\t\t\tduration: options.animate,\n\t\t\t\tenabled: true\n\t\t\t};\n\t\t}\n\n\t\tif (typeof(options.animate) === 'boolean' && !options.animate) {\n\t\t\toptions.animate = {\n\t\t\t\tduration: 1000,\n\t\t\t\tenabled: options.animate\n\t\t\t};\n\t\t}\n\n\t\t// create renderer\n\t\tthis.renderer = new options.renderer(el, options);\n\n\t\t// initial draw\n\t\tthis.renderer.draw(currentValue);\n\n\t\t// initial update\n\t\tif (el.dataset && el.dataset.percent) {\n\t\t\tthis.update(parseFloat(el.dataset.percent));\n\t\t} else if (el.getAttribute && el.getAttribute('data-percent')) {\n\t\t\tthis.update(parseFloat(el.getAttribute('data-percent')));\n\t\t}\n\t}.bind(this);\n\n\t/**\n\t * Update the value of the chart\n\t * @param  {number} newValue Number between 0 and 100\n\t * @return {object}          Instance of the plugin for method chaining\n\t */\n\tthis.update = function(newValue) {\n\t\tnewValue = parseFloat(newValue);\n\t\tif (options.animate.enabled) {\n\t\t\tthis.renderer.animate(currentValue, newValue);\n\t\t} else {\n\t\t\tthis.renderer.draw(newValue);\n\t\t}\n\t\tcurrentValue = newValue;\n\t\treturn this;\n\t}.bind(this);\n\n\t/**\n\t * Disable animation\n\t * @return {object} Instance of the plugin for method chaining\n\t */\n\tthis.disableAnimation = function() {\n\t\toptions.animate.enabled = false;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Enable animation\n\t * @return {object} Instance of the plugin for method chaining\n\t */\n\tthis.enableAnimation = function() {\n\t\toptions.animate.enabled = true;\n\t\treturn this;\n\t};\n\n\tinit();\n};\n\nreturn EasyPieChart;\n\n}));\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../hammerjs/hammer.js":
/***/ (function(module, exports) {

module.exports = "/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../jquery/dist/jquery.min.js":
/***/ (function(module, exports) {

module.exports = "/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=\"2.2.4\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if(\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,\"constructor\")&&!k.call(a.constructor.prototype||{},\"isPrototypeOf\"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?i[j.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=d.createElement(\"script\"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),\"function\"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(a,b){i[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=!!a&&\"length\"in a&&a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",L=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",N=\"\\\\[\"+L+\"*(\"+M+\")(?:\"+L+\"*([*^$|!~]?=)\"+L+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+M+\"))|)\"+L+\"*\\\\]\",O=\":(\"+M+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+N+\")*)|.*)\\\\)|)\",P=new RegExp(L+\"+\",\"g\"),Q=new RegExp(\"^\"+L+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+L+\"+$\",\"g\"),R=new RegExp(\"^\"+L+\"*,\"+L+\"*\"),S=new RegExp(\"^\"+L+\"*([>+~]|\"+L+\")\"+L+\"*\"),T=new RegExp(\"=\"+L+\"*([^\\\\]'\\\"]*?)\"+L+\"*\\\\]\",\"g\"),U=new RegExp(O),V=new RegExp(\"^\"+M+\"$\"),W={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),TAG:new RegExp(\"^(\"+M+\"|[*])\"),ATTR:new RegExp(\"^\"+N),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+L+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+L+\"*(?:([+-]|)\"+L+\"*(\\\\d+)|))\"+L+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+K+\")$\",\"i\"),needsContext:new RegExp(\"^\"+L+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+L+\"*((?:-\\\\d)?\\\\d*)\"+L+\"*\\\\)|)(?=[^-]|$)\",\"i\")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/'|\\\\/g,ba=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+L+\"?|(\"+L+\")|.)\",\"ig\"),ca=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],\"string\"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+\" \"]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if(\"object\"!==b.nodeName.toLowerCase()){(k=b.getAttribute(\"id\"))?k=k.replace(aa,\"\\\\$&\"):b.setAttribute(\"id\",k=u),r=g(a),h=r.length,l=V.test(k)?\"#\"+k:\"[id='\"+k+\"']\";while(h--)r[h]=l+\" \"+qa(r[h]);s=r.join(\",\"),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute(\"id\")}}}return i(a.replace(Q,\"$1\"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split(\"|\"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&\"undefined\"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener(\"unload\",da,!1):e.attachEvent&&e.attachEvent(\"onunload\",da)),c.attributes=ia(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\"undefined\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=\"undefined\"!=typeof a.getAttributeNode&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\"undefined\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return\"undefined\"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML=\"<a id='\"+u+\"'></a><select id='\"+u+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowcapture^='']\").length&&q.push(\"[*^$]=\"+L+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+L+\"*(?:value|\"+K+\")\"),a.querySelectorAll(\"[id~=\"+u+\"-]\").length||q.push(\"~=\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\"),a.querySelectorAll(\"a#\"+u+\"+*\").length||q.push(\".#.+[+~]\")}),ia(function(a){var b=n.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+L+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",O)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,\"='$1']\"),c.matchesSelector&&p&&!A[b+\" \"]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||\"\").replace(ba,ca),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+L+\")\"+a+\"(\"+L+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||\"undefined\"!=typeof a.getAttribute&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e.replace(P,\" \")+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,\"$1\"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||\"\")||fa.error(\"unsupported lang: \"+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(Q,\"$1\"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s=\"0\",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG(\"*\",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ia(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||ja(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||ja(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute(\"disabled\")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,\"string\"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,\"string\"==typeof a){if(e=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?\"string\"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,\"parentNode\")},parentsUntil:function(a,b,c){return u(a,\"parentNode\",c)},next:function(a){return F(a,\"nextSibling\")},prev:function(a){return F(a,\"previousSibling\")},nextAll:function(a){return u(a,\"nextSibling\")},prevAll:function(a){return u(a,\"previousSibling\")},nextUntil:function(a,b,c){return u(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return u(a,\"previousSibling\",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:\"\")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&\"string\"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c=\"\",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=\"\"),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler(\"ready\"),n(d).off(\"ready\"))))}});function J(){d.removeEventListener(\"DOMContentLoaded\",J),a.removeEventListener(\"load\",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),\"complete\"===d.readyState||\"loading\"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener(\"DOMContentLoaded\",J),a.addEventListener(\"load\",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if(\"string\"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(Q,\"-$&\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:P.test(c)?n.parseJSON(c):c;\n}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,\"-$&\").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf(\"-\")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){N.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=N.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=new RegExp(\"^(?:([+-])=|)(\"+S+\")([a-z%]*)$\",\"i\"),U=[\"Top\",\"Right\",\"Bottom\",\"Left\"],V=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,\"\")},i=h(),j=c&&c[3]||(n.cssNumber[b]?\"\":\"px\"),k=(n.cssNumber[b]||\"px\"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||\".5\",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\\w:-]+)/,Z=/^$|\\/(?:java|ecma)script/i,$={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c=\"undefined\"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):\"undefined\"!=typeof a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],\"globalEval\",!b||N.get(b[c],\"globalEval\"))}var ba=/<|&#?\\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if(\"object\"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement(\"div\")),h=(Y.exec(f)||[\"\",\"\"])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=\"\"}else m.push(b.createTextNode(f));l.textContent=\"\",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),\"script\"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||\"\")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement(\"div\")),c=d.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if(\"object\"==typeof b){\"string\"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&(\"string\"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return\"undefined\"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,\"handle events\")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(\"click\"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&\"function\"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,la=/<script|<style|<link/i,ma=/checked\\s*(?:[^=]|=\\s*.checked.)/i,na=/^true\\/(.*)/,oa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function pa(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function qa(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&X.test(a.type)?b.checked=a.checked:\"input\"!==c&&\"textarea\"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&\"string\"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,\"script\"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,\"script\"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||\"\")&&!N.access(j,\"globalEval\")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,\"\")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,\"script\")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,\"<$1></$2>\")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,\"script\"),g.length>0&&aa(g,!i&&_(a,\"script\")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:\"block\",BODY:\"block\"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],\"display\");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),\"none\"!==c&&c||(wa=(wa||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp(\"^(\"+S+\")(?!px)[a-z%]+$\",\"i\"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement(\"div\"),h=d.createElement(\"div\");if(h.style){h.style.backgroundClip=\"content-box\",h.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===h.style.backgroundClip,g.style.cssText=\"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute\",g.appendChild(h);function i(){h.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%\",h.innerHTML=\"\",Ea.appendChild(g);var d=a.getComputedStyle(h);b=\"1%\"!==d.top,f=\"2px\"===d.marginLeft,c=\"4px\"===d.width,h.style.marginRight=\"50%\",e=\"4px\"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement(\"div\"));return c.style.cssText=h.style.cssText=\"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",h.style.width=\"1px\",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,\"\"!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+\"\":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ja={letterSpacing:\"0\",fontWeight:\"400\"},Ka=[\"Webkit\",\"O\",\"Moz\",\"ms\"],La=d.createElement(\"div\").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||\"px\"):b}function Oa(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+U[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+U[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+U[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+U[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+U[f]+\"Width\",!0,e)));return g}function Pa(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&V(d)&&(f[g]=N.access(d,\"olddisplay\",za(d.nodeName)))):(e=V(d),\"none\"===c&&e||N.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f=\"number\"),null!=c&&c===c&&(\"number\"===f&&(c+=e&&e[3]||(n.cssNumber[h]?\"\":\"px\")),l.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),\"normal\"===e&&b in Ja&&(e=Ja[b]),\"\"===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,\"display\"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,f),f);return g&&(e=T.exec(c))&&\"px\"!==(e[3]||\"px\")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,\"marginLeft\"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+\"px\":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:\"inline-block\"},Fa,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:\"swing\"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?N.get(a,\"olddisplay\")||za(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?za(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=N.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{\"*\":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=N.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa(\"show\"),slideUp:Xa(\"hide\"),slideToggle:Xa(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||\"fx\",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement(\"input\"),b=d.createElement(\"select\"),c=b.appendChild(d.createElement(\"option\"));a.type=\"checkbox\",l.checkOn=\"\"!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",l.radioValue=\"t\"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return\"undefined\"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+\"\"),c):e&&\"get\"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),\nvoid 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,\"tabindex\");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\\t\\r\\n\\f]/g;function fb(a){return a.getAttribute&&a.getAttribute(\"class\")||\"\"}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])d.indexOf(\" \"+f+\" \")<0&&(d+=f+\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])while(d.indexOf(\" \"+f+\" \")>-1)d=d.replace(\" \"+f+\" \",\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if(\"string\"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&\"boolean\"!==c||(b=fb(this),b&&N.set(this,\"__className__\",b),this.setAttribute&&this.setAttribute(\"class\",b||a===!1?\"\":N.get(this,\"__className__\")||\"\"))})},hasClass:function(a){var b,c,d=0;b=\" \"+a+\" \";while(c=this[d++])if(1===c.nodeType&&(\" \"+fb(c)+\" \").replace(eb,\" \").indexOf(b)>-1)return!0;return!1}});var gb=/\\r/g,hb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(gb,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a)).replace(hb,\" \")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute(\"disabled\"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,\"type\")?b.type:b,r=k.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(\".\")>-1&&(r=q.split(\".\"),q=r.shift(),r.sort()),l=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join(\".\"),b.rnamespace=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,\"events\")||{})[b.type]&&N.get(h,\"handle\"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin=\"onfocusin\"in a,l.focusin||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(b){var c;if(!b||\"string\"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,\"text/xml\")}catch(d){c=void 0}return c&&!c.getElementsByTagName(\"parsererror\").length||n.error(\"Invalid XML: \"+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\\/\\//,sb={},tb={},ub=\"*/\".concat(\"*\"),vb=d.createElement(\"a\");vb.href=jb.href;function wb(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:\"GET\",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ub,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){\"object\"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks(\"once memory\"),s=m.statusCode||{},t={},u={},v=0,w=\"canceled\",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+\"\").replace(mb,\"\").replace(rb,jb.protocol+\"//\"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||\"*\").toLowerCase().match(G)||[\"\"],null==m.crossDomain){j=d.createElement(\"a\");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+\"//\"+vb.host!=j.protocol+\"//\"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?\"&\":\"?\")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,\"$1_=\"+kb++):f+(lb.test(f)?\"&\":\"?\")+\"_=\"+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader(\"If-Modified-Since\",n.lastModified[f]),n.etag[f]&&x.setRequestHeader(\"If-None-Match\",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader(\"Content-Type\",m.contentType),x.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+ub+\"; q=0.01\":\"\"):m.accepts[\"*\"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w=\"abort\";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger(\"ajaxSend\",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort(\"timeout\")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,\"No Transport\");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||\"\",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[f]=w),w=x.getResponseHeader(\"etag\"),w&&(n.etag[f]=w)),204===b||\"HEAD\"===m.type?y=\"nocontent\":304===b?y=\"notmodified\":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y=\"error\",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+\"\",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?\"ajaxSuccess\":\"ajaxError\",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger(\"ajaxComplete\",[x,m]),--n.active||n.event.trigger(\"ajaxStop\")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\\[\\]$/,Db=/\\r?\\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+\"[\"+(\"object\"==typeof e&&null!=e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Gb(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join(\"&\").replace(Bb,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,\"\\r\\n\")}}):{name:b.name,value:c.replace(Db,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&\"withCredentials\"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,\"abort\"===a?h.abort():\"error\"===a?\"number\"!=typeof h.status?f(0,\"error\"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,\"text\"!==(h.responseType||\"text\")||\"string\"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c(\"error\"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c(\"abort\");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n(\"<script>\").prop({charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&f(\"error\"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Jb.pop()||n.expando+\"_\"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?\"url\":\"string\"==typeof b.data&&0===(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Kb.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,\"$1\"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e||\"GET\",dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=\"pageYOffset\"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../jqvmap/dist/jquery.vmap.js":
/***/ (function(module, exports) {

module.exports = "/*!\n * JQVMap: jQuery Vector Map Library\n * @author JQVMap <me@peterschmalfeldt.com>\n * @version 1.5.0\n * @link http://jqvmap.com\n * @license https://github.com/manifestinteractive/jqvmap/blob/master/LICENSE\n * @builddate 2016/03/15\n */\n\nvar VectorCanvas = function (width, height, params) {\n  this.mode = window.SVGAngle ? 'svg' : 'vml';\n  this.params = params;\n\n  if (this.mode === 'svg') {\n    this.createSvgNode = function (nodeName) {\n      return document.createElementNS(this.svgns, nodeName);\n    };\n  } else {\n    try {\n      if (!document.namespaces.rvml) {\n        document.namespaces.add('rvml', 'urn:schemas-microsoft-com:vml');\n      }\n      this.createVmlNode = function (tagName) {\n        return document.createElement('<rvml:' + tagName + ' class=\"rvml\">');\n      };\n    } catch (e) {\n      this.createVmlNode = function (tagName) {\n        return document.createElement('<' + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">');\n      };\n    }\n\n    document.createStyleSheet().addRule('.rvml', 'behavior:url(#default#VML)');\n  }\n\n  if (this.mode === 'svg') {\n    this.canvas = this.createSvgNode('svg');\n  } else {\n    this.canvas = this.createVmlNode('group');\n    this.canvas.style.position = 'absolute';\n  }\n\n  this.setSize(width, height);\n};\n\nVectorCanvas.prototype = {\n  svgns: 'http://www.w3.org/2000/svg',\n  mode: 'svg',\n  width: 0,\n  height: 0,\n  canvas: null\n};\n\nvar ColorScale = function (colors, normalizeFunction, minValue, maxValue) {\n  if (colors) {\n    this.setColors(colors);\n  }\n  if (normalizeFunction) {\n    this.setNormalizeFunction(normalizeFunction);\n  }\n  if (minValue) {\n    this.setMin(minValue);\n  }\n  if (minValue) {\n    this.setMax(maxValue);\n  }\n};\n\nColorScale.prototype = {\n  colors: []\n};\n\nvar JQVMap = function (params) {\n  params = params || {};\n  var map = this;\n  var mapData = JQVMap.maps[params.map];\n  var mapPins;\n\n  if( !mapData){\n    throw new Error('Invalid \"' + params.map + '\" map parameter. Please make sure you have loaded this map file in your HTML.');\n  }\n\n  this.selectedRegions = [];\n  this.multiSelectRegion = params.multiSelectRegion;\n\n  this.container = params.container;\n\n  this.defaultWidth = mapData.width;\n  this.defaultHeight = mapData.height;\n\n  this.color = params.color;\n  this.selectedColor = params.selectedColor;\n  this.hoverColor = params.hoverColor;\n  this.hoverColors = params.hoverColors;\n  this.hoverOpacity = params.hoverOpacity;\n  this.setBackgroundColor(params.backgroundColor);\n\n  this.width = params.container.width();\n  this.height = params.container.height();\n\n  this.resize();\n\n  jQuery(window).resize(function () {\n    var newWidth = params.container.width();\n    var newHeight = params.container.height();\n\n    if(newWidth && newHeight){\n      map.width = newWidth;\n      map.height = newHeight;\n      map.resize();\n      map.canvas.setSize(map.width, map.height);\n      map.applyTransform();\n\n      var resizeEvent = jQuery.Event('resize.jqvmap');\n      jQuery(params.container).trigger(resizeEvent, [newWidth, newHeight]);\n\n      if(mapPins){\n        jQuery('.jqvmap-pin').remove();\n        map.pinHandlers = false;\n        map.placePins(mapPins.pins, mapPins.mode);\n      }\n    }\n  });\n\n  this.canvas = new VectorCanvas(this.width, this.height, params);\n  params.container.append(this.canvas.canvas);\n\n  this.makeDraggable();\n\n  this.rootGroup = this.canvas.createGroup(true);\n\n  this.index = JQVMap.mapIndex;\n  this.label = jQuery('<div/>').addClass('jqvmap-label').appendTo(jQuery('body')).hide();\n\n  if (params.enableZoom) {\n    jQuery('<div/>').addClass('jqvmap-zoomin').text('+').appendTo(params.container);\n    jQuery('<div/>').addClass('jqvmap-zoomout').html('&#x2212;').appendTo(params.container);\n  }\n\n  map.countries = [];\n\n  for (var key in mapData.paths) {\n    var path = this.canvas.createPath({\n      path: mapData.paths[key].path\n    });\n\n    path.setFill(this.color);\n    path.id = map.getCountryId(key);\n    map.countries[key] = path;\n\n    if (this.canvas.mode === 'svg') {\n      path.setAttribute('class', 'jqvmap-region');\n    } else {\n      jQuery(path).addClass('jqvmap-region');\n    }\n\n    jQuery(this.rootGroup).append(path);\n  }\n\n  jQuery(params.container).delegate(this.canvas.mode === 'svg' ? 'path' : 'shape', 'mouseover mouseout', function (e) {\n    var containerPath = e.target,\n      code = e.target.id.split('_').pop(),\n      labelShowEvent = jQuery.Event('labelShow.jqvmap'),\n      regionMouseOverEvent = jQuery.Event('regionMouseOver.jqvmap');\n\n    code = code.toLowerCase();\n\n    if (e.type === 'mouseover') {\n      jQuery(params.container).trigger(regionMouseOverEvent, [code, mapData.paths[code].name]);\n      if (!regionMouseOverEvent.isDefaultPrevented()) {\n        map.highlight(code, containerPath);\n      }\n      if (params.showTooltip) {\n        map.label.text(mapData.paths[code].name);\n        jQuery(params.container).trigger(labelShowEvent, [map.label, code]);\n\n        if (!labelShowEvent.isDefaultPrevented()) {\n          map.label.show();\n          map.labelWidth = map.label.width();\n          map.labelHeight = map.label.height();\n        }\n      }\n    } else {\n      map.unhighlight(code, containerPath);\n\n      map.label.hide();\n      jQuery(params.container).trigger('regionMouseOut.jqvmap', [code, mapData.paths[code].name]);\n    }\n  });\n\n  jQuery(params.container).delegate(this.canvas.mode === 'svg' ? 'path' : 'shape', 'click', function (regionClickEvent) {\n\n    var targetPath = regionClickEvent.target;\n    var code = regionClickEvent.target.id.split('_').pop();\n    var mapClickEvent = jQuery.Event('regionClick.jqvmap');\n\n    code = code.toLowerCase();\n\n    jQuery(params.container).trigger(mapClickEvent, [code, mapData.paths[code].name]);\n\n    if ( !params.multiSelectRegion && !mapClickEvent.isDefaultPrevented()) {\n      for (var keyPath in mapData.paths) {\n        map.countries[keyPath].currentFillColor = map.countries[keyPath].getOriginalFill();\n        map.countries[keyPath].setFill(map.countries[keyPath].getOriginalFill());\n      }\n    }\n\n    if ( !mapClickEvent.isDefaultPrevented()) {\n      if (map.isSelected(code)) {\n        map.deselect(code, targetPath);\n      } else {\n        map.select(code, targetPath);\n      }\n    }\n  });\n\n  if (params.showTooltip) {\n    params.container.mousemove(function (e) {\n      if (map.label.is(':visible')) {\n        var left = e.pageX - 15 - map.labelWidth;\n        var top = e.pageY - 15 - map.labelHeight;\n\n        if(left < 0) {\n          left = e.pageX + 15;\n        }\n        if(top < 0) {\n          top = e.pageY + 15;\n        }\n\n        map.label.css({\n          left: left,\n          top: top\n        });\n      }\n    });\n  }\n\n  this.setColors(params.colors);\n\n  this.canvas.canvas.appendChild(this.rootGroup);\n\n  this.applyTransform();\n\n  this.colorScale = new ColorScale(params.scaleColors, params.normalizeFunction, params.valueMin, params.valueMax);\n\n  if (params.values) {\n    this.values = params.values;\n    this.setValues(params.values);\n  }\n\n  if (params.selectedRegions) {\n    if (params.selectedRegions instanceof Array) {\n      for(var k in params.selectedRegions) {\n        this.select(params.selectedRegions[k].toLowerCase());\n      }\n    } else {\n      this.select(params.selectedRegions.toLowerCase());\n    }\n  }\n\n  this.bindZoomButtons();\n\n  if(params.pins) {\n    mapPins = {\n      pins: params.pins,\n      mode: params.pinMode\n    };\n\n    this.pinHandlers = false;\n    this.placePins(params.pins, params.pinMode);\n  }\n\n  if(params.showLabels){\n    this.pinHandlers = false;\n\n    var pins = {};\n    for (key in map.countries){\n      if (typeof map.countries[key] !== 'function') {\n        if( !params.pins || !params.pins[key] ){\n          pins[key] = key.toUpperCase();\n        }\n      }\n    }\n\n    mapPins = {\n      pins: pins,\n      mode: 'content'\n    };\n\n    this.placePins(pins, 'content');\n  }\n\n  JQVMap.mapIndex++;\n};\n\nJQVMap.prototype = {\n  transX: 0,\n  transY: 0,\n  scale: 1,\n  baseTransX: 0,\n  baseTransY: 0,\n  baseScale: 1,\n  width: 0,\n  height: 0,\n  countries: {},\n  countriesColors: {},\n  countriesData: {},\n  zoomStep: 1.4,\n  zoomMaxStep: 4,\n  zoomCurStep: 1\n};\n\nJQVMap.xlink = 'http://www.w3.org/1999/xlink';\nJQVMap.mapIndex = 1;\nJQVMap.maps = {};\n\n(function(){\n\n  var apiParams = {\n    colors: 1,\n    values: 1,\n    backgroundColor: 1,\n    scaleColors: 1,\n    normalizeFunction: 1,\n    enableZoom: 1,\n    showTooltip: 1,\n    borderColor: 1,\n    borderWidth: 1,\n    borderOpacity: 1,\n    selectedRegions: 1,\n    multiSelectRegion: 1\n  };\n\n  var apiEvents = {\n    onLabelShow: 'labelShow',\n    onLoad: 'load',\n    onRegionOver: 'regionMouseOver',\n    onRegionOut: 'regionMouseOut',\n    onRegionClick: 'regionClick',\n    onRegionSelect: 'regionSelect',\n    onRegionDeselect: 'regionDeselect',\n    onResize: 'resize'\n  };\n\n  jQuery.fn.vectorMap = function (options) {\n\n    var defaultParams = {\n      map: 'world_en',\n      backgroundColor: '#a5bfdd',\n      color: '#f4f3f0',\n      hoverColor: '#c9dfaf',\n      hoverColors: {},\n      selectedColor: '#c9dfaf',\n      scaleColors: ['#b6d6ff', '#005ace'],\n      normalizeFunction: 'linear',\n      enableZoom: true,\n      showTooltip: true,\n      borderColor: '#818181',\n      borderWidth: 1,\n      borderOpacity: 0.25,\n      selectedRegions: null,\n      multiSelectRegion: false\n    }, map = this.data('mapObject');\n\n    if (options === 'addMap') {\n      JQVMap.maps[arguments[1]] = arguments[2];\n    } else if (options === 'set' && apiParams[arguments[1]]) {\n      map['set' + arguments[1].charAt(0).toUpperCase() + arguments[1].substr(1)].apply(map, Array.prototype.slice.call(arguments, 2));\n    } else if (typeof options === 'string' &&\n      typeof map[options] === 'function') {\n      return map[options].apply(map, Array.prototype.slice.call(arguments, 1));\n    } else {\n      jQuery.extend(defaultParams, options);\n      defaultParams.container = this;\n      this.css({ position: 'relative', overflow: 'hidden' });\n\n      map = new JQVMap(defaultParams);\n\n      this.data('mapObject', map);\n\n      this.unbind('.jqvmap');\n\n      for (var e in apiEvents) {\n        if (defaultParams[e]) {\n          this.bind(apiEvents[e] + '.jqvmap', defaultParams[e]);\n        }\n      }\n\n      var loadEvent = jQuery.Event('load.jqvmap');\n      jQuery(defaultParams.container).trigger(loadEvent, map);\n\n      return map;\n    }\n  };\n\n})(jQuery);\n\nColorScale.arrayToRgb = function (ar) {\n  var rgb = '#';\n  var d;\n  for (var i = 0; i < ar.length; i++) {\n    d = ar[i].toString(16);\n    rgb += d.length === 1 ? '0' + d : d;\n  }\n  return rgb;\n};\n\nColorScale.prototype.getColor = function (value) {\n  if (typeof this.normalize === 'function') {\n    value = this.normalize(value);\n  }\n\n  var lengthes = [];\n  var fullLength = 0;\n  var l;\n\n  for (var i = 0; i < this.colors.length - 1; i++) {\n    l = this.vectorLength(this.vectorSubtract(this.colors[i + 1], this.colors[i]));\n    lengthes.push(l);\n    fullLength += l;\n  }\n\n  var c = (this.maxValue - this.minValue) / fullLength;\n\n  for (i = 0; i < lengthes.length; i++) {\n    lengthes[i] *= c;\n  }\n\n  i = 0;\n  value -= this.minValue;\n\n  while (value - lengthes[i] >= 0) {\n    value -= lengthes[i];\n    i++;\n  }\n\n  var color;\n  if (i === this.colors.length - 1) {\n    color = this.vectorToNum(this.colors[i]).toString(16);\n  } else {\n    color = (this.vectorToNum(this.vectorAdd(this.colors[i], this.vectorMult(this.vectorSubtract(this.colors[i + 1], this.colors[i]), (value) / (lengthes[i]))))).toString(16);\n  }\n\n  while (color.length < 6) {\n    color = '0' + color;\n  }\n  return '#' + color;\n};\n\nColorScale.rgbToArray = function (rgb) {\n  rgb = rgb.substr(1);\n  return [parseInt(rgb.substr(0, 2), 16), parseInt(rgb.substr(2, 2), 16), parseInt(rgb.substr(4, 2), 16)];\n};\n\nColorScale.prototype.setColors = function (colors) {\n  for (var i = 0; i < colors.length; i++) {\n    colors[i] = ColorScale.rgbToArray(colors[i]);\n  }\n  this.colors = colors;\n};\n\nColorScale.prototype.setMax = function (max) {\n  this.clearMaxValue = max;\n  if (typeof this.normalize === 'function') {\n    this.maxValue = this.normalize(max);\n  } else {\n    this.maxValue = max;\n  }\n};\n\nColorScale.prototype.setMin = function (min) {\n  this.clearMinValue = min;\n\n  if (typeof this.normalize === 'function') {\n    this.minValue = this.normalize(min);\n  } else {\n    this.minValue = min;\n  }\n};\n\nColorScale.prototype.setNormalizeFunction = function (f) {\n  if (f === 'polynomial') {\n    this.normalize = function (value) {\n      return Math.pow(value, 0.2);\n    };\n  } else if (f === 'linear') {\n    delete this.normalize;\n  } else {\n    this.normalize = f;\n  }\n  this.setMin(this.clearMinValue);\n  this.setMax(this.clearMaxValue);\n};\n\nColorScale.prototype.vectorAdd = function (vector1, vector2) {\n  var vector = [];\n  for (var i = 0; i < vector1.length; i++) {\n    vector[i] = vector1[i] + vector2[i];\n  }\n  return vector;\n};\n\nColorScale.prototype.vectorLength = function (vector) {\n  var result = 0;\n  for (var i = 0; i < vector.length; i++) {\n    result += vector[i] * vector[i];\n  }\n  return Math.sqrt(result);\n};\n\nColorScale.prototype.vectorMult = function (vector, num) {\n  var result = [];\n  for (var i = 0; i < vector.length; i++) {\n    result[i] = vector[i] * num;\n  }\n  return result;\n};\n\nColorScale.prototype.vectorSubtract = function (vector1, vector2) {\n  var vector = [];\n  for (var i = 0; i < vector1.length; i++) {\n    vector[i] = vector1[i] - vector2[i];\n  }\n  return vector;\n};\n\nColorScale.prototype.vectorToNum = function (vector) {\n  var num = 0;\n  for (var i = 0; i < vector.length; i++) {\n    num += Math.round(vector[i]) * Math.pow(256, vector.length - i - 1);\n  }\n  return num;\n};\n\nJQVMap.prototype.applyTransform = function () {\n  var maxTransX, maxTransY, minTransX, minTransY;\n  if (this.defaultWidth * this.scale <= this.width) {\n    maxTransX = (this.width - this.defaultWidth * this.scale) / (2 * this.scale);\n    minTransX = (this.width - this.defaultWidth * this.scale) / (2 * this.scale);\n  } else {\n    maxTransX = 0;\n    minTransX = (this.width - this.defaultWidth * this.scale) / this.scale;\n  }\n\n  if (this.defaultHeight * this.scale <= this.height) {\n    maxTransY = (this.height - this.defaultHeight * this.scale) / (2 * this.scale);\n    minTransY = (this.height - this.defaultHeight * this.scale) / (2 * this.scale);\n  } else {\n    maxTransY = 0;\n    minTransY = (this.height - this.defaultHeight * this.scale) / this.scale;\n  }\n\n  if (this.transY > maxTransY) {\n    this.transY = maxTransY;\n  } else if (this.transY < minTransY) {\n    this.transY = minTransY;\n  }\n  if (this.transX > maxTransX) {\n    this.transX = maxTransX;\n  } else if (this.transX < minTransX) {\n    this.transX = minTransX;\n  }\n\n  this.canvas.applyTransformParams(this.scale, this.transX, this.transY);\n};\n\nJQVMap.prototype.bindZoomButtons = function () {\n  var map = this;\n  this.container.find('.jqvmap-zoomin').click(function(){\n    map.zoomIn();\n  });\n  this.container.find('.jqvmap-zoomout').click(function(){\n    map.zoomOut();\n  });\n};\n\nJQVMap.prototype.deselect = function (cc, path) {\n  cc = cc.toLowerCase();\n  path = path || jQuery('#' + this.getCountryId(cc))[0];\n\n  if (this.isSelected(cc)) {\n    this.selectedRegions.splice(this.selectIndex(cc), 1);\n\n    jQuery(this.container).trigger('regionDeselect.jqvmap', [cc]);\n    path.currentFillColor = path.getOriginalFill();\n    path.setFill(path.getOriginalFill());\n  } else {\n    for (var key in this.countries) {\n      this.selectedRegions.splice(this.selectedRegions.indexOf(key), 1);\n      this.countries[key].currentFillColor = this.color;\n      this.countries[key].setFill(this.color);\n    }\n  }\n};\n\nJQVMap.prototype.getCountryId = function (cc) {\n  return 'jqvmap' + this.index + '_' + cc;\n};\n\nJQVMap.prototype.getPin = function(cc){\n  var pinObj = jQuery('#' + this.getPinId(cc));\n  return pinObj.html();\n};\n\nJQVMap.prototype.getPinId = function (cc) {\n  return this.getCountryId(cc) + '_pin';\n};\n\nJQVMap.prototype.getPins = function(){\n  var pins = this.container.find('.jqvmap-pin');\n  var ret = {};\n  jQuery.each(pins, function(index, pinObj){\n    pinObj = jQuery(pinObj);\n    var cc = pinObj.attr('for').toLowerCase();\n    var pinContent = pinObj.html();\n    ret[cc] = pinContent;\n  });\n  return JSON.stringify(ret);\n};\n\nJQVMap.prototype.highlight = function (cc, path) {\n  path = path || jQuery('#' + this.getCountryId(cc))[0];\n  if (this.hoverOpacity) {\n    path.setOpacity(this.hoverOpacity);\n  } else if (this.hoverColors && (cc in this.hoverColors)) {\n    path.currentFillColor = path.getFill() + '';\n    path.setFill(this.hoverColors[cc]);\n  } else if (this.hoverColor) {\n    path.currentFillColor = path.getFill() + '';\n    path.setFill(this.hoverColor);\n  }\n};\n\nJQVMap.prototype.isSelected = function(cc) {\n  return this.selectIndex(cc) >= 0;\n};\n\nJQVMap.prototype.makeDraggable = function () {\n  var mouseDown = false;\n  var oldPageX, oldPageY;\n  var self = this;\n\n  self.isMoving = false;\n  self.isMovingTimeout = false;\n\n  var lastTouchCount;\n  var touchCenterX;\n  var touchCenterY;\n  var touchStartDistance;\n  var touchStartScale;\n  var touchX;\n  var touchY;\n\n  this.container.mousemove(function (e) {\n\n    if (mouseDown) {\n      self.transX -= (oldPageX - e.pageX) / self.scale;\n      self.transY -= (oldPageY - e.pageY) / self.scale;\n\n      self.applyTransform();\n\n      oldPageX = e.pageX;\n      oldPageY = e.pageY;\n\n      self.isMoving = true;\n      if (self.isMovingTimeout) {\n        clearTimeout(self.isMovingTimeout);\n      }\n\n      self.container.trigger('drag');\n    }\n\n    return false;\n\n  }).mousedown(function (e) {\n\n    mouseDown = true;\n    oldPageX = e.pageX;\n    oldPageY = e.pageY;\n\n    return false;\n\n  }).mouseup(function () {\n\n    mouseDown = false;\n\n    clearTimeout(self.isMovingTimeout);\n    self.isMovingTimeout = setTimeout(function () {\n      self.isMoving = false;\n    }, 100);\n\n    return false;\n\n  }).mouseout(function () {\n\n    if(mouseDown && self.isMoving){\n\n      clearTimeout(self.isMovingTimeout);\n      self.isMovingTimeout = setTimeout(function () {\n        mouseDown = false;\n        self.isMoving = false;\n      }, 100);\n\n      return false;\n    }\n  });\n\n  jQuery(this.container).bind('touchmove', function (e) {\n\n    var offset;\n    var scale;\n    var touches = e.originalEvent.touches;\n    var transformXOld;\n    var transformYOld;\n\n    if (touches.length === 1) {\n      if (lastTouchCount === 1) {\n\n        if(touchX === touches[0].pageX && touchY === touches[0].pageY){\n          return;\n        }\n\n        transformXOld = self.transX;\n        transformYOld = self.transY;\n\n        self.transX -= (touchX - touches[0].pageX) / self.scale;\n        self.transY -= (touchY - touches[0].pageY) / self.scale;\n\n        self.applyTransform();\n\n        if (transformXOld !== self.transX || transformYOld !== self.transY) {\n          e.preventDefault();\n        }\n\n        self.isMoving = true;\n        if (self.isMovingTimeout) {\n          clearTimeout(self.isMovingTimeout);\n        }\n      }\n\n      touchX = touches[0].pageX;\n      touchY = touches[0].pageY;\n\n    } else if (touches.length === 2) {\n\n      if (lastTouchCount === 2) {\n        scale = Math.sqrt(\n            Math.pow(touches[0].pageX - touches[1].pageX, 2) +\n            Math.pow(touches[0].pageY - touches[1].pageY, 2)\n          ) / touchStartDistance;\n\n        self.setScale(\n          touchStartScale * scale,\n          touchCenterX,\n          touchCenterY\n        );\n\n        e.preventDefault();\n\n      } else {\n\n        offset = jQuery(self.container).offset();\n        if (touches[0].pageX > touches[1].pageX) {\n          touchCenterX = touches[1].pageX + (touches[0].pageX - touches[1].pageX) / 2;\n        } else {\n          touchCenterX = touches[0].pageX + (touches[1].pageX - touches[0].pageX) / 2;\n        }\n\n        if (touches[0].pageY > touches[1].pageY) {\n          touchCenterY = touches[1].pageY + (touches[0].pageY - touches[1].pageY) / 2;\n        } else {\n          touchCenterY = touches[0].pageY + (touches[1].pageY - touches[0].pageY) / 2;\n        }\n\n        touchCenterX -= offset.left;\n        touchCenterY -= offset.top;\n        touchStartScale = self.scale;\n\n        touchStartDistance = Math.sqrt(\n          Math.pow(touches[0].pageX - touches[1].pageX, 2) +\n          Math.pow(touches[0].pageY - touches[1].pageY, 2)\n        );\n      }\n    }\n\n    lastTouchCount = touches.length;\n  });\n\n  jQuery(this.container).bind('touchstart', function () {\n    lastTouchCount = 0;\n  });\n\n  jQuery(this.container).bind('touchend', function () {\n    lastTouchCount = 0;\n  });\n};\n\nJQVMap.prototype.placePins = function(pins, pinMode){\n  var map = this;\n\n  if(!pinMode || (pinMode !== 'content' && pinMode !== 'id')) {\n    pinMode = 'content';\n  }\n\n  if(pinMode === 'content') {//treat pin as content\n    jQuery.each(pins, function(index, pin){\n      if(jQuery('#' + map.getCountryId(index)).length === 0){\n        return;\n      }\n\n      var pinIndex = map.getPinId(index);\n      var $pin = jQuery('#' + pinIndex);\n      if($pin.length > 0){\n        $pin.remove();\n      }\n      map.container.append('<div id=\"' + pinIndex + '\" for=\"' + index + '\" class=\"jqvmap-pin\" style=\"position:absolute\">' + pin + '</div>');\n    });\n  } else { //treat pin as id of an html content\n    jQuery.each(pins, function(index, pin){\n      if(jQuery('#' + map.getCountryId(index)).length === 0){\n        return;\n      }\n      var pinIndex = map.getPinId(index);\n      var $pin = jQuery('#' + pinIndex);\n      if($pin.length > 0){\n        $pin.remove();\n      }\n      map.container.append('<div id=\"' + pinIndex + '\" for=\"' + index + '\" class=\"jqvmap-pin\" style=\"position:absolute\"></div>');\n      $pin.append(jQuery('#' + pin));\n    });\n  }\n\n  this.positionPins();\n  if(!this.pinHandlers){\n    this.pinHandlers = true;\n    var positionFix = function(){\n      map.positionPins();\n    };\n    this.container.bind('zoomIn', positionFix)\n      .bind('zoomOut', positionFix)\n      .bind('drag', positionFix);\n  }\n};\n\nJQVMap.prototype.positionPins = function(){\n  var map = this;\n  var pins = this.container.find('.jqvmap-pin');\n  jQuery.each(pins, function(index, pinObj){\n    pinObj = jQuery(pinObj);\n    var countryId = map.getCountryId(pinObj.attr('for').toLowerCase());\n    var countryObj = jQuery('#' + countryId);\n\n    var bbox = document.getElementById(countryId).getBBox();\n    var position = countryObj.position();\n\n    var scale = map.scale;\n\n    var left = position.left + (bbox.width / 2) * scale - pinObj.width() / 2,\n      top = position.top + (bbox.height / 2) * scale - pinObj.height() / 2;\n\n    pinObj.css('left', left).css('top', top);\n  });\n};\n\nJQVMap.prototype.removePin = function(cc) {\n  cc = cc.toLowerCase();\n  jQuery('#' + this.getPinId(cc)).remove();\n};\n\nJQVMap.prototype.removePins = function(){\n  this.container.find('.jqvmap-pin').remove();\n};\n\nJQVMap.prototype.reset = function () {\n  for (var key in this.countries) {\n    this.countries[key].setFill(this.color);\n  }\n  this.scale = this.baseScale;\n  this.transX = this.baseTransX;\n  this.transY = this.baseTransY;\n  this.applyTransform();\n};\n\nJQVMap.prototype.resize = function () {\n  var curBaseScale = this.baseScale;\n  if (this.width / this.height > this.defaultWidth / this.defaultHeight) {\n    this.baseScale = this.height / this.defaultHeight;\n    this.baseTransX = Math.abs(this.width - this.defaultWidth * this.baseScale) / (2 * this.baseScale);\n  } else {\n    this.baseScale = this.width / this.defaultWidth;\n    this.baseTransY = Math.abs(this.height - this.defaultHeight * this.baseScale) / (2 * this.baseScale);\n  }\n  this.scale *= this.baseScale / curBaseScale;\n  this.transX *= this.baseScale / curBaseScale;\n  this.transY *= this.baseScale / curBaseScale;\n};\n\nJQVMap.prototype.select = function (cc, path) {\n  cc = cc.toLowerCase();\n  path = path || jQuery('#' + this.getCountryId(cc))[0];\n\n  if (!this.isSelected(cc)) {\n    if (this.multiSelectRegion) {\n      this.selectedRegions.push(cc);\n    } else {\n      this.selectedRegions = [cc];\n    }\n\n    jQuery(this.container).trigger('regionSelect.jqvmap', [cc]);\n    if (this.selectedColor && path) {\n      path.currentFillColor = this.selectedColor;\n      path.setFill(this.selectedColor);\n    }\n  }\n};\n\nJQVMap.prototype.selectIndex = function (cc) {\n  cc = cc.toLowerCase();\n  for (var i = 0; i < this.selectedRegions.length; i++) {\n    if (cc === this.selectedRegions[i]) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nJQVMap.prototype.setBackgroundColor = function (backgroundColor) {\n  this.container.css('background-color', backgroundColor);\n};\n\nJQVMap.prototype.setColors = function (key, color) {\n  if (typeof key === 'string') {\n    this.countries[key].setFill(color);\n    this.countries[key].setAttribute('original', color);\n  } else {\n    var colors = key;\n\n    for (var code in colors) {\n      if (this.countries[code]) {\n        this.countries[code].setFill(colors[code]);\n        this.countries[code].setAttribute('original', colors[code]);\n      }\n    }\n  }\n};\n\nJQVMap.prototype.setNormalizeFunction = function (f) {\n  this.colorScale.setNormalizeFunction(f);\n\n  if (this.values) {\n    this.setValues(this.values);\n  }\n};\n\nJQVMap.prototype.setScale = function (scale) {\n  this.scale = scale;\n  this.applyTransform();\n};\n\nJQVMap.prototype.setScaleColors = function (colors) {\n  this.colorScale.setColors(colors);\n\n  if (this.values) {\n    this.setValues(this.values);\n  }\n};\n\nJQVMap.prototype.setValues = function (values) {\n  var max = 0,\n    min = Number.MAX_VALUE,\n    val;\n\n  for (var cc in values) {\n    cc = cc.toLowerCase();\n    val = parseFloat(values[cc]);\n\n    if (isNaN(val)) {\n      continue;\n    }\n    if (val > max) {\n      max = values[cc];\n    }\n    if (val < min) {\n      min = val;\n    }\n  }\n\n  if (min === max) {\n    max++;\n  }\n\n  this.colorScale.setMin(min);\n  this.colorScale.setMax(max);\n\n  var colors = {};\n  for (cc in values) {\n    cc = cc.toLowerCase();\n    val = parseFloat(values[cc]);\n    colors[cc] = isNaN(val) ? this.color : this.colorScale.getColor(val);\n  }\n  this.setColors(colors);\n  this.values = values;\n};\n\nJQVMap.prototype.unhighlight = function (cc, path) {\n  cc = cc.toLowerCase();\n  path = path || jQuery('#' + this.getCountryId(cc))[0];\n  path.setOpacity(1);\n  if (path.currentFillColor) {\n    path.setFill(path.currentFillColor);\n  }\n};\n\nJQVMap.prototype.zoomIn = function () {\n  var map = this;\n  var sliderDelta = (jQuery('#zoom').innerHeight() - 6 * 2 - 15 * 2 - 3 * 2 - 7 - 6) / (this.zoomMaxStep - this.zoomCurStep);\n\n  if (map.zoomCurStep < map.zoomMaxStep) {\n    map.transX -= (map.width / map.scale - map.width / (map.scale * map.zoomStep)) / 2;\n    map.transY -= (map.height / map.scale - map.height / (map.scale * map.zoomStep)) / 2;\n    map.setScale(map.scale * map.zoomStep);\n    map.zoomCurStep++;\n\n    var $slider = jQuery('#zoomSlider');\n\n    $slider.css('top', parseInt($slider.css('top'), 10) - sliderDelta);\n\n    map.container.trigger('zoomIn');\n  }\n};\n\nJQVMap.prototype.zoomOut = function () {\n  var map = this;\n  var sliderDelta = (jQuery('#zoom').innerHeight() - 6 * 2 - 15 * 2 - 3 * 2 - 7 - 6) / (this.zoomMaxStep - this.zoomCurStep);\n\n  if (map.zoomCurStep > 1) {\n    map.transX += (map.width / (map.scale / map.zoomStep) - map.width / map.scale) / 2;\n    map.transY += (map.height / (map.scale / map.zoomStep) - map.height / map.scale) / 2;\n    map.setScale(map.scale / map.zoomStep);\n    map.zoomCurStep--;\n\n    var $slider = jQuery('#zoomSlider');\n\n    $slider.css('top', parseInt($slider.css('top'), 10) + sliderDelta);\n\n    map.container.trigger('zoomOut');\n  }\n};\n\nVectorCanvas.prototype.applyTransformParams = function (scale, transX, transY) {\n  if (this.mode === 'svg') {\n    this.rootGroup.setAttribute('transform', 'scale(' + scale + ') translate(' + transX + ', ' + transY + ')');\n  } else {\n    this.rootGroup.coordorigin = (this.width - transX) + ',' + (this.height - transY);\n    this.rootGroup.coordsize = this.width / scale + ',' + this.height / scale;\n  }\n};\n\nVectorCanvas.prototype.createGroup = function (isRoot) {\n  var node;\n  if (this.mode === 'svg') {\n    node = this.createSvgNode('g');\n  } else {\n    node = this.createVmlNode('group');\n    node.style.width = this.width + 'px';\n    node.style.height = this.height + 'px';\n    node.style.left = '0px';\n    node.style.top = '0px';\n    node.coordorigin = '0 0';\n    node.coordsize = this.width + ' ' + this.height;\n  }\n\n  if (isRoot) {\n    this.rootGroup = node;\n  }\n  return node;\n};\n\nVectorCanvas.prototype.createPath = function (config) {\n  var node;\n  if (this.mode === 'svg') {\n    node = this.createSvgNode('path');\n    node.setAttribute('d', config.path);\n\n    if (this.params.borderColor !== null) {\n      node.setAttribute('stroke', this.params.borderColor);\n    }\n    if (this.params.borderWidth > 0) {\n      node.setAttribute('stroke-width', this.params.borderWidth);\n      node.setAttribute('stroke-linecap', 'round');\n      node.setAttribute('stroke-linejoin', 'round');\n    }\n    if (this.params.borderOpacity > 0) {\n      node.setAttribute('stroke-opacity', this.params.borderOpacity);\n    }\n\n    node.setFill = function (color) {\n      this.setAttribute('fill', color);\n      if (this.getAttribute('original') === null) {\n        this.setAttribute('original', color);\n      }\n    };\n\n    node.getFill = function () {\n      return this.getAttribute('fill');\n    };\n\n    node.getOriginalFill = function () {\n      return this.getAttribute('original');\n    };\n\n    node.setOpacity = function (opacity) {\n      this.setAttribute('fill-opacity', opacity);\n    };\n  } else {\n    node = this.createVmlNode('shape');\n    node.coordorigin = '0 0';\n    node.coordsize = this.width + ' ' + this.height;\n    node.style.width = this.width + 'px';\n    node.style.height = this.height + 'px';\n    node.fillcolor = JQVMap.defaultFillColor;\n    node.stroked = false;\n    node.path = VectorCanvas.pathSvgToVml(config.path);\n\n    var scale = this.createVmlNode('skew');\n    scale.on = true;\n    scale.matrix = '0.01,0,0,0.01,0,0';\n    scale.offset = '0,0';\n\n    node.appendChild(scale);\n\n    var fill = this.createVmlNode('fill');\n    node.appendChild(fill);\n\n    node.setFill = function (color) {\n      this.getElementsByTagName('fill')[0].color = color;\n      if (this.getAttribute('original') === null) {\n        this.setAttribute('original', color);\n      }\n    };\n\n    node.getFill = function () {\n      return this.getElementsByTagName('fill')[0].color;\n    };\n    node.getOriginalFill = function () {\n      return this.getAttribute('original');\n    };\n    node.setOpacity = function (opacity) {\n      this.getElementsByTagName('fill')[0].opacity = parseInt(opacity * 100, 10) + '%';\n    };\n  }\n  return node;\n};\n\nVectorCanvas.prototype.pathSvgToVml = function (path) {\n  var result = '';\n  var cx = 0, cy = 0, ctrlx, ctrly;\n\n  return path.replace(/([MmLlHhVvCcSs])((?:-?(?:\\d+)?(?:\\.\\d+)?,?\\s?)+)/g, function (segment, letter, coords) {\n    coords = coords.replace(/(\\d)-/g, '$1,-').replace(/\\s+/g, ',').split(',');\n    if (!coords[0]) {\n      coords.shift();\n    }\n\n    for (var i = 0, l = coords.length; i < l; i++) {\n      coords[i] = Math.round(100 * coords[i]);\n    }\n\n    switch (letter) {\n      case 'm':\n        cx += coords[0];\n        cy += coords[1];\n        result = 't' + coords.join(',');\n        break;\n\n      case 'M':\n        cx = coords[0];\n        cy = coords[1];\n        result = 'm' + coords.join(',');\n        break;\n\n      case 'l':\n        cx += coords[0];\n        cy += coords[1];\n        result = 'r' + coords.join(',');\n        break;\n\n      case 'L':\n        cx = coords[0];\n        cy = coords[1];\n        result = 'l' + coords.join(',');\n        break;\n\n      case 'h':\n        cx += coords[0];\n        result = 'r' + coords[0] + ',0';\n        break;\n\n      case 'H':\n        cx = coords[0];\n        result = 'l' + cx + ',' + cy;\n        break;\n\n      case 'v':\n        cy += coords[0];\n        result = 'r0,' + coords[0];\n        break;\n\n      case 'V':\n        cy = coords[0];\n        result = 'l' + cx + ',' + cy;\n        break;\n\n      case 'c':\n        ctrlx = cx + coords[coords.length - 4];\n        ctrly = cy + coords[coords.length - 3];\n        cx += coords[coords.length - 2];\n        cy += coords[coords.length - 1];\n        result = 'v' + coords.join(',');\n        break;\n\n      case 'C':\n        ctrlx = coords[coords.length - 4];\n        ctrly = coords[coords.length - 3];\n        cx = coords[coords.length - 2];\n        cy = coords[coords.length - 1];\n        result = 'c' + coords.join(',');\n        break;\n\n      case 's':\n        coords.unshift(cy - ctrly);\n        coords.unshift(cx - ctrlx);\n        ctrlx = cx + coords[coords.length - 4];\n        ctrly = cy + coords[coords.length - 3];\n        cx += coords[coords.length - 2];\n        cy += coords[coords.length - 1];\n        result = 'v' + coords.join(',');\n        break;\n\n      case 'S':\n        coords.unshift(cy + cy - ctrly);\n        coords.unshift(cx + cx - ctrlx);\n        ctrlx = coords[coords.length - 4];\n        ctrly = coords[coords.length - 3];\n        cx = coords[coords.length - 2];\n        cy = coords[coords.length - 1];\n        result = 'c' + coords.join(',');\n        break;\n\n      default:\n        break;\n    }\n\n    return result;\n\n  }).replace(/z/g, '');\n};\n\nVectorCanvas.prototype.setSize = function (width, height) {\n  if (this.mode === 'svg') {\n    this.canvas.setAttribute('width', width);\n    this.canvas.setAttribute('height', height);\n  } else {\n    this.canvas.style.width = width + 'px';\n    this.canvas.style.height = height + 'px';\n    this.canvas.coordsize = width + ' ' + height;\n    this.canvas.coordorigin = '0 0';\n    if (this.rootGroup) {\n      var paths = this.rootGroup.getElementsByTagName('shape');\n      for (var i = 0, l = paths.length; i < l; i++) {\n        paths[i].coordsize = width + ' ' + height;\n        paths[i].style.width = width + 'px';\n        paths[i].style.height = height + 'px';\n      }\n      this.rootGroup.coordsize = width + ' ' + height;\n      this.rootGroup.style.width = width + 'px';\n      this.rootGroup.style.height = height + 'px';\n    }\n  }\n  this.width = width;\n  this.height = height;\n};\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../jqvmap/dist/maps/jquery.vmap.world.js":
/***/ (function(module, exports) {

module.exports = "/** Add World Map Data Points */\njQuery.fn.vectorMap('addMap', 'world_en', {\"width\":950,\"height\":550,\"paths\":{\"id\":{\"path\":\"M781.68,324.4l-2.31,8.68l-12.53,4.23l-3.75-4.4l-1.82,0.5l3.4,13.12l5.09,0.57l6.79,2.57v2.57l3.11-0.57l4.53-6.27v-5.13l2.55-5.13l2.83,0.57l-3.4-7.13l-0.52-4.59L781.68,324.4L781.68,324.4M722.48,317.57l-0.28,2.28l6.79,11.41h1.98l14.15,23.67l5.66,0.57l2.83-8.27l-4.53-2.85l-0.85-4.56L722.48,317.57L722.48,317.57M789.53,349.11l2.26,2.77l-1.47,4.16v0.79h3.34l1.18-10.4l1.08,0.3l1.96,9.5l1.87,0.5l1.77-4.06l-1.77-6.14l-1.47-2.67l4.62-3.37l-1.08-1.49l-4.42,2.87h-1.18l-2.16-3.17l0.69-1.39l3.64-1.78l5.5,1.68l1.67-0.1l4.13-3.86l-1.67-1.68l-3.83,2.97h-2.46l-3.73-1.78l-2.65,0.1l-2.95,4.75l-1.87,8.22L789.53,349.11L789.53,349.11M814.19,330.5l-1.87,4.55l2.95,3.86h0.98l1.28-2.57l0.69-0.89l-1.28-1.39l-1.87-0.69L814.19,330.5L814.19,330.5M819.99,345.45l-4.03,0.89l-1.18,1.29l0.98,1.68l2.65-0.99l1.67-0.99l2.46,1.98l1.08-0.89l-1.96-2.38L819.99,345.45L819.99,345.45M753.17,358.32l-2.75,1.88l0.59,1.58l8.75,1.98l4.42,0.79l1.87,1.98l5.01,0.4l2.36,1.98l2.16-0.5l1.97-1.78l-3.64-1.68l-3.14-2.67l-8.16-1.98L753.17,358.32L753.17,358.32M781.77,366.93l-2.16,1.19l1.28,1.39l3.14-1.19L781.77,366.93L781.77,366.93M785.5,366.04l0.39,1.88l2.26,0.59l0.88-1.09l-0.98-1.49L785.5,366.04L785.5,366.04M790.91,370.99l-2.75,0.4l2.46,2.08h1.96L790.91,370.99L790.91,370.99M791.69,367.72l-0.59,1.19l4.42,0.69l3.44-1.98l-1.96-0.59l-3.14,0.89l-1.18-0.99L791.69,367.72L791.69,367.72M831.93,339.34l-4.17,0.47l-2.68,1.96l1.11,2.24l4.54,0.84v0.84l-2.87,2.33l1.39,4.85l1.39,0.09l1.2-4.76h2.22l0.93,4.66l10.83,8.96l0.28,7l3.7,4.01l1.67-0.09l0.37-24.72l-6.29-4.38l-5.93,4.01l-2.13,1.31l-3.52-2.24l-0.09-7.09L831.93,339.34L831.93,339.34z\",\"name\":\"Indonesia\"},\"pg\":{\"path\":\"M852.76,348.29l-0.37,24.44l3.52-0.19l4.63-5.41l3.89,0.19l2.5,2.24l0.83,6.9l7.96,4.2l2.04-0.75v-2.52l-6.39-5.32l-3.15-7.28l2.5-1.21l-1.85-4.01l-3.7-0.09l-0.93-4.29l-9.81-6.62L852.76,348.29L852.76,348.29M880.48,349l-0.88,1.25l4.81,4.26l0.66,2.5l1.31-0.15l0.15-2.57l-1.46-1.32L880.48,349L880.48,349M882.89,355.03l-0.95,0.22l-0.58,2.57l-1.82,1.18l-5.47,0.96l0.22,2.06l5.76-0.29l3.65-2.28l-0.22-3.97L882.89,355.03L882.89,355.03M889.38,359.51l1.24,3.45l2.19,2.13l0.66-0.59l-0.22-2.28l-2.48-3.01L889.38,359.51L889.38,359.51z\",\"name\":\"Papua New Guinea\"},\"mx\":{\"path\":\"M137.49,225.43l4.83,15.21l-2.25,1.26l0.25,3.02l4.25,3.27v6.05l5.25,5.04l-2.25-14.86l-3-9.83l0.75-6.8l2.5,0.25l1,2.27l-1,5.79l13,25.44v9.07l10.5,12.34l11.5,5.29l4.75-2.77l6.75,5.54l4-4.03l-1.75-4.54l5.75-1.76l1.75,1.01l1.75-1.76h2.75l5-8.82l-2.5-2.27l-9.75,2.27l-2.25,6.55l-5.75,1.01l-6.75-2.77l-3-9.57l2.27-12.07l-4.64-2.89l-2.21-11.59l-1.85-0.79l-3.38,3.43l-3.88-2.07l-1.52-7.73l-15.37-1.61l-7.94-5.97L137.49,225.43L137.49,225.43z\",\"name\":\"Mexico\"},\"ee\":{\"path\":\"M517.77,143.66l-5.6-0.2l-3.55,2.17l-0.05,1.61l2.3,2.17l7.15,1.21L517.77,143.66L517.77,143.66M506.76,147.64l-1.55-0.05l-0.9,0.91l0.65,0.96l1.55,0.1l0.8-1.16L506.76,147.64L506.76,147.64z\",\"name\":\"Estonia\"},\"dz\":{\"path\":\"M473.88,227.49l-4.08-1.37l-16.98,3.19l-3.7,2.81l2.26,11.67l-6.75,0.27l-4.06,6.53l-9.67,2.32l0.03,4.75l31.85,24.35l5.43,0.46l18.11-14.15l-1.81-2.28l-3.4-0.46l-2.04-3.42v-14.15l-1.36-1.37l0.23-3.65l-3.62-3.65l-0.45-3.88l1.58-1.14l-0.68-4.11L473.88,227.49L473.88,227.49z\",\"name\":\"Algeria\"},\"ma\":{\"path\":\"M448.29,232.28h-11.55l-2.26,5.02l-5.21,2.51l-4.3,11.64l-8.38,5.02l-11.77,19.39l11.55-0.23l0.45-5.7h2.94v-7.76h10.19l0.23-10.04l9.74-2.28l4.08-6.62l6.34-0.23L448.29,232.28L448.29,232.28z\",\"name\":\"Morocco\"},\"mr\":{\"path\":\"M404.9,276.66l2.18,2.85l-0.45,12.32l3.17-2.28l2.26-0.46l3.17,1.14l3.62,5.02l3.4-2.28l16.53-0.23l-4.08-27.61l4.38-0.02l-8.16-6.25l0.01,4.06l-10.33,0.01l-0.05,7.75l-2.97-0.01l-0.38,5.72L404.9,276.66L404.9,276.66z\",\"name\":\"Mauritania\"},\"sn\":{\"path\":\"M412.03,289.84L410.12,290.31L406.18,293.18L405.28,294.78L405,296.37L406.43,297.40L411.28,297.34L414.40,296.5L414.75,298.03L414.46,300.06L414.53,300.09L406.78,300.21L408.03,303.21L408.71,301.37L418,302.15L418.06,302.21L419.03,302.25L422,302.37L422.12,300.62L418.53,296.31L414.53,290.87L412.03,289.84z\",\"name\":\"Senegal\"},\"gm\":{\"path\":\"M406.89,298.34l-0.13,1.11l6.92-0.1l0.35-1.03l-0.15-1.04l-1.99,0.81L406.89,298.34L406.89,298.34z\",\"name\":\"Gambia\"},\"gw\":{\"path\":\"M408.6,304.53l1.4,2.77l3.93-3.38l0.04-1.04l-4.63-0.67L408.6,304.53L408.6,304.53z\",\"name\":\"Guinea-Bissau\"},\"gn\":{\"path\":\"M410.42,307.94l3.04,4.68l3.96-3.44l4.06-0.18l3.38,4.49l2.87,1.89l1.08-2.1l0.96-0.54l-0.07-4.62l-1.91-5.48l-5.86,0.65l-7.25-0.58l-0.04,1.86L410.42,307.94L410.42,307.94z\",\"name\":\"Guinea\"},\"sl\":{\"path\":\"M413.93,313.13l5.65,5.46l4.03-4.89l-2.52-3.95l-3.47,0.35L413.93,313.13L413.93,313.13z\",\"name\":\"Sierra Leone\"},\"lr\":{\"path\":\"M420.17,319.19l10.98,7.34l-0.26-5.56l-3.32-3.91l-3.24-2.87L420.17,319.19L420.17,319.19z\",\"name\":\"Liberia\"},\"ci\":{\"path\":\"M432.07,326.75l4.28-3.03l5.32-0.93l5.43,1.17l-2.77-4.19l-0.81-2.56l0.81-7.57l-4.85,0.23l-2.2-2.1l-4.62,0.12l-2.2,0.35l0.23,5.12l-1.16,0.47l-1.39,2.56l3.58,4.19L432.07,326.75L432.07,326.75z\",\"name\":\"Cote d'Ivoire\"},\"ml\":{\"path\":\"M419.46,295.84l3.08-2.11l17.12-0.1l-3.96-27.54l4.52-0.13l21.87,16.69l2.94,0.42l-1.11,9.28l-13.75,1.25l-10.61,7.92l-1.93,5.42l-7.37,0.31l-1.88-5.41l-5.65,0.4l0.22-1.77L419.46,295.84L419.46,295.84z\",\"name\":\"Mali\"},\"bf\":{\"path\":\"M450.59,294.28l3.64-0.29l5.97,8.44l-5.54,4.18l-4.01-1.03l-5.39,0.07l-0.87,3.16l-4.52,0.22l-1.24-1.69l1.6-5.14L450.59,294.28L450.59,294.28z\",\"name\":\"Burkina Faso\"},\"ne\":{\"path\":\"M460.89,302l2.55-0.06l2.3-3.45l3.86-0.69l4.11,2.51l8.77,0.25l6.78-2.76l2.55-2.19l0.19-2.88l4.73-4.77l1.25-10.53l-3.11-6.52l-7.96-1.94l-18.42,14.36l-2.61-0.25l-1.12,9.97l-9.4,0.94L460.89,302L460.89,302z\",\"name\":\"Niger\"},\"gh\":{\"path\":\"M444.34,317.05l1.12,2.63l2.92,4.58l1.62-0.06l4.42-2.51l-0.31-14.29l-3.42-1l-4.79,0.13L444.34,317.05L444.34,317.05z\",\"name\":\"Ghana\"},\"tg\":{\"path\":\"M455.22,321.25l2.68-1.57l-0.06-10.35l-1.74-2.82l-1.12,0.94L455.22,321.25L455.22,321.25z\",\"name\":\"Togo\"},\"bj\":{\"path\":\"M458.71,319.49h2.12l0.12-6.02l2.68-3.89l-0.12-6.77l-2.43-0.06l-4.17,3.26l1.74,3.32L458.71,319.49L458.71,319.49z\",\"name\":\"Benin\"},\"ng\":{\"path\":\"M461.57,319.37l3.92,0.19l4.73,5.27l2.3,0.63l1.8-0.88l2.74-0.38l0.93-3.82l3.73-2.45l4.04-0.19l7.4-13.61l-0.12-3.07l-3.42-2.63l-6.84,3.01l-9.15-0.13l-4.36-2.76l-3.11,0.69l-1.62,2.82l-0.12,7.96l-2.61,3.7L461.57,319.37L461.57,319.37z\",\"name\":\"Nigeria\"},\"tn\":{\"path\":\"M474.91,227.33l5.53-2.23l1.82,1.18l0.07,1.44l-0.85,1.11l0.13,1.97l0.85,0.46v3.54l-0.98,1.64l0.13,1.05l3.71,1.31l-2.99,4.65l-1.17-0.07l-0.2,3.74l-1.3,0.2l-1.11-0.98l0.26-3.8l-3.64-3.54l-0.46-3.08l1.76-1.38L474.91,227.33L474.91,227.33z\",\"name\":\"Tunisia\"},\"ly\":{\"path\":\"M480.05,248.03l1.56-0.26l0.46-3.6h0.78l3.19-5.24l7.87,2.29l2.15,3.34l7.74,3.54l4.03-1.7l-0.39-1.7l-1.76-1.7l0.2-1.18l2.86-2.42h5.66l2.15,2.88l4.55,0.66l0.59,36.89l-3.38-0.13l-20.42-10.62l-2.21,1.25l-8.39-2.1l-2.28-3.01l-3.32-0.46l-1.69-3.01L480.05,248.03L480.05,248.03z\",\"name\":\"Libya\"},\"eg\":{\"path\":\"M521.93,243.06l2.67,0.07l5.2,1.44l2.47,0.07l3.06-2.56h1.43l2.6,1.44h3.29l0.59-0.04l2.08,5.98l0.59,1.93l0.55,2.89l-0.98,0.72l-1.69-0.85l-1.95-6.36l-1.76-0.13l-0.13,2.16l1.17,3.74l9.37,11.6l0.2,4.98l-2.73,3.15L522.32,273L521.93,243.06L521.93,243.06z\",\"name\":\"Egypt\"},\"td\":{\"path\":\"M492.79,296l0.13-2.95l4.74-4.61l1.27-11.32l-3.16-6.04l2.21-1.13l21.4,11.15l-0.13,10.94l-3.77,3.21v5.64l2.47,4.78h-4.36l-7.22,7.14l-0.19,2.16l-5.33-0.07l-0.07,0.98l-3.04-0.4l-2.08-3.93l-1.56-0.77l0.2-1.2l1.96-1.5v-7.02l-2.71-0.42l-3.27-2.43L492.79,296L492.79,296L492.79,296z\",\"name\":\"Chad\"},\"sd\":{\"path\":\"M520.15,292.43l0.18-11.83l2.46,0.07l-0.28-6.57l25.8,0.23l3.69-3.72l7.96,12.73l-4.36,5.14v7.85l-6.86,14.75l-2.36,1.04l0.75,4.11h2.94l3.99,5.79l-3.2,0.41l-0.82,1.49l-0.08,2.15l-9.6-0.17l-0.98-1.49l-6.71-0.38l-12.32-12.68l1.23-0.74l0.33-2.98l-2.95-1.74l-2.69-5.31l0.15-4.94L520.15,292.43L520.15,292.43z\",\"name\":\"Sudan\"},\"cm\":{\"path\":\"M477.82,324.28l3.22,2.96l-0.23,4.58l17.66-0.41l1.44-1.62l-5.06-5.45l-0.75-1.97l3.22-6.03l-2.19-4l-1.84-0.99v-2.03l2.13-1.39l0.12-6.32l-1.69-0.19l-0.03,3.32l-7.42,13.85l-4.54,0.23l-3.11,2.14L477.82,324.28L477.82,324.28z\",\"name\":\"Cameroon\"},\"er\":{\"path\":\"M556.71,294.7l-0.25-5.89l3.96-4.62l1.07,0.82l1.95,6.52l9.36,6.97l-1.7,2.09l-6.85-5.89H556.71L556.71,294.7z\",\"name\":\"Eritrea\"},\"dj\":{\"path\":\"M571.48,301.54l-0.57,3.36l3.96-0.06l0.06-4.94l-1.45-0.89L571.48,301.54L571.48,301.54z\",\"name\":\"Djibouti\"},\"et\":{\"path\":\"M549.49,311.76l7.28-16.2l7.23,0.04l6.41,5.57l-0.45,4.59h4.97l0.51,2.76l8.04,4.81l4.96,0.25l-9.43,10.13l-12.95,3.99h-3.21l-5.72-4.88l-2.26-0.95l-4.38-6.45l-2.89,0.04l-0.34-2.96L549.49,311.76L549.49,311.76z\",\"name\":\"Ethiopia\"},\"so\":{\"path\":\"M575.74,305.04l4.08,2.78l1.21-0.06l10.13-3.48l1.15,3.71l-0.81,3.13l-2.19,1.74l-5.47-0.35l-7.83-4.81L575.74,305.04L575.74,305.04M591.97,304.05l4.37-1.68l1.55,0.93l-0.17,3.88l-4.03,11.48l-21.81,23.36l-2.53-1.74l-0.17-9.86l3.28-3.77l6.96-2.15l10.21-10.78l2.67-2.38l0.75-3.48L591.97,304.05L591.97,304.05z\",\"name\":\"Somalia\"},\"ye\":{\"path\":\"M599.62,299.65l2.13,2.38l2.88-1.74l1.04-0.35l-1.32-1.28l-2.53,0.75L599.62,299.65L599.62,299.65M571.99,289.23l1.44,4.28v4.18l3.46,3.14l24.38-9.93l0.23-2.73l-3.91-7.02l-9.81,3.13l-5.63,5.54l-6.53-3.86L571.99,289.23L571.99,289.23z\",\"name\":\"Yemen\"},\"cf\":{\"path\":\"M495.66,324.05l4.66,5.04l1.84-2.38l2.93,0.12l0.63-2.32l2.88-1.8l5.98,4.12l3.45-3.42l13.39,0.59L519,311.18l1.67-1.04l0.23-2.26l-2.82-1.33h-4.14l-6.67,6.61l-0.23,2.72l-5.29-0.17l-0.17,1.16l-3.45-0.35l-3.11,5.91L495.66,324.05L495.66,324.05z\",\"name\":\"Central African Republic\"},\"st\":{\"path\":\"M470.74,337.15l1.15-0.58l0.86,0.7l-0.86,1.33l-1.04-0.41L470.74,337.15L470.74,337.15M473.05,333.5l1.73-0.29l0.58,1.1l-0.86,0.93l-0.86-0.12L473.05,333.5L473.05,333.5z\",\"name\":\"Sao Tome and Principe\"},\"gq\":{\"path\":\"M476.84,327.41l-0.46,1.97l1.38,0.75l1.32-0.99l-0.46-2.03L476.84,327.41L476.84,327.41M480.99,332.69l-0.06,1.39l4.54,0.23l-0.06-1.57L480.99,332.69L480.99,332.69z\",\"name\":\"Equatorial Guinea\"},\"ga\":{\"path\":\"M486.39,332.63l-0.12,2.49l-5.64-0.12l-3.45,6.67l8.11,8.87l2.01-1.68l-0.06-1.74l-1.38-0.64v-1.22l3.11-1.97l2.76,2.09l3.05,0.06l-0.06-10.49l-4.83-0.23l-0.06-2.2L486.39,332.63L486.39,332.63z\",\"name\":\"Gabon\"},\"cg\":{\"path\":\"M491,332.52l-0.06,1.45l4.78,0.12l0.17,12.41l-4.37-0.12l-2.53-1.97l-1.96,1.1l-0.09,0.55l1.01,0.49l0.29,2.55l-2.7,2.32l0.58,1.22l2.99-2.32h1.44l0.46,1.39l1.9,0.81l6.1-5.16l-0.12-3.77l1.27-3.07l3.91-2.9l1.05-9.81l-2.78,0.01l-3.22,4.41L491,332.52L491,332.52z\",\"name\":\"Congo\"},\"ao\":{\"path\":\"M486.55,353.23l1.74,2.26l2.25-2.13l-0.66-2.21l-0.56-0.04L486.55,353.23L486.55,353.23M488.62,356.71l3.41,12.73l-0.08,4.02l-4.99,5.36l-0.75,8.71l19.2,0.17l6.24,2.26l5.15-0.67l-3-3.76l0.01-10.74l5.9-0.25v-4.19l-4.79-0.2l-0.96-9.92l-2.02,0.03l-1.09-0.98l-1.19,0.06l-1.58,3.06H502l-1.41-1.42l0.42-2.01l-1.66-2.43L488.62,356.71L488.62,356.71z\",\"name\":\"Angola\"},\"cd\":{\"path\":\"M489.38,355.71l10.31-0.18l2.09,2.97l-0.08,2.19l0.77,0.7h5.12l1.47-2.89h2.09l0.85,0.86l2.87-0.08l0.85,10.08l4.96,0.16v0.78l13.33,6.01l0.62,1.17h2.79l-0.31-4.22l-5.04-2.42l0.31-3.2l2.17-5.08l4.96-0.16l-4.26-14.14l0.08-6.01l6.74-10.54l0.08-1.48l-1.01-0.55l0.04-2.86l-1.23-0.11l-1.24-1.58l-20.35-0.92l-3.73,3.63l-6.11-4.02l-2.15,1.32l-1.56,13.13l-3.86,2.98l-1.16,2.64l0.21,3.91l-6.96,5.69l-1.85-0.84l0.25,1.09L489.38,355.71L489.38,355.71z\",\"name\":\"Congo\"},\"rw\":{\"path\":\"M537.82,339.9l2.81,2.59l-0.12,2.77l-4.36,0.09v-3.06L537.82,339.9L537.82,339.9z\",\"name\":\"Rwanda\"},\"bi\":{\"path\":\"M536.21,346.21l4.27-0.09l-1.11,3.74l-1.08,0.94h-1.32l-0.94-2.53L536.21,346.21L536.21,346.21z\",\"name\":\"Burundi\"},\"ug\":{\"path\":\"M538.3,339.09l3.03,2.84l1.9-1.21l5.14-0.84l0.88,0.09l0.33-1.95l2.9-6.1l-2.44-5.08l-7.91,0.05l-0.05,2.09l1.06,1.02l-0.16,2.09L538.3,339.09L538.3,339.09z\",\"name\":\"Uganda\"},\"ke\":{\"path\":\"M550.83,326.52l2.66,5.19l-3.19,6.69l-0.42,2.03l15.93,9.85l4.94-7.76l-2.5-2.03l-0.05-10.22l3.13-3.42l-4.99,1.66l-3.77,0.05l-5.9-4.98l-1.86-0.8l-3.45,0.32l-0.61,1.02L550.83,326.52L550.83,326.52z\",\"name\":\"Kenya\"},\"tz\":{\"path\":\"M550.57,371.42l17.47-2.14l-3.93-7.6l-0.21-7.28l1.27-3.48l-16.62-10.44l-5.21,0.86l-1.81,1.34l-0.16,3.05l-1.17,4.23l-1.22,1.45l-1.75,0.16l3.35,11.61l5.47,2.57l3.77,0.11L550.57,371.42L550.57,371.42z\",\"name\":\"Tanzania\"},\"zm\":{\"path\":\"M514.55,384.7l3.17,4.4l4.91,0.3l1.74,0.96l5.14,0.06l4.43-6.21l12.38-5.54l1.08-4.88l-1.44-6.99l-6.46-3.68l-4.31,0.3l-2.15,4.76l0.06,2.17l5.08,2.47l0.3,5.37l-4.37,0.24l-1.08-1.81l-12.14-5.18l-0.36,3.98l-5.74,0.18L514.55,384.7L514.55,384.7z\",\"name\":\"Zambia\"},\"mw\":{\"path\":\"M547.16,379.4l3.11,3.25l-0.06,4.16l0.6,1.75l4.13-4.46l-0.48-5.67l-2.21-1.69l-1.97-9.95l-3.41-0.12l1.55,7.17L547.16,379.4L547.16,379.4z\",\"name\":\"Malawi\"},\"mz\":{\"path\":\"M541.17,413.28l2.69,2.23l6.34-3.86l1.02-5.73v-9.46l10.17-8.32l1.74,0.06l6.16-5.91l-0.96-12.18L552,372.17l0.48,3.68l2.81,2.17l0.66,6.63l-5.5,5.37l-1.32-3.01l0.24-3.98l-3.17-3.44l-7.78,3.62l7.24,3.68l0.24,10.73l-4.79,7.11L541.17,413.28L541.17,413.28z\",\"name\":\"Mozambique\"},\"zw\":{\"path\":\"M524.66,392.3l8.97,10.13l6.88,1.75l4.61-7.23l-0.36-9.58l-7.48-3.86l-2.81,1.27l-4.19,6.39l-5.8-0.06L524.66,392.3L524.66,392.3z\",\"name\":\"Zimbabwe\"},\"na\":{\"path\":\"M496.55,421.96l3.35,0.24l1.97,1.99l4.67,0.06l1.14-13.26v-8.68l2.99-0.6l1.14-9.1l7.6-0.24l2.69-2.23l-4.55-0.18l-6.16,0.84l-6.64-2.41h-18.66l0.48,5.3l6.22,9.16l-1.08,4.7l0.06,2.47L496.55,421.96L496.55,421.96z\",\"name\":\"Namibia\"},\"bw\":{\"path\":\"M508.51,411.23l2.15,0.66l-0.3,6.15l2.21,0.3l5.08-4.58l6.1,0.66l1.62-4.1l7.72-7.05l-9.27-10.67l-0.12-1.75l-1.02-0.3l-2.81,2.59l-7.3,0.18l-1.02,9.1l-2.87,0.66L508.51,411.23L508.51,411.23z\",\"name\":\"Botswana\"},\"sz\":{\"path\":\"M540.87,414l-2.51,0.42l-1.08,2.95l1.92,1.75h2.33l1.97-2.83L540.87,414L540.87,414z\",\"name\":\"Swaziland\"},\"ls\":{\"path\":\"M527.41,425.39l3.05-2.35l1.44,0.06l1.74,2.17l-0.18,2.17l-2.93,1.08v0.84l-3.23-0.18l-0.78-2.35L527.41,425.39L527.41,425.39z\",\"name\":\"Lesotho\"},\"za\":{\"path\":\"M534.16,403.63l-7.9,7.3l-1.88,4.51l-6.26-0.78l-5.21,4.63l-3.46-0.34l0.28-6.4l-1.23-0.43l-0.86,13.09l-6.14-0.06l-1.85-2.18l-2.71-0.03l2.47,7.09l4.41,4.17l-3.15,3.67l2.04,4.6l4.72,1.8l3.76-3.2l10.77,0.06l0.77-0.96l4.78-0.84l16.17-16.1l-0.06-5.07l-1.73,2.24h-2.59l-3.15-2.64l1.6-3.98l2.75-0.56l-0.25-8.18L534.16,403.63L534.16,403.63z M530.37,422.13l1.51-0.06l2.45,2.66l-0.07,3.08l-2.87,1.45l-0.18,1.02l-4.38,0.05l-1.37-3.3l1.25-2.42L530.37,422.13L530.37,422.13z\",\"name\":\"South Africa\"},\"gl\":{\"path\":\"M321.13,50.07l-1.36,2.17l2.45,2.45l-1.09,2.45l3.54,4.62l4.35-1.36l5.71-0.54l6.53,7.07l4.35,11.69l-3.53,7.34l4.89-0.82l2.72,1.63l0.27,3.54l-5.98,0.27l3.26,3.26l4.08,0.82l-8.97,11.96l-1.09,7.34l1.9,5.98l-1.36,3.54l2.45,7.61l4.62,5.17l1.36-0.27l2.99-0.82l0.27,4.35l1.9,2.72l3.53-0.27l2.72-10.06l8.16-10.06l12.24-4.89l7.61-9.52l3.53,1.63h7.34l5.98-5.98l7.34-2.99l0.82-4.62l-4.62-4.08l-4.08-1.36l-2.18-5.71l5.17-2.99l8.16,4.35l2.72-2.99l-4.35-2.45l9.25-12.51l-1.63-5.44l-4.35-0.27l1.63-4.89l5.44-2.45l11.15-9.79l-3.26-3.53l-12.51,1.09l-6.53,6.53l3.81-8.43l-4.35-1.09l-2.45,4.35l-3.53-2.99l-9.79,1.09l2.72-4.35l16.04-0.54l-4.08-5.44l-17.4-3.26l-7.07,1.09l0.27,3.54l-7.34-2.45l0.27-2.45l-5.17,1.09l-1.09,2.72l5.44,1.9l-5.71,4.08l-4.08-4.62l-5.71-1.63l-0.82,4.35h-5.71l-2.18-4.62l-8.97-1.36l-4.89,2.45l-0.27,3.26l-6.25-0.82l-3.81,1.63l0.27,3.81v1.9l-7.07,1.36l-3.26-2.17l-2.18,3.53l3.26,3.54l6.8-0.82l0.54,2.18l-5.17,2.45L321.13,50.07L321.13,50.07M342.89,92.49l1.63,2.45l-0.82,2.99h-1.63l-2.18-2.45l0.54-1.9L342.89,92.49L342.89,92.49M410.87,85.69l4.62,1.36l-0.27,3.81l-4.89-2.45l-1.09-1.36L410.87,85.69L410.87,85.69z\",\"name\":\"Greenland\"},\"au\":{\"path\":\"M761.17,427.98l-0.35,25.38l-3.9,2.86l-0.35,2.5l5.32,3.57l13.13-2.5h6.74l2.48-3.58l14.9-2.86l10.64,3.22l-0.71,4.29l1.42,4.29l8.16-1.43l0.35,2.14l-5.32,3.93l1.77,1.43l3.9-1.43l-1.06,11.8l7.45,5.72l4.26-1.43l2.13,2.14l12.42-1.79l11.71-18.95l4.26-1.07l8.51-15.73l2.13-13.58l-5.32-6.79l2.13-1.43l-4.26-13.23l-4.61-3.22l0.71-17.87l-4.26-3.22l-1.06-10.01h-2.13l-7.1,23.59l-3.9,0.36l-8.87-8.94l4.97-13.23l-9.22-1.79l-10.29,2.86l-2.84,8.22l-4.61,1.07l-0.35-5.72l-18.8,11.44l0.35,4.29l-2.84,3.93h-7.1l-15.26,6.43L761.17,427.98L761.17,427.98M825.74,496.26l-1.77,7.15l0.35,5l5.32-0.36l6.03-9.29L825.74,496.26L825.74,496.26z\",\"name\":\"Australia\"},\"nz\":{\"path\":\"M913.02,481.96l1.06,11.8l-1.42,5.36l-5.32,3.93l0.35,4.65v5l1.42,1.79l14.55-12.51v-2.86h-3.55l-4.97-16.8L913.02,481.96L913.02,481.96M902.38,507.7l2.84,5.36l-7.81,7.51l-0.71,3.93l-5.32,0.71l-8.87,8.22l-8.16-3.93l-0.71-2.86l14.9-6.43L902.38,507.7L902.38,507.7z\",\"name\":\"New Zealand\"},\"nc\":{\"path\":\"M906.64,420.47l-0.35,1.79l4.61,6.43l2.48,1.07l0.35-2.5L906.64,420.47L906.64,420.47z\",\"name\":\"New Caledonia\"},\"my\":{\"path\":\"M764.14,332.92l3.02,3.49l11.58-4.01l2.29-8.84l5.16-0.37l4.72-3.42l-6.12-4.46l-1.4-2.45l-3.02,5.57l1.11,3.2l-1.84,2.67l-3.47-0.89l-8.41,6.17l0.22,3.57L764.14,332.92L764.14,332.92M732.71,315.45l2.01,4.51l0.45,5.86l2.69,4.17l6.49,3.94l2.46,0.23l-0.45-4.06l-2.13-5.18l-3.12-6.63l-0.26,1.16l-3.76-0.17l-2.7-3.88L732.71,315.45L732.71,315.45z\",\"name\":\"Malaysia\"},\"bn\":{\"path\":\"M779.77,319.25l-2.88,3.49l2.36,0.74l1.33-1.86L779.77,319.25L779.77,319.25z\",\"name\":\"Brunei Darussalam\"},\"tl\":{\"path\":\"M806.14,368.42l-5.11,4.26l0.49,1.09l2.16-0.4l2.55-2.38l5.01-0.69l-0.98-1.68L806.14,368.42L806.14,368.42z\",\"name\":\"Timor-Leste\"},\"sb\":{\"path\":\"M895.43,364.65l0.15,2.28l1.39,1.32l1.31-0.81l-1.17-2.43L895.43,364.65L895.43,364.65M897.18,370.31l-1.17,1.25l1.24,2.28l1.46,0.44l-0.07-1.54L897.18,370.31L897.18,370.31M900.03,368.99l1.02,2.5l1.97,2.35l1.09-1.76l-1.46-2.5L900.03,368.99L900.03,368.99M905.14,372.74l0.58,3.09l1.39,1.91l1.17-2.42L905.14,372.74L905.14,372.74M906.74,379.65l-0.51,0.88l1.68,2.21l1.17,0.07l-0.73-2.87L906.74,379.65L906.74,379.65M903.02,384.05l-1.75,0.81l1.53,2.13l1.31-0.74L903.02,384.05L903.02,384.05z\",\"name\":\"Solomon Islands\"},\"vu\":{\"path\":\"M920.87,397.22l-1.24,1.66l0.52,1.87l0.62,0.42l1.13-1.46L920.87,397.22L920.87,397.22M921.49,402.31l0.1,1.35l1.34,0.42l0.93-0.52l-0.93-1.46L921.49,402.31L921.49,402.31M923.45,414.37l-0.62,0.94l0.93,1.04l1.55-0.52L923.45,414.37L923.45,414.37z\",\"name\":\"Vanuatu\"},\"fj\":{\"path\":\"M948.62,412.29l-1.24,1.66l-0.1,1.87l1.44,1.46L948.62,412.29L948.62,412.29z\",\"name\":\"Fiji\"},\"ph\":{\"path\":\"M789.37,297.53l-0.86,1.64l-0.48,2.02l-4.78,6.07l0.29,1.25l2.01-0.29l6.21-6.94L789.37,297.53L789.37,297.53M797.11,295.22l-0.1,5.01l1.82,1.83l0.67,3.56l1.82,0.39l0.86-2.22l-1.43-1.06l-0.38-6.26L797.11,295.22L797.11,295.22M802.28,297.15l-0.1,4.43l1.05,1.73l1.82-2.12l-0.48-3.85L802.28,297.15L802.28,297.15M803.42,293.29l1.82,2.41l0.86,2.31h1.63l-0.29-3.95l-1.82-1.25L803.42,293.29L803.42,293.29M806.96,302.35l0.38,2.89l-3.35,2.7l-2.77,0.29l-2.96,3.18l0.1,1.45l2.77-0.87l1.91-1.25l1.63,4.14l2.87,2.02l1.15-0.39l1.05-1.25l-2.29-2.31l1.34-1.06l1.53,1.25l1.05-1.73l-1.05-2.12l-0.19-4.72L806.96,302.35L806.96,302.35M791.38,272.97l-2.58,1.83l-0.29,5.78l4.02,7.8l1.34,1.06l1.72-1.16l2.96,0.48l0.57,2.6l2.2,0.19l1.05-1.44l-1.34-1.83l-1.63-1.54l-3.44-0.38l-1.82-2.99l2.1-3.18l0.19-2.79l-1.43-3.56L791.38,272.97L791.38,272.97M792.72,290.21l0.76,2.7l1.34,0.87l0.96-1.25l-1.53-2.12L792.72,290.21L792.72,290.21z\",\"name\":\"Philippines\"},\"cn\":{\"path\":\"M759.83,270.17l-2.39,0.67l-1.72,2.12l1.43,2.79l2.1,0.19l2.39-2.12l0.57-2.79L759.83,270.17L759.83,270.17M670.4,170.07l-3.46,8.7l-4.77-0.25l-5.03,11.01l4.27,5.44l-8.8,12.15l-4.52-0.76l-3.02,3.8l0.75,2.28l3.52,0.25l1.76,4.05l3.52,0.76l10.81,13.93v7.09l5.28,3.29l5.78-1.01l7.29,4.3l8.8,2.53l4.27-0.51l4.78-0.51l10.05-6.58l3.27,0.51l1.25,2.97l2.77,0.83l3.77,5.57l-2.51,5.57l1.51,3.8l4.27,1.52l0.75,4.56l5.03,0.51l0.75-2.28l7.29-3.8l4.52,0.25l5.28,5.82l3.52-1.52l2.26,0.25l1.01,2.79l1.76,0.25l2.51-3.54l10.05-3.8l9.05-10.89l3.02-10.38l-0.25-6.84l-3.77-0.76l2.26-2.53l-0.5-4.05l-9.55-9.62v-4.81l2.76-3.54l2.76-1.27l0.25-2.79h-7.04l-1.26,3.8l-3.27-0.76l-4.02-4.3l2.51-6.58l3.52-3.8l3.27,0.25l-0.5,5.82l1.76,1.52l4.27-4.3l1.51-0.25l-0.5-3.29l4.02-4.81l3.02,0.25l1.76-5.57l2.06-1.09l0.21-3.47l-2-2.1l-0.17-5.48l3.85-0.25l-0.25-14.13l-2.7,1.62l-1.01,3.62l-4.51-0.01l-13.07-7.35l-9.44-11.38l-9.58-0.1l-2.44,2.12l3.1,7.1l-1.08,6.66l-3.86,1.6l-2.17-0.17l-0.16,6.59l2.26,0.51l4.02-1.77l5.28,2.53v2.53l-3.77,0.25l-3.02,6.58l-2.76,0.25l-9.8,12.91l-10.3,4.56l-7.04,0.51l-4.77-3.29l-6.79,3.55l-7.29-2.28l-1.76-4.81l-12.31-0.76l-6.53-10.63h-2.76l-2.22-4.93L670.4,170.07z\",\"name\":\"China\"},\"tw\":{\"path\":\"M787.46,248.31l-3.54,2.7l-0.19,5.2l3.06,3.56l0.76-0.67L787.46,248.31L787.46,248.31z\",\"name\":\"Taiwan\"},\"jp\":{\"path\":\"M803.23,216.42l-1.63,1.64l0.67,2.31l1.43,0.1l0.96,5.01l1.15,1.25l2.01-1.83l0.86-3.28l-2.49-3.56L803.23,216.42L803.23,216.42M812.03,213.15l-2.77,2.6l-0.1,2.99l0.67,0.87l3.73-3.18l-0.29-3.18L812.03,213.15L812.03,213.15M808.2,206.98l-4.88,5.59l0.86,1.35l2.39,0.29l4.49-3.47l3.16-0.58l2.87,3.37l2.2-0.77l0.86-3.28l4.11-0.1l4.02-4.82l-2.1-8l-0.96-4.24l2.1-1.73l-4.78-7.22l-1.24,0.1l-2.58,2.89v2.41l1.15,1.35l0.38,6.36l-2.96,3.66l-1.72-1.06l-1.34,2.99l-0.29,2.79l1.05,1.64l-0.67,1.25l-2.2-1.83h-1.53l-1.34,0.77L808.2,206.98L808.2,206.98M816.43,163.44l-1.53,1.35l0.77,2.89l1.34,1.35l-0.1,4.43l-1.72,0.67l-1.34,2.99l3.92,5.39l2.58-0.87l0.48-1.35l-2.77-2.5l1.72-2.22l1.82,0.29l1.43,1.54l0.1-3.18l3.92-3.18l2.2-0.58l-1.82-3.08l-0.86-1.35l-1.43,0.96l-1.24,1.54l-2.68-0.58l-2.77-1.83L816.43,163.44L816.43,163.44z\",\"name\":\"Japan\"},\"ru\":{\"path\":\"M506.61,151.72l-1.5-0.15l-2.7,3.23v1.51l0.9,0.35l1.75,0.05l2.9-2.37l0.4-0.81L506.61,151.72L506.61,151.72M830.86,160.45l-2.68,3.76l0.19,1.83l1.34-0.58l3.15-3.95L830.86,160.45L830.86,160.45M834.4,154.96l-0.96,2.6l0.1,1.73l1.63-1.06l1.53-3.08V154L834.4,154.96L834.4,154.96M840.04,132.03l-1.24,1.54l0.1,2.41l1.15-0.1l1.91-3.37L840.04,132.03L840.04,132.03M837.75,137.91v4.24l1.34,0.48l0.96-1.54v-3.27L837.75,137.91L837.75,137.91M798.64,122.59l-0.09,6.17l7.74,11.95l2.77,10.4l4.88,9.25l1.91,0.67l1.63-1.35l0.76-2.22l-6.98-7.61l0.19-3.95l1.53-0.67l0.38-2.31l-13.67-19.36L798.64,122.59L798.64,122.59M852.57,103.42l-1.91,0.19l1.15,1.64l2.39,1.64l0.67-0.77L852.57,103.42L852.57,103.42M856.29,104.58l0.29,1.64l2.96,0.87l0.29-1.16L856.29,104.58L856.29,104.58M547.82,38.79l1.72,0.69l-1.21,2.08v2.95l-2.58,1.56H543l-1.55-1.91l0.17-2.08l1.21-1.56h2.41L547.82,38.79L547.82,38.79M554.36,36.88v2.08l1.72,1.39l2.41-0.17l2.07-1.91v-1.39h-1.89l-1.55,0.52l-1.21-1.39L554.36,36.88L554.36,36.88M564.18,37.06l1.21,2.6l2.41,0.17l1.72-0.69l-0.86-2.43l-2.24-0.52L564.18,37.06L564.18,37.06M573.99,33.59l-1.89-0.35l-1.72,1.74l0.86,1.56l0.52,2.43l2.24-1.73l0.52-1.91L573.99,33.59L573.99,33.59M584.49,51.98l-0.52,2.43l-3.96,3.47l-8.44,1.91l-6.89,11.45l-1.21,3.3l6.89,1.74l1.03-4.16l2.07-6.42l5.34-2.78l4.48-3.47l3.27-1.39h1.72v-4.68L584.49,51.98L584.49,51.98M562.28,77.31l4.65,0.52l1.55,5.38l3.96,4.16l-1.38,2.78h-2.41l-2.24-2.6l-4.99-0.17l-2.07-2.78v-1.91l3.1-0.87L562.28,77.31L562.28,77.31M634.95,18.15l-2.24-1.39h-2.58l-0.52,1.56l-2.75,1.56l-2.07,0.69l-0.34,2.08l4.82,0.35L634.95,18.15L634.95,18.15M640.28,18.67l-1.21,2.6l-2.41-0.17l-3.79,2.78l-1.03,3.47h2.41l1.38-2.26l3.27,2.43l3.1-1.39l2.24-1.91l-0.86-2.95l-1.21-2.08L640.28,18.67L640.28,18.67M645.28,20.58l1.21,4.86l1.89,4.51l2.07-3.64l3.96-0.87v-2.6l-2.58-1.91L645.28,20.58L645.28,20.58M739.76,12.8l2.69,2.26l1.91-0.79l0.56-3.17L741,8.39l-2.58,1.7l-6.28,0.57v2.83l-6.62,0.11v4.63l7.74,5.76l2.02-1.47l-0.45-4.07l4.94-1.24l-1.01-1.92l-1.79-1.81L739.76,12.8L739.76,12.8M746.94,10.09l1.79,3.39l6.96-0.79l1.91-2.49l-0.45-2.15l-1.91-0.79l-1.79,1.36l-5.16,1.13L746.94,10.09L746.94,10.09M746.49,23.31l-3.48-0.9L741,24.56l-0.9,2.94l4.71-0.45l3.59-1.81L746.49,23.31L746.49,23.31M836.68,3.76l-2.92-0.9L830.4,4.1l-1.68,2.49l2.13,2.83l5.61-2.49l1.12-1.24L836.68,3.76L836.68,3.76M817.97,72.93l1.76,6.08l3.52,1.01l3.52-5.57l-2.01-3.8l0.75-3.29h5.28l-1.26,2.53l0.5,9.12l-7.54,18.74l0.75,4.05l-0.25,6.84l14.07,20.51l2.76,0.76l0.25-16.71l2.76-2.53l-3.02-6.58l2.51-2.79l-5.53-7.34l-3.02,0.25l-1-12.15l7.79-2.03l0.5-3.55l4.02-1.01l2.26,2.03l2.76-11.14l4.77-8.1l3.77-2.03l3.27,0.25v-3.8l-5.28-1.01l-7.29-6.08l3.52-4.05l-3.02-6.84l2.51-2.53l3.02,4.05l7.54,2.79l8.29,0.76l1.01-3.54l-4.27-4.3l4.77-6.58l-10.81-3.8l-2.76,5.57l-3.52-4.56l-19.85-6.84l-18.85,3.29l-2.76,1.52v1.52l4.02,2.03l-0.5,4.81l-7.29-3.04l-16.08,6.33l-2.76-5.82h-11.06l-5.03,5.32l-17.84-4.05l-16.33,3.29l-2.01,5.06l2.51,0.76l-0.25,3.8l-15.83,1.77l1.01,5.06l-14.58-2.53l3.52-6.58l-14.83-0.76l1.26,6.84l-4.77,2.28l-4.02-3.8l-16.33,2.79l-6.28,5.82l-0.25,3.54l-4.02,0.25l-0.5-4.05l12.82-11.14v-7.6l-8.29-2.28l-10.81,3.54l-4.52-4.56h-2.01l-2.51,5.06l2.01,2.28l-14.33,7.85l-12.31,9.37l-7.54,10.38v4.3l8.04,3.29l-4.02,3.04l-8.54-3.04l-3.52,3.04l-5.28-6.08l-1.01,2.28l5.78,18.23l1.51,0.51l4.02-2.03l2.01,1.52v3.29l-3.77-1.52l-2.26,1.77l1.51,3.29l-1.26,8.61l-7.79,0.76l-0.5-2.79l4.52-2.79l1.01-7.6l-5.03-6.58l-1.76-11.39l-8.04-1.27l-0.75,4.05l1.51,2.03l-3.27,2.79l1.26,7.6l4.77,2.03l1.01,5.57l-4.78-3.04l-12.31-2.28l-1.51,4.05l-9.8,3.54l-1.51-2.53l-12.82,7.09l-0.25,4.81l-5.03,0.76l1.51-3.54v-3.54l-5.03-1.77l-3.27,1.27l2.76,5.32l2.01,3.54v2.79l-3.77-0.76l-0.75-0.76l-3.77,4.05l2.01,3.54l-8.54-0.25l2.76,3.55l-0.75,1.52h-4.52l-3.27-2.28l-0.75-6.33l-5.28-2.03v-2.53l11.06,2.28l6.03,0.51l2.51-3.8l-2.26-4.05l-16.08-6.33l-5.55,1.38l-1.9,1.63l0.59,3.75l2.36,0.41l-0.55,5.9l7.28,17.1l-5.26,8.34l-0.36,1.88l2.67,1.88l-2.41,1.59l-1.6,0.03l0.3,7.35l2.21,3.13l0.03,3.04l2.83,0.26l4.33,1.65l4.58,6.3l0.05,1.66l-1.49,2.55l3.42-0.19l3.33,0.96l4.5,6.37l11.08,1.01l-0.48,7.58l-3.82,3.27l0.79,1.28l-3.77,4.05l-1,3.8l2.26,3.29l7.29,2.53l3.02-1.77l19.35,7.34l0.75-2.03l-4.02-3.8v-4.81l-2.51-0.76l0.5-4.05l4.02-4.81l-7.21-5.4l0.5-7.51l7.71-5.07l9.05,0.51l1.51,2.79l9.3,0.51l6.79-3.8l-3.52-3.8l0.75-7.09l17.59-8.61l13.53,6.1l4.52-4.05l13.32,12.66l10.05-1.01l3.52,3.54l9.55,1.01l6.28-8.61l8.04,3.55l4.27,0.76l4.27-3.8l-3.77-2.53l3.27-5.06l9.3,3.04l2.01,4.05l4.02,0.25l2.51-1.77l6.79-0.25l0.75,1.77l7.79,0.51l5.28-5.57l10.81,1.27l3.27-1.27l1-6.08l-3.27-7.34l3.27-2.79h10.3l9.8,11.65l12.56,7.09h3.77l0.5-3.04l4.52-2.79l0.5,16.46l-4.02,0.25v4.05l2.26,2.79l-0.42,3.62l1.67,0.69l1.01-2.53l1.51,0.51l1,1.01l4.52-1.01l4.52-13.17l0.5-16.46l-5.78-13.17l-7.29-8.86l-3.52,0.51v2.79l-8.54-3.29l3.27-7.09l2.76-18.74l11.56-3.54l5.53-3.54h6.03L805.86,96l1.51,2.53l5.28-5.57l3.02,0.25l-0.5-3.29l-4.78-1.01l3.27-11.9L817.97,72.93L817.97,72.93z\",\"name\":\"Russian Federation\"},\"us\":{\"path\":\"M69.17,53.35l3.46,6.47l2.22-0.5v-2.24L69.17,53.35L69.17,53.35M49.66,110.26l-0.17,3.01l2.16-0.5v-1.34L49.66,110.26L49.66,110.26M46.34,111.6l-4.32,2.18l0.67,2.34l1.66-1.34l3.32-1.51L46.34,111.6L46.34,111.6M28.39,114.44l-2.99-0.67l-0.5,1.34l0.33,2.51L28.39,114.44L28.39,114.44M22.07,114.28l-2.83-1.17l-1,1.84l1.83,1.84L22.07,114.28L22.07,114.28M12.27,111.6l-1.33-1.84l-1.33,0.5v2.51l1.5,1L12.27,111.6L12.27,111.6M1.47,99.71l1.66,1.17l-0.5,1.34H1.47V99.71L1.47,99.71M10,248.7l-0.14,2.33l2.04,1.37l1.22-1.09L10,248.7L10,248.7M15.29,252.13l-1.9,1.37l1.63,2.05l1.9-1.64L15.29,252.13L15.29,252.13M19.1,255.41l-1.63,2.19l0.54,1.37l2.31-1.09L19.1,255.41L19.1,255.41M21.81,259.65l-0.95,5.47l0.95,2.05l3.12-0.96l1.63-2.74l-3.4-3.15L21.81,259.65L21.81,259.65M271.05,281.06l-2.64-0.89l-2.12,1.33l1.06,1.24l3.61,0.53L271.05,281.06L271.05,281.06M93.11,44.89l-8.39,1.99l1.73,9.45l9.13,2.49l0.49,1.99L82.5,65.04l-7.65,12.68l2.71,13.43L82,94.13l3.46-3.23l0.99,1.99l-4.2,4.97l-16.29,7.46l-10.37,2.49l-0.25,3.73l23.94-6.96l9.87-2.74l9.13-11.19l10.12-6.71l-5.18,8.7l5.68,0.75l9.63-4.23l1.73,6.96l6.66,1.49l6.91,6.71l0.49,4.97l-0.99,1.24l1.23,4.72h1.73l0.25-7.96h1.97l0.49,19.64l4.94-4.23l-3.46-20.39h-5.18l-5.68-7.21l27.89-47.25l-27.64-21.63l-30.85,5.97l-1.23,9.45l6.66,3.98l-2.47,6.47L93.11,44.89L93.11,44.89M148.76,158.34l-1,4.02l-3.49-2.26h-1.74l-1,4.27l-12.21,27.36l3.24,23.84l3.99,2.01l0.75,6.53h8.22l7.97,6.02l15.69,1.51l1.74,8.03l2.49,1.76l3.49-3.51l2.74,1.25l2.49,11.54l4.23,2.76l3.49-6.53l10.71-7.78l6.97,3.26l5.98,0.5l0.25-3.76l12.45,0.25l2.49,2.76l0.5,6.27l-1.49,3.51l1.74,6.02h3.74l3.74-5.77l-1.49-2.76l-1.49-6.02l2.24-6.78l10.21-8.78l7.72-2.26l-1-7.28l10.71-11.55l10.71-1.76L272.8,199l10.46-6.02v-8.03l-1-0.5l-3.74,1.25l-0.5,4.92l-12.43,0.15l-9.74,6.47l-15.29,5l-2.44-2.99l6.94-10.5l-3.43-3.27l-2.33-4.44l-4.83-3.88l-5.25-0.44l-9.92-6.77L148.76,158.34L148.76,158.34z\",\"name\":\"United States of America\"},\"mu\":{\"path\":\"M613.01,398.99l-1.52,1.99l0.3,2.15l3.2-2.61L613.01,398.99L613.01,398.99z\",\"name\":\"Mauritius\"},\"re\":{\"path\":\"M607.38,402.37l-2.28,0.15l-0.15,1.99l1.52,0.31l2.28-1.07L607.38,402.37L607.38,402.37z\",\"name\":\"Reunion\"},\"mg\":{\"path\":\"M592.3,372.92l-2.13,5.06l-3.65,6.44l-6.39,0.46l-2.74,3.22l0.46,9.82l-3.96,4.6l0.46,7.82l3.35,3.83l3.96-0.46l3.96-2.92l-0.91-4.6l9.13-15.8l-1.83-1.99l1.83-3.83l1.98,0.61l0.61-1.53l-1.83-7.82l-1.07-3.22L592.3,372.92L592.3,372.92z\",\"name\":\"Madagascar\"},\"km\":{\"path\":\"M577.69,371.23l0.46,1.53l1.98,0.31l0.76-1.99L577.69,371.23L577.69,371.23M580.58,374.3l0.76,1.69h1.22l0.61-2.15L580.58,374.3L580.58,374.3z\",\"name\":\"Comoros\"},\"sc\":{\"path\":\"M602.35,358.34l-0.61,1.23l1.67,1.38l1.22-1.38L602.35,358.34L602.35,358.34M610.88,349.14l-1.83,1.23l1.37,2.15h1.83L610.88,349.14L610.88,349.14M611.64,354.51l-1.22,1.38l0.91,1.38l1.67,0.31l0.15-2.92L611.64,354.51L611.64,354.51z\",\"name\":\"Seychelles\"},\"mv\":{\"path\":\"M656.4,320.76l0.3,2.61l1.67,0.61l0.3-2.3L656.4,320.76L656.4,320.76M658.53,326.28l-0.15,3.22l1.22,0.61l1.07-2.15L658.53,326.28L658.53,326.28M658.84,332.57l-1.07,1.07l1.22,1.07l1.52-1.07L658.84,332.57L658.84,332.57z\",\"name\":\"Maldives\"},\"pt\":{\"path\":\"M372.64,217.02l-1.36,1.37l2.44,1.37l0.27-1.91L372.64,217.02L372.64,217.02M379.97,216.2l-1.63,1.09l1.36,1.09l2.17-0.55L379.97,216.2L379.97,216.2M381.05,220.03l-0.81,2.19l1.08,1.37l1.36-1.09L381.05,220.03L381.05,220.03M387.56,224.4l-0.54,1.37l0.81,0.82l2.17-1.37L387.56,224.4L387.56,224.4M408.18,236.42l-1.08,1.37l1.08,1.37l1.63-0.82L408.18,236.42L408.18,236.42M430.93,211.24l-0.62,8.65l-1.77,1.6l0.18,0.98l1.24,2.05l-0.8,2.5l1.33,0.45l3.1-0.36l-0.18-2.5l2.03-11.59l-0.44-1.6L430.93,211.24L430.93,211.24z\",\"name\":\"Portugal\"},\"es\":{\"path\":\"M415.62,253.73l-1.75,1.01l0.81,0.82L415.62,253.73L415.62,253.73M409.54,253.92l-2.17,0.55l1.08,1.64h1.63L409.54,253.92L409.54,253.92M404.38,252.28l-1.36,1.37l1.9,1.64l1.08-2.46L404.38,252.28L404.38,252.28M448.36,205h-12.74l-2.57-1.16l-1.24,0.09l-1.5,3.12l0.53,3.21l4.87,0.45l0.62,2.05l-2.12,11.95l0.09,2.14l3.45,1.87l3.98,0.27l7.96-1.96l3.89-4.9l0.09-4.99l6.9-6.24l0.35-2.76l-6.28-0.09L448.36,205L448.36,205M461.1,217.21l-1.59,0.54l0.35,1.43h2.3l0.97-1.07L461.1,217.21L461.1,217.21z\",\"name\":\"Spain\"},\"cv\":{\"path\":\"M387.56,290.54l-1.9,1.09l1.36,1.09l1.63-0.82L387.56,290.54L387.56,290.54M392.23,292.74l-1.24,1.1l0.88,1.63l2.12-0.95L392.23,292.74L392.23,292.74M389.52,295.83l-1.59,0.95l1.71,2.29l1.35-0.71L389.52,295.83L389.52,295.83z\",\"name\":\"Cape Verde\"},\"pf\":{\"path\":\"M27.25,402.68l-1.9-0.14l-0.14,1.78l1.49,0.96l1.77-1.09L27.25,402.68L27.25,402.68M33.77,404.6l-2.72,1.78l2.04,2.46l1.77-0.41l0.95-1.23L33.77,404.6L33.77,404.6z\",\"name\":\"French Polynesia\"},\"kn\":{\"path\":\"M276.6,283.37l-1.5,0.62l0.53,1.33l1.76-1.15l-0.35-0.36L276.6,283.37L276.6,283.37z\",\"name\":\"Saint Kitts and Nevis\"},\"ag\":{\"path\":\"M279.07,284.88l-0.88,1.87l1.06,1.42l1.32-1.15L279.07,284.88L279.07,284.88z\",\"name\":\"Antigua and Barbuda\"},\"dm\":{\"path\":\"M282.07,290.03l-1.06,0.98l0.79,1.6l1.5-0.44L282.07,290.03L282.07,290.03z\",\"name\":\"Dominica\"},\"lc\":{\"path\":\"M281.98,294.03l-0.71,1.51l1.15,1.24l1.5-0.8L281.98,294.03L281.98,294.03z\",\"name\":\"Saint Lucia\"},\"bb\":{\"path\":\"M282.07,297.85l-1.23,0.89l0.97,1.78l1.59-0.89L282.07,297.85L282.07,297.85z\",\"name\":\"Barbados\"},\"gd\":{\"path\":\"M280.57,301.31l-1.15,1.15l0.44,0.71h1.41l0.44-1.16L280.57,301.31L280.57,301.31z\",\"name\":\"Grenada\"},\"tt\":{\"path\":\"M282.24,304.78l-1.06,0.98l-1.15,0.18v1.42l2.12,1.95l0.88-1.42l0.53-1.6l-0.18-1.33L282.24,304.78L282.24,304.78z\",\"name\":\"Trinidad and Tobago\"},\"do\":{\"path\":\"M263.11,280.44l-5.29-3.46l-2.5-0.85l-0.84,6l0.88,1.69l1.15-1.33l3.35-0.89l2.91,0.62L263.11,280.44L263.11,280.44z\",\"name\":\"Dominican Republic\"},\"ht\":{\"path\":\"M250.86,275.38l3.44,0.36l-0.41,4.22l-0.34,2.22l-4.01-0.22l-0.71,1.07l-1.23-0.09l-0.44-2.31l4.23-0.35l-0.26-2.4l-1.94-0.8L250.86,275.38L250.86,275.38z\",\"name\":\"Haiti\"},\"fk\":{\"path\":\"M307.95,508.18l-2.63-0.29l-2.62,1.76l1.9,2.06L307.95,508.18L307.95,508.18M310.57,506.86l-0.87,2.79l-2.48,2.2l0.15,0.73l4.23-1.62l1.75-2.2L310.57,506.86L310.57,506.86z\",\"name\":\"Falkland Islands\"},\"is\":{\"path\":\"M406.36,117.31l-1.96-1.11l-2.64,1.67l-2.27,2.1l0.06,1.17l2.94,0.37l-0.18,2.1l-1.04,1.05l0.25,0.68l2.94,0.19v3.4l4.23,0.74l2.51,1.42l2.82,0.12l4.84-2.41l3.74-4.94l0.06-3.34l-2.27-1.92l-1.9-1.61l-0.86,0.62l-1.29,1.67l-1.47-0.19l-1.47-1.61l-1.9,0.18l-2.76,2.29l-1.66,1.79l-0.92-0.8l-0.06-1.98l0.92-0.62L406.36,117.31L406.36,117.31z\",\"name\":\"Iceland\"},\"no\":{\"path\":\"M488.26,53.96l-1.65-1.66l-3.66,1.78h-6.72L475.17,58l3.77,3.33l1.65-0.24l2.36-4.04l2,1.43l-1.42,2.85l-0.71,4.16l1.65,2.61l3.54-5.94l4.6-5.59l-1.77-1.54L488.26,53.96L488.26,53.96M490.26,46.83l-2.95,2.73l1.77,2.73h3.18l1.3,1.78l3.89,2.02l4.48-2.61l3.07-2.61l-1.06-2.14l-3.07-1.78l-2.24,2.02l-1.53-1.9l-1.18,0.12l-1.53,3.33l-2.24-2.26l-0.24-1.54L490.26,46.83L490.26,46.83M496.98,59.07l-2.36,2.14l-2,1.54l0.94,1.66l1.89,0.59l3.07-1.43l1.42-1.78l-1.3-2.14L496.98,59.07L496.98,59.07M515.46,102.14l2.02-1.48L517.3,99l-1.28-0.74l0.18-2.03h1.1v-1.11l-4.77-1.29l-7.15,0.74l-0.73,3.14L503,97.16l-1.1-1.85l-3.49,0.18L498.04,99l-1.65,0.74l-0.92-1.85l-7.34,5.91l1.47,1.66l-2.75,1.29l-6.24,12.38l-2.2,1.48l0.18,1.11l2.2,1.11l-0.55,2.4l-3.67-0.19l-1.1-1.29l-2.38,2.77l-1.47,1.11l-0.37,2.59l-1.28,0.74l-3.3,0.74l-1.65,5.18l1.1,8.5l1.28,3.88l1.47,1.48l3.3-0.18l4.77-4.62l1.83-3.14l0.55,4.62l3.12-5.54l0.18-15.53l2.54-1.6l0.76-8.57l7.7-11.09l3.67-1.29l1.65-2.03l5.5,1.29l2.75,1.66l0.92-4.62l4.59-2.77L515.46,102.14L515.46,102.14z\",\"name\":\"Norway\"},\"lk\":{\"path\":\"M680.54,308.05l0.25,2.72l0.25,1.98l-1.47,0.25l0.74,4.45l2.21,1.24l3.43-1.98l-0.98-4.69l0.25-1.73l-3.19-2.96L680.54,308.05L680.54,308.05z\",\"name\":\"Sri Lanka\"},\"cu\":{\"path\":\"M220.85,266.92v1.27l5.32,0.1l2.51-1.46l0.39,1.07l5.22,1.27l4.64,4.19l-1.06,1.46l0.19,1.66l3.87,0.97l3.87-1.75l1.74-1.75l-2.51-1.27l-12.95-7.6l-4.54-0.49L220.85,266.92L220.85,266.92z\",\"name\":\"Cuba\"},\"bs\":{\"path\":\"M239.61,259.13l-1.26-0.39l-0.1,2.43l1.55,1.56l1.06-1.56L239.61,259.13L239.61,259.13M242.12,262.93l-1.74,0.97l1.64,2.34l0.87-1.17L242.12,262.93L242.12,262.93M247.73,264.68l-1.84-0.1l0.19,1.17l1.35,1.95l1.16-1.27L247.73,264.68L247.73,264.68M246.86,262.35l-3-1.27l-0.58-3.02l1.16-0.49l1.16,2.34l1.16,0.88L246.86,262.35L246.86,262.35M243.96,256.21l-1.55-0.39l-0.29-1.95l-1.64-0.58l1.06-1.07l1.93,0.68l1.45,0.88L243.96,256.21L243.96,256.21z\",\"name\":\"Bahamas\"},\"jm\":{\"path\":\"M238.93,279.59l-3.48,0.88v0.97l2.03,1.17h2.13l1.35-1.56L238.93,279.59L238.93,279.59z\",\"name\":\"Jamaica\"},\"ec\":{\"path\":\"M230.2,335.85l-4.73,2.94l-0.34,4.36l-0.95,1.43l2.98,2.86l-1.29,1.41l0.3,3.6l5.33,1.27l8.07-9.55l-0.02-3.33l-3.87-0.25L230.2,335.85L230.2,335.85z\",\"name\":\"Ecuador\"},\"ca\":{\"path\":\"M203.73,35.89l0.22,4.02l-7.98,8.27l2,6.7l5.76-1.56l3.33-4.92l8.42-3.13l6.87-0.45l-5.32-5.81l-2.66,2.01l-2-0.67l-1.11-2.46l-2.44-2.46L203.73,35.89L203.73,35.89M214.15,24.05l-1.77,3.13l8.65,3.13l3.1-4.69l1.33,3.13h2.22l4.21-4.69l-5.1-1.34l-2-1.56l-2.66,2.68L214.15,24.05L214.15,24.05M229.23,30.31l-6.87,2.9v2.23l8.87,3.35l-2,2.23l1.33,2.9l5.54-2.46h4.66l2.22,3.57l3.77-3.8l-0.89-3.58l-3.1,1.12l-0.44-4.47l1.55-2.68h-1.55l-2.44,1.56l-1.11,0.89l0.67,3.13l-1.77,1.34l-2.66-0.22l-0.67-4.02L229.23,30.31L229.23,30.31M238.32,23.38l-0.67,2.23l4.21,2.01l3.1-1.79l-0.22-1.34L238.32,23.38L238.32,23.38M241.64,19.58l-3.1,1.12l0.22,1.56l6.87-0.45l-0.22-1.56L241.64,19.58L241.64,19.58M256.5,23.38l-0.44,1.56l-1.11,1.56v2.23l4.21-0.67l4.43,3.8h1.55v-3.8l-4.43-4.92L256.5,23.38L256.5,23.38M267.81,27.85l1.77,2.01l-1.55,2.68l1.11,2.9l4.88-2.68v-2.01l-2.88-3.35L267.81,27.85L267.81,27.85M274.24,22.71l0.22,3.57h5.99l1.55,1.34l-0.22,1.56l-5.32,0.67l3.77,5.14l5.1,0.89l7.09-3.13l-10.2-15.42l-3.1,2.01l0.22,2.68l-3.55-1.34L274.24,22.71L274.24,22.71M222.58,47.96l-8.42,2.23l-4.88,4.25l0.44,4.69l8.87,2.68l-2,4.47l-6.43-4.02l-1.77,3.35l4.21,2.9l-0.22,4.69l6.43,1.79l7.76-0.45l1.33-2.46l5.76,6.48l3.99-1.34l0.67-4.47l2.88,2.01l0.44-4.47l-3.55-2.23l0.22-14.07l-3.1-2.46L231.89,56L222.58,47.96L222.58,47.96M249.63,57.79l-2.88-1.34l-1.55,2.01l3.1,4.92l0.22,4.69l6.65-4.02v-5.81l2.44-2.46l-2.44-1.79h-3.99L249.63,57.79L249.63,57.79M263.82,55.78l-4.66,3.8l1.11,4.69h2.88l1.33-2.46l2,2.01l2-0.22l5.32-4.47L263.82,55.78L263.82,55.78M263.37,48.4l-1.11,2.23l4.88,1.79l1.33-2.01L263.37,48.4L263.37,48.4M260.49,39.91l-4.88,0.67l-2.88,2.68l5.32,0.22l-1.55,4.02l1.11,1.79l1.55-0.22l3.77-6.03L260.49,39.91L260.49,39.91M268.92,38.35l-2.66,0.89l0.44,3.57l4.43,2.9l0.22,2.23l-1.33,1.34l0.67,4.47l17.07,5.58l4.66,1.56l4.66-4.02l-5.54-4.47l-5.1,1.34l-7.09-0.67l-2.66-2.68l-0.67-7.37l-4.43-2.23L268.92,38.35L268.92,38.35M282.88,61.59L278,61.14l-5.76,2.23l-3.1,4.24l0.89,11.62l9.53,0.45l9.09,4.47l6.43,7.37l4.88-0.22l-1.33,6.92l-4.43,7.37l-4.88,2.23l-3.55-0.67l-1.77-1.56l-2.66,3.57l1.11,3.57l3.77,0.22l4.66-2.23l3.99,10.28l9.98,6.48l6.87-8.71l-5.76-9.38l3.33-3.8l4.66,7.82l8.42-7.37l-1.55-3.35l-5.76,1.79l-3.99-10.95l3.77-6.25l-7.54-8.04l-4.21,2.9l-3.99-8.71l-8.42,1.12l-2.22-10.5l-6.87,4.69l-0.67,5.81h-3.77l0.44-5.14L282.88,61.59L282.88,61.59M292.86,65.61l-1.77,1.79l1.55,2.46l7.32,0.89l-4.66-4.92L292.86,65.61L292.86,65.61M285.77,40.36v2.01l-4.88,1.12l1.33,2.23l5.54,2.23l6.21,0.67l4.43,3.13l4.43-2.46l-3.1-3.13h3.99l2.44-2.68l5.99-0.89v-1.34l-3.33-2.23l0.44-2.46l9.31,1.56l13.75-5.36l-5.1-1.56l1.33-1.79h10.64l1.77-1.79l-21.51-7.6l-5.1-1.79l-5.54,4.02l-6.21-5.14l-3.33-0.22l-0.67,4.25l-4.21-3.8l-4.88,1.56l0.89,2.46l7.32,1.56l-0.44,3.57l3.99,2.46l9.76-2.46l0.22,3.35l-7.98,3.8l-4.88-3.8l-4.43,0.45l4.43,6.26l-2.22,1.12l-3.33-2.9l-2.44,1.56l2.22,4.24h3.77l-0.89,4.02l-3.1-0.45l-3.99-4.25L285.77,40.36L285.77,40.36M266.01,101.85l-4.23,5.32l-0.26,5.86l3.7-2.13h4.49l3.17,2.93l2.91-2.4L266.01,101.85L266.01,101.85M317.52,171.05l-10.57,10.12l1.06,2.4l12.94,4.79l1.85-3.19l-1.06-5.32l-4.23,0.53l-2.38-2.66l3.96-3.99L317.52,171.05L317.52,171.05M158.22,48.66l1.99,3.01l1,4.02l4.98,1.25l3.49-3.76l2.99,1.51l8.47,0.75l5.98-2.51l1,8.28h3.49V57.7l3.49,0.25l8.72,10.29l5.73,3.51l-2.99,4.77l1.25,1.25L219,80.03l0.25,5.02l2.99,0.5l0.75-7.53l4.73-1.25l3.49,5.27l7.47,3.51l3.74,0.75l2.49-3.01l0.25-4.77l4.48-2.76l1.49,4.02l-3.99,7.03l0.5,3.51l2.24-3.51l4.48-4.02l0.25-5.27l-2.49-4.02l0.75-3.26l5.98-3.01l2.74,2.01l0.5,17.57l4.23-3.76l2.49,1.51l-3.49,6.02l4.48,1l6.48-10.04l5.48,5.77l-2.24,10.29l-5.48,3.01l-5.23-2.51l-9.46,2.01l1,3.26l-2.49,4.02l-7.72,1.76l-8.72,6.78l-7.72,10.29l-1,3.26l5.23,2.01l1.99,5.02l7.22,7.28l11.46,5.02l-2.49,11.54l-0.25,3.26l2.99,2.01l3.99-5.27l0.5-10.04l6.23-0.25l2.99-5.77l0.5-8.78l7.97-15.56l9.96,3.51l5.23,7.28l-2.24,7.28l3.99,2.26l9.71-6.53l2.74,17.82l8.97,10.79l0.25,5.52l-9.96,2.51l-4.73,5.02l-9.96-2.26l-4.98-0.25l-8.72,6.78l5.23-1.25l6.48-1.25l1.25,1.51l-1.74,5.52l0.25,5.02l2.99,2.01l2.99-0.75l1.5-2.26h1.99l-3.24,6.02l-6.23,0.25l-2.74,4.02h-3.49l-1-3.01l4.98-5.02l-5.98,2.01l-0.27-8.53l-1.72-1l-5.23,2.26l-0.5,4.27h-11.96l-10.21,7.03l-13.7,4.52l-1.49-2.01l6.9-10.3l-3.92-3.77l-2.49-4.78l-5.07-3.87l-5.44-0.45l-9.75-6.83l-70.71-11.62l-1.17-4.79l-6.48-6.02v-5.02l1-4.52l-0.5-2.51l-2.49-2.51l-0.5-4.02l6.48-4.52l-3.99-21.58l-5.48-0.25l-4.98-6.53L158.22,48.66L158.22,48.66M133.83,128.41l-1.7,3.26l0.59,2.31l1.11,0.69l-0.26,0.94l-1.19,0.34l0.34,3.43l1.28,1.29l1.02-1.11l-1.28-3.34l0.76-2.66l1.87-2.49l-1.36-2.31L133.83,128.41L133.83,128.41M139.45,147.95l-1.53,0.6l2.81,3.26l0.68,3.86l2.81,3l2.38-0.43v-3.94l-2.89-1.8L139.45,147.95L139.45,147.95z\",\"name\":\"Canada\"},\"gt\":{\"path\":\"M194.88,291.52l5.93,4.34l5.98-7.43l-1.02-1.54l-2.04-0.07v-4.35l-1.53-0.93l-4.63,1.38l1.77,4.08L194.88,291.52L194.88,291.52z\",\"name\":\"Guatemala\"},\"hn\":{\"path\":\"M207.55,288.78l9.24-0.35l2.74,3.26l-1.71-0.39l-3.29,0.14l-4.3,4.04l-1.84,4.09l-1.21-0.64l-0.01-4.48l-2.66-1.78L207.55,288.78L207.55,288.78z\",\"name\":\"Honduras\"},\"sv\":{\"path\":\"M201.65,296.27l4.7,2.34l-0.07-3.71l-2.41-1.47L201.65,296.27L201.65,296.27z\",\"name\":\"El Salvador\"},\"ni\":{\"path\":\"M217.74,292.11l2.19,0.44l0.07,4.49l-2.55,7.28l-6.87-0.68l-1.53-3.51l2.04-4.26l3.87-3.6L217.74,292.11L217.74,292.11z\",\"name\":\"Nicaragua\"},\"cr\":{\"path\":\"M217.38,304.98l1.39,2.72l1.13,1.5l-1.52,4.51l-2.9-2.04l-4.74-4.34v-2.87L217.38,304.98L217.38,304.98z\",\"name\":\"Costa Rica\"},\"pa\":{\"path\":\"M220.59,309.61l-1.46,4.56l4.82,1.25l2.99,0.59l0.51-3.53l3.21-1.62l2.85,1.47l1.12,1.79l1.36-0.16l1.07-3.25l-3.56-1.47l-2.7-1.47l-2.7,1.84l-3.21,1.62l-3.28-1.32L220.59,309.61L220.59,309.61z\",\"name\":\"Panama\"},\"co\":{\"path\":\"M253.73,299.78l-2.06-0.21l-13.62,11.23l-1.44,3.95l-1.86,0.21l0.83,8.73l-4.75,11.65l5.16,4.37l6.61,0.42l4.54,6.66l6.6,0.21l-0.21,4.99H256l2.68-9.15l-2.48-3.12l0.62-5.82l5.16-0.42l-0.62-13.52l-11.56-3.74l-2.68-7.28L253.73,299.78L253.73,299.78z\",\"name\":\"Colombia\"},\"ve\":{\"path\":\"M250.46,305.92l0.44,2.59l3.25,1.03l0.74-4.77l3.43-3.55l3.43,4.02l7.89,2.15l6.68-1.4l4.55,5.61l3.43,2.15l-3.76,5.73l1.26,4.34l-2.15,2.66l-2.23,1.87l-4.83-2.43l-1.11,1.12v3.46l3.53,1.68l-2.6,2.81l-2.6,2.81l-3.43-0.28l-3.45-3.79l-0.73-14.26l-11.78-4.02l-2.14-6.27L250.46,305.92L250.46,305.92z\",\"name\":\"Venezuela\"},\"gy\":{\"path\":\"M285.05,314.13l7.22,6.54l-2.87,3.32l-0.23,1.97l3.77,3.89l-0.09,3.74l-6.56,2.5l-3.93-5.31l0.84-6.38l-1.68-4.75L285.05,314.13L285.05,314.13z\",\"name\":\"Guyana\"},\"sr\":{\"path\":\"M293.13,321.14l2.04,1.87l3.16-1.96l2.88,0.09l-0.37,1.12l-1.21,2.52l-0.19,6.27l-5.75,2.34l0.28-4.02l-3.71-3.46l0.19-1.78L293.13,321.14L293.13,321.14z\",\"name\":\"Suriname\"},\"gf\":{\"path\":\"M302.13,321.8l5.85,3.65l-3.06,6.08l-1.11,1.4l-3.25-1.87l0.09-6.55L302.13,321.8L302.13,321.8z\",\"name\":\"French Guiana\"},\"pe\":{\"path\":\"M225.03,349.52l-1.94,1.96l0.13,3.13l16.94,30.88l17.59,11.34l2.72-4.56l0.65-10.03l-1.42-6.25l-4.79-8.08l-2.85,0.91l-1.29,1.43l-5.69-6.52l1.42-7.69l6.6-4.3l-0.52-4.04l-6.72-0.26l-3.49-5.86l-1.94-0.65l0.13,3.52l-8.66,10.29l-6.47-1.56L225.03,349.52L225.03,349.52z\",\"name\":\"Peru\"},\"bo\":{\"path\":\"M258.71,372.79l8.23-3.59l2.72,0.26l1.81,7.56l12.54,4.17l2.07,6.39l5.17,0.65l2.2,5.47l-1.55,4.95l-8.41,0.65l-3.1,7.95l-6.6-0.13l-2.07-0.39l-3.81,3.7l-1.88-0.18l-6.47-14.99l1.79-2.68l0.63-10.6l-1.6-6.31L258.71,372.79L258.71,372.79z\",\"name\":\"Bolivia\"},\"py\":{\"path\":\"M291.76,399.51l2.2,2.4l-0.26,5.08l6.34-0.39l4.79,6.13l-0.39,5.47l-3.1,4.69l-6.34,0.26l-0.26-2.61l1.81-4.3l-6.21-3.91h-5.17l-3.88-4.17l2.82-8.06L291.76,399.51L291.76,399.51z\",\"name\":\"Paraguay\"},\"uy\":{\"path\":\"M300.36,431.93l-2.05,2.19l0.85,11.78l6.44,1.87l8.19-8.21L300.36,431.93L300.36,431.93z\",\"name\":\"Uruguay\"},\"ar\":{\"path\":\"M305.47,418.2l1.94,1.82l-7.37,10.95l-2.59,2.87l0.9,12.51l5.69,6.91l-4.78,8.34l-3.62,1.56h-4.14l1.16,6.51l-6.47,2.22l1.55,5.47l-3.88,12.38l4.79,3.91l-2.59,6.38l-4.4,6.91l2.33,4.82l-5.69,0.91l-4.66-5.73l-0.78-17.85l-7.24-30.32l2.19-10.6l-4.66-13.55l3.1-17.59l2.85-3.39l-0.7-2.57l3.66-3.34l8.16,0.56l4.56,4.87l5.27,0.09l5.4,3.3l-1.59,3.72l0.38,3.76l7.65-0.36L305.47,418.2L305.47,418.2M288.92,518.79l0.26,5.73l4.4-0.39l3.75-2.48l-6.34-1.3L288.92,518.79L288.92,518.79z\",\"name\":\"Argentina\"},\"cl\":{\"path\":\"M285.04,514.1l-4.27,9.38l7.37,0.78l0.13-6.25L285.04,514.1L285.04,514.1M283.59,512.63l-3.21,3.55l-0.39,4.17l-6.21-3.52l-6.6-9.51l-1.94-3.39l2.72-3.52l-0.26-4.43l-3.1-1.3l-2.46-1.82l0.52-2.48l3.23-0.91l0.65-14.33l-5.04-2.87l-3.29-74.59l0.85-1.48l6.44,14.85l2.06,0.04l0.67,2.37l-2.74,3.32l-3.15,17.87l4.48,13.76l-2.07,10.42l7.3,30.64l0.77,17.92l5.23,6.05L283.59,512.63L283.59,512.63M262.28,475.14l-1.29,1.95l0.65,3.39l1.29,0.13l0.65-4.3L262.28,475.14L262.28,475.14z\",\"name\":\"Chile\"},\"br\":{\"path\":\"M314.24,438.85l6.25-12.02l0.23-10.1l11.66-7.52h6.53l5.13-8.69l0.93-16.68l-2.1-4.46l12.36-11.28l0.47-12.45l-16.79-8.22l-20.28-6.34l-9.56-0.94l2.57-5.4l-0.7-8.22l-2.09-0.69l-3.09,6.14l-1.62,2.03l-4.16-1.84l-13.99,4.93l-4.66-5.87l0.75-6.13l-4.4,4.48l-4.86-2.62l-0.49,0.69l0.01,2.13l4.19,2.25l-6.29,6.63l-3.97-0.04l-4.02-4.09l-4.55,0.14l-0.56,4.86l2.61,3.17l-3.08,9.87l-3.6,0.28l-5.73,3.62l-1.4,7.11l4.97,5.32l0.91-1.03l3.49-0.94l2.98,5.02l8.53-3.66l3.31,0.19l2.28,8.07l12.17,3.86l2.1,6.44l5.18,0.62l2.47,6.15l-1.67,5.47l2.18,2.86l-0.32,4.26l5.84-0.55l5.35,6.76l-0.42,4.75l3.17,2.68l-7.6,11.51L314.24,438.85L314.24,438.85z\",\"name\":\"Brazil\"},\"bz\":{\"path\":\"M204.56,282.4l-0.05,3.65h0.84l2.86-5.34h-1.94L204.56,282.4L204.56,282.4z\",\"name\":\"Belize\"},\"mn\":{\"path\":\"M673.8,170.17l5.82-7.72l6.99,3.23l4.75,1.27l5.82-5.34l-3.95-2.91l2.6-3.67l7.76,2.74l2.69,4.41l4.86,0.13l2.54-1.89l5.23-0.21l1.14,1.94l8.69,0.44l5.5-5.61l7.61,0.8l-0.44,7.64l3.33,0.76l4.09-1.86l4.33,2.14l-0.1,1.08l-3.14,0.09l-3.27,6.86l-2.54,0.25l-9.88,12.91l-10.09,4.45l-6.31,0.49l-5.24-3.38l-6.7,3.58l-6.6-2.05l-1.87-4.79l-12.5-0.88l-6.4-10.85l-3.11-0.2L673.8,170.17L673.8,170.17z\",\"name\":\"Mongolia\"},\"kp\":{\"path\":\"M778.28,194.27l1.84,0.77l0.56,6.44l3.65,0.21l3.44-4.03l-1.19-1.06l0.14-4.32l3.16-3.82l-1.61-2.9l1.05-1.2l0.58-3l-1.83-0.83l-1.56,0.79l-1.93,5.86l-3.12-0.27l-3.61,4.26L778.28,194.27L778.28,194.27z\",\"name\":\"North Korea\"},\"kr\":{\"path\":\"M788.34,198.2l6.18,5.04l1.05,4.88l-0.21,2.62l-3.02,3.4l-2.6,0.14l-2.95-6.37l-1.12-3.04l1.19-0.92l-0.28-1.27l-1.47-0.66L788.34,198.2L788.34,198.2z\",\"name\":\"South Korea\"},\"kz\":{\"path\":\"M576.69,188.62l4.1-1.75l4.58-0.16l0.32,7h-2.68l-2.05,3.34l2.68,4.45l3.95,2.23l0.36,2.55l1.45-0.48l1.34-1.59l2.21,0.48l1.11,2.23h2.84v-2.86l-1.74-5.09l-0.79-4.13l5.05-2.23l6.79,1.11l4.26,4.29l9.63-0.95l5.37,7.63l6.31,0.32l1.74-2.86l2.21-0.48l0.32-3.18l3.31-0.16l1.74,2.07l1.74-4.13l14.99,2.07l2.52-3.34l-4.26-5.25l5.68-12.4l4.58,0.32l3.16-7.63l-6.31-0.64l-3.63-3.5l-10,1.16l-12.88-12.45l-4.54,4.03l-13.77-6.25l-16.89,8.27l-0.47,5.88l3.95,4.61l-7.7,4.35l-9.99-0.22l-2.09-3.07l-7.83-0.43l-7.42,4.77l-0.16,6.52L576.69,188.62L576.69,188.62z\",\"name\":\"Kazakhstan\"},\"tm\":{\"path\":\"M593.85,207.59l-0.62,2.63h-4.15v3.56l4.46,2.94l-1.38,4.03v1.86l1.85,0.31l2.46-3.25l5.54-1.24l11.84,4.49l0.15,3.25l6.61,0.62l7.38-7.75l-0.92-2.48l-4.92-1.08l-13.84-8.99l-0.62-3.25h-5.23l-2.31,4.34h-2.31L593.85,207.59L593.85,207.59z\",\"name\":\"Turkmenistan\"},\"uz\":{\"path\":\"M628.92,219.06l3.08,0.16v-5.27l-2.92-1.7l4.92-6.2h2l2,2.33l5.23-2.01l-7.23-2.48l-0.28-1.5l-1.72,0.42l-1.69,2.94l-7.29-0.24l-5.35-7.57l-9.4,0.93l-4.48-4.44l-6.2-1.05l-4.5,1.83l2.61,8.68l0.03,2.92l1.9,0.04l2.33-4.44l6.2,0.08l0.92,3.41l13.29,8.82l5.14,1.18L628.92,219.06L628.92,219.06z\",\"name\":\"Uzbekistan\"},\"tj\":{\"path\":\"M630.19,211.84l4.11-5.1h1.55l0.54,1.14l-1.9,1.38v1.14l1.25,0.9l6.01,0.36l1.96-0.84l0.89,0.18l0.6,1.92l3.57,0.36l1.79,3.78l-0.54,1.14l-0.71,0.06l-0.71-1.44l-1.55-0.12l-2.68,0.36l-0.18,2.52l-2.68-0.18l0.12-3.18l-1.96-1.92l-2.98,2.46l0.06,1.62l-2.62,0.9h-1.55l0.12-5.58L630.19,211.84L630.19,211.84z\",\"name\":\"Tajikistan\"},\"kg\":{\"path\":\"M636.81,199.21l-0.31,2.53l0.25,1.56l8.7,2.92l-7.64,3.08l-0.87-0.72l-1.65,1.06l0.08,0.58l0.88,0.4l5.36,0.14l2.72-0.82l3.49-4.4l4.37,0.76l5.27-7.3l-14.1-1.92l-1.95,4.73l-2.46-2.64L636.81,199.21L636.81,199.21z\",\"name\":\"Kyrgyz Republic\"},\"af\":{\"path\":\"M614.12,227.05l1.59,12.46l3.96,0.87l0.37,2.24l-2.84,2.37l5.29,4.27l10.28-3.7l0.82-4.38l6.47-4.04l2.48-9.36l1.85-1.99l-1.92-3.34l6.26-3.87l-0.8-1.12l-2.89,0.18l-0.26,2.66l-3.88-0.04l-0.07-3.55l-1.25-1.49l-2.1,1.91l0.06,1.75l-3.17,1.2l-5.85-0.37l-7.6,7.96L614.12,227.05L614.12,227.05z\",\"name\":\"Afghanistan\"},\"pk\":{\"path\":\"M623.13,249.84l2.6,3.86l-0.25,1.99l-3.46,1.37l-0.25,3.24h3.96l1.36-1.12h7.54l6.8,5.98l0.87-2.87h5.07l0.12-3.61l-5.19-4.98l1.11-2.74l5.32-0.37l7.17-14.95l-3.96-3.11l-1.48-5.23l9.64-0.87l-5.69-8.1l-3.03-0.82l-1.24,1.5l-0.93,0.07l-5.69,3.61l1.86,3.12l-2.1,2.24l-2.6,9.59l-6.43,4.11l-0.87,4.49L623.13,249.84L623.13,249.84z\",\"name\":\"Pakistan\"},\"in\":{\"path\":\"M670.98,313.01l4.58-2.24l2.72-9.84l-0.12-12.08l15.58-16.82v-3.99l3.21-1.25l-0.12-4.61l-3.46-6.73l1.98-3.61l4.33,3.99l5.56,0.25v2.24l-1.73,1.87l0.37,1l2.97,0.12l0.62,3.36h0.87l2.23-3.99l1.11-10.46l3.71-2.62l0.12-3.61l-1.48-2.87l-2.35-0.12l-9.2,6.08l0.58,3.91l-6.46-0.02l-2.28-2.79l-1.24,0.16l0.42,3.88l-13.97-1l-8.66-3.86l-0.46-4.75l-5.77-3.58l-0.07-7.37l-3.96-4.53l-9.1,0.87l0.99,3.96l4.46,3.61l-7.71,15.78l-5.16,0.39l-0.85,1.9l5.08,4.7l-0.25,4.75l-5.19-0.08l-0.56,2.36l4.31-0.19l0.12,1.87l-3.09,1.62l1.98,3.74l3.83,1.25l2.35-1.74l1.11-3.11l1.36-0.62l1.61,1.62l-0.49,3.99l-1.11,1.87l0.25,3.24L670.98,313.01L670.98,313.01z\",\"name\":\"India\"},\"np\":{\"path\":\"M671.19,242.56l0.46,4.27l8.08,3.66l12.95,0.96l-0.49-3.13l-8.65-2.38l-7.34-4.37L671.19,242.56L671.19,242.56z\",\"name\":\"Nepal\"},\"bt\":{\"path\":\"M695.4,248.08l1.55,2.12l5.24,0.04l-0.53-2.9L695.4,248.08L695.4,248.08z\",\"name\":\"Bhutan\"},\"bd\":{\"path\":\"M695.57,253.11l-1.31,2.37l3.4,6.46l0.1,5.04l0.62,1.35l3.99,0.07l2.26-2.17l1.64,0.99l0.33,3.07l1.31-0.82l0.08-3.92l-1.1-0.13l-0.69-3.33l-2.78-0.1l-0.69-1.85l1.7-2.27l0.03-1.12h-4.94L695.57,253.11L695.57,253.11z\",\"name\":\"Bangladesh\"},\"mm\":{\"path\":\"M729.44,303.65l-2.77-4.44l2.01-2.82l-1.9-3.49l-1.79-0.34l-0.34-5.86l-2.68-5.19l-0.78,1.24l-1.79,3.04l-2.24,0.34l-1.12-1.47l-0.56-3.95l-1.68-3.16l-6.84-6.45l1.68-1.11l0.31-4.67l2.5-4.2l1.08-10.45l3.62-2.47l0.12-3.81l2.17,0.72l3.42,4.95l-2.54,5.44l1.71,4.27l4.23,1.66l0.77,4.65l5.68,0.88l-1.57,2.71l-7.16,2.82l-0.78,4.62l5.26,6.76l0.22,3.61l-1.23,1.24l0.11,1.13l3.92,5.75l0.11,5.97L729.44,303.65L729.44,303.65z\",\"name\":\"Myanmar\"},\"th\":{\"path\":\"M730.03,270.47l3.24,4.17v5.07l1.12,0.56l5.15-2.48l1.01,0.34l6.15,7.1l-0.22,4.85l-2.01-0.34l-1.79-1.13l-1.34,0.11l-2.35,3.94l0.45,2.14l1.9,1.01l-0.11,2.37l-1.34,0.68l-4.59-3.16v-2.82l-1.9-0.11l-0.78,1.24l-0.4,12.62l2.97,5.42l5.26,5.07l-0.22,1.47l-2.8-0.11l-2.57-3.83h-2.69l-3.36-2.71l-1.01-2.82l1.45-2.37l0.5-2.14l1.58-2.8l-0.07-6.44l-3.86-5.58l-0.16-0.68l1.25-1.26l-0.29-4.43l-5.14-6.51l0.6-3.75L730.03,270.47L730.03,270.47z\",\"name\":\"Thailand\"},\"kh\":{\"path\":\"M740.48,299.47l4.09,4.37l7.61-5.64l0.67-8.9l-3.93,2.71l-2.04-1.14l-2.77-0.37l-1.55-1.09l-0.75,0.04l-2.03,3.33l0.33,1.54l2.06,1.15l-0.25,3.13L740.48,299.47L740.48,299.47z\",\"name\":\"Cambodia\"},\"la\":{\"path\":\"M735.47,262.93l-2.42,1.23l-2.01,5.86l3.36,4.28l-0.56,4.73l0.56,0.23l5.59-2.71l7.5,8.38l-0.18,5.28l1.63,0.88l4.03-3.27l-0.33-2.59l-11.63-11.05l0.11-1.69l1.45-1.01l-1.01-2.82l-4.81-0.79L735.47,262.93L735.47,262.93z\",\"name\":\"Lao People's Democratic Republic\"},\"vn\":{\"path\":\"M745.06,304.45l1.19,1.87l0.22,2.14l3.13,0.34l3.8-5.07l3.58-1.01l1.9-5.18l-0.89-8.34l-3.69-5.07l-3.89-3.11l-4.95-8.5l3.55-5.94l-5.08-5.83l-4.07-0.18l-3.66,1.97l1.09,4.71l4.88,0.86l1.31,3.63l-1.72,1.12l0.11,0.9l11.45,11.2l0.45,3.29l-0.69,10.4L745.06,304.45L745.06,304.45z\",\"name\":\"Vietnam\"},\"ge\":{\"path\":\"M555.46,204.16l3.27,4.27l4.08,1.88l2.51-0.01l4.31-1.17l1.08-1.69l-12.75-4.77L555.46,204.16L555.46,204.16z\",\"name\":\"Georgia\"},\"am\":{\"path\":\"M569.72,209.89l4.8,6.26l-1.41,1.65l-3.4-0.59l-4.22-3.78l0.23-2.48L569.72,209.89L569.72,209.89z\",\"name\":\"Armenia\"},\"az\":{\"path\":\"M571.41,207.72l-1.01,1.72l4.71,6.18l1.64-0.53l2.7,2.83l1.17-4.96l2.93,0.47l-0.12-1.42l-4.82-4.22l-0.92,2.48L571.41,207.72L571.41,207.72z\",\"name\":\"Azerbaijan\"},\"ir\":{\"path\":\"M569.65,217.95l-1.22,1.27l0.12,2.01l1.52,2.13l5.39,5.9l-0.82,2.36h-0.94l-0.47,2.36l3.05,3.9l2.81,0.24l5.63,7.79l3.16,0.24l2.46,1.77l0.12,3.54l9.73,5.67h3.63l2.23-1.89l2.81-0.12l1.64,3.78l10.51,1.46l0.31-3.86l3.48-1.26l0.16-1.38l-2.77-3.78l-6.17-4.96l3.24-2.95l-0.23-1.3l-4.06-0.63l-1.72-13.7l-0.2-3.15l-11.01-4.21l-4.88,1.1l-2.73,3.35l-2.42-0.16l-0.7,0.59l-5.39-0.35l-6.8-4.96l-2.53-2.77l-1.16,0.28l-2.09,2.39L569.65,217.95L569.65,217.95z\",\"name\":\"Iran\"},\"tr\":{\"path\":\"M558.7,209.19l-2.23,2.36l-8.2-0.24l-4.92-2.95l-4.8-0.12l-5.51,3.9l-5.16,0.24l-0.47,2.95h-5.86l-2.34,2.13v1.18l1.41,1.18v1.3l-0.59,1.54l0.59,1.3l1.88-0.94l1.88,2.01l-0.47,1.42l-0.7,0.95l1.05,1.18l5.16,1.06l3.63-1.54v-2.24l1.76,0.35l4.22,2.48l4.57-0.71l1.99-1.89l1.29,0.47v2.13h1.76l1.52-2.95l13.36-1.42l5.83-0.71l-1.54-2.02l-0.03-2.73l1.17-1.4l-4.26-3.42l0.23-2.95h-2.34L558.7,209.19L558.7,209.19M523.02,209.7l-0.16,3.55l3.1-0.95l1.42-0.95l-0.42-1.54l-1.47-1.17L523.02,209.7L523.02,209.7z\",\"name\":\"Turkey\"},\"om\":{\"path\":\"M598.38,280.84l7.39-4.26l1.31-6.25l-1.62-0.93l0.67-6.7l1.41-0.82l1.51,2.37l8.99,4.7v2.61l-10.89,16.03l-5.01,0.17L598.38,280.84L598.38,280.84z\",\"name\":\"Oman\"},\"ae\":{\"path\":\"M594.01,264.94l0.87,3.48l9.86,0.87l0.69-7.14l1.9-1.04l0.52-2.61l-3.11,0.87l-3.46,5.23L594.01,264.94L594.01,264.94z\",\"name\":\"United Arab Emirates\"},\"qa\":{\"path\":\"M592.63,259.02l-0.52,4.01l1.54,1.17l1.4-0.13l0.52-5.05l-1.21-0.87L592.63,259.02L592.63,259.02z\",\"name\":\"Qatar\"},\"kw\":{\"path\":\"M583.29,247.17l-2.25-1.22l-1.56,1.57l0.17,3.14l3.63,1.39L583.29,247.17L583.29,247.17z\",\"name\":\"Kuwait\"},\"sa\":{\"path\":\"M584,253.24l7.01,9.77l2.26,1.8l1.01,4.38l10.79,0.85l1.22,0.64l-1.21,5.4l-7.09,4.18l-10.37,3.14l-5.53,5.4l-6.57-3.83l-3.98,3.48L566,279.4l-3.8-1.74l-1.38-2.09v-4.53l-13.83-16.72l-0.52-2.96h3.98l4.84-4.18l0.17-2.09l-1.38-1.39l2.77-2.26l5.88,0.35l10.03,8.36l5.92-0.27l0.38,1.46L584,253.24L584,253.24z\",\"name\":\"Saudi Arabia\"},\"sy\":{\"path\":\"M546.67,229.13l-0.35,2.54l2.82,1.18l-0.12,7.04l2.82-0.06l2.82-2.13l1.06-0.18l6.4-5.09l1.29-7.39l-12.79,1.3l-1.35,2.96L546.67,229.13L546.67,229.13z\",\"name\":\"Syrian Arab Republic\"},\"iq\":{\"path\":\"M564.31,225.03l-1.56,7.71l-6.46,5.38l0.41,2.54l6.31,0.43l10.05,8.18l5.62-0.16l0.15-1.89l2.06-2.21l2.88,1.63l0.38-0.36l-5.57-7.41l-2.64-0.16l-3.51-4.51l0.7-3.32l1.07-0.14l0.37-1.47l-4.78-5.03L564.31,225.03L564.31,225.03z\",\"name\":\"Iraq\"},\"jo\":{\"path\":\"M548.9,240.78l-2.46,8.58l-0.11,1.31h3.87l4.33-3.82l0.11-1.45l-1.77-1.81l3.17-2.63l-0.46-2.44l-0.87,0.2l-2.64,1.89L548.9,240.78L548.9,240.78z\",\"name\":\"Jordan\"},\"lb\":{\"path\":\"M546.2,232.44l0.06,1.95l-0.82,2.96l2.82,0.24l0.18-4.2L546.2,232.44L546.2,232.44z\",\"name\":\"Lebanon\"},\"il\":{\"path\":\"M545.32,238.06l-1.58,5.03l2.05,6.03l2.35-8.81v-1.89L545.32,238.06L545.32,238.06z\",\"name\":\"Israel\"},\"cy\":{\"path\":\"M543.21,229.84l1.23,0.89l-3.81,3.61l-1.82-0.06l-1.35-0.95l0.18-1.77l2.76-0.18L543.21,229.84L543.21,229.84z\",\"name\":\"Cyprus\"},\"gb\":{\"path\":\"M446.12,149.08l-1.83,2.77l0.73,1.11h4.22v1.85l-1.1,1.48l0.73,3.88l2.38,4.62l1.83,4.25l2.93,1.11l1.28,2.22l-0.18,2.03l-1.83,1.11l-0.18,0.92l1.28,0.74l-1.1,1.48l-2.57,1.11l-4.95-0.55l-7.71,3.51l-2.57-1.29l7.34-4.25l-0.92-0.55l-3.85-0.37l2.38-3.51l0.37-2.96l3.12-0.37l-0.55-5.73l-3.67-0.18l-1.1-1.29l0.18-4.25l-2.2,0.18l2.2-7.39l4.04-2.96L446.12,149.08L446.12,149.08M438.42,161.47l-3.3,0.37l-0.18,2.96l2.2,1.48l2.38-0.55l0.92-1.66L438.42,161.47L438.42,161.47z\",\"name\":\"United Kingdom\"},\"ie\":{\"path\":\"M439.51,166.55l-0.91,6l-8.07,2.96h-2.57l-1.83-1.29v-1.11l4.04-2.59l-1.1-2.22l0.18-3.14l3.49,0.18l1.6-3.76l-0.21,3.34l2.71,2.15L439.51,166.55L439.51,166.55z\",\"name\":\"Ireland\"},\"se\":{\"path\":\"M497.72,104.58l1.96,1.81h3.67l2.02,3.88l0.55,6.65l-4.95,3.51v3.51l-3.49,4.81l-2.02,0.18l-2.75,4.62l0.18,4.44l4.77,3.51l-0.37,2.03l-1.83,2.77l-2.75,2.4l0.18,7.95l-4.22,1.48l-1.47,3.14h-2.02l-1.1-5.54l-4.59-7.04l3.77-6.31l0.26-15.59l2.6-1.43l0.63-8.92l7.41-10.61L497.72,104.58L497.72,104.58M498.49,150.17l-2.11,1.67l1.06,2.45l1.87-1.82L498.49,150.17L498.49,150.17z\",\"name\":\"Sweden\"},\"fi\":{\"path\":\"M506.79,116.94l2.07,0.91l1.28,2.4l-1.28,1.66l-6.42,7.02l-1.1,3.7l1.47,5.36l4.95,3.7l6.6-3.14l5.32-0.74l4.95-7.95l-3.67-8.69l-3.49-8.32l0.55-5.36l-2.2-0.37l-0.57-3.91l-2.96-4.83l-3.28,2.27l-1.29,5.27l-3.48-2.09l-4.84-1.18l-1.08,1.26l1.86,1.68l3.39-0.06l2.73,4.41L506.79,116.94L506.79,116.94z\",\"name\":\"Finland\"},\"lv\":{\"path\":\"M518.07,151.37l-6.85-1.11l0.15,3.83l6.35,3.88l2.6-0.76l-0.15-2.92L518.07,151.37L518.07,151.37z\",\"name\":\"Latvia\"},\"lt\":{\"path\":\"M510.81,154.7l-2.15-0.05l-2.95,2.82h-2.5l0.15,3.53l-1.5,2.77l5.4,0.05l1.55-0.2l1.55,1.87l3.55-0.15l3.4-4.33l-0.2-2.57L510.81,154.7L510.81,154.7z\",\"name\":\"Lithuania\"},\"by\":{\"path\":\"M510.66,166.29l1.5,2.47l-0.6,1.97l0.1,1.56l0.55,1.87l3.1-1.76l3.85,0.1l2.7,1.11h6.85l2-4.79l1.2-1.81v-1.21l-4.3-6.05l-3.8-1.51l-3.1-0.35l-2.7,0.86l0.1,2.72l-3.75,4.74L510.66,166.29L510.66,166.29z\",\"name\":\"Belarus\"},\"pl\":{\"path\":\"M511.46,174.76l0.85,1.56l0.2,1.66l-0.7,1.61l-1.6,3.08l-1.35,0.61l-1.75-0.76l-1.05,0.05l-2.55,0.96l-2.9-0.86l-4.7-3.33l-4.6-2.47l-1.85-2.82l-0.35-6.65l3.6-3.13l4.7-1.56l1.75-0.2l-0.7,1.41l0.45,0.55l7.91,0.15l1.7-0.05l2.8,4.29l-0.7,1.76l0.3,2.07L511.46,174.76L511.46,174.76z\",\"name\":\"Poland\"},\"it\":{\"path\":\"M477.56,213.38l-2.65,1.34l0.35,5.17l2.12,0.36l1.59-1.52v-4.9L477.56,213.38L477.56,213.38M472.27,196.98l-0.62,1.57l0.17,1.71l2.39,2.79l3.76-0.13l8.3,9.64l5.18,1.5l3.06,2.89l0.73,6.59l1.64-0.96l1.42-3.59l-0.35-2.58l2.43-0.22l0.35-1.46l-6.85-3.28l-6.5-6.39l-2.59-3.82l-0.63-3.63l3.31-0.79l-0.85-2.39l-2.03-1.71l-1.75-0.08l-2.44,0.67l-2.3,3.22l-1.39,0.92l-2.15-1.32L472.27,196.98L472.27,196.98M492.44,223.02l-1.45-0.78l-4.95,0.78l0.17,1.34l4.45,2.24l0.67,0.73l1.17,0.17L492.44,223.02L492.44,223.02z\",\"name\":\"Italy\"},\"fr\":{\"path\":\"M477.83,206.96l-1.95,1.96l-0.18,1.78l1.59,0.98l0.62-0.09l0.35-2.59L477.83,206.96L477.83,206.96M460.4,178.7l-2.21,0.54l-4.42,4.81l-1.33,0.09l-1.77-1.25l-1.15,0.27l-0.88,2.76l-6.46,0.18l0.18,1.43l4.42,2.94l5.13,4.1l-0.09,4.9l-2.74,4.81l5.93,2.85l6.02,0.18l1.86-2.14l3.8,0.09l1.06,0.98l3.8-0.27l1.95-2.5l-2.48-2.94l-0.18-1.87l0.53-2.05l-1.24-1.78l-2.12,0.62l-0.27-1.6l4.69-5.17v-3.12l-3.1-1.78l-1.59-0.27L460.4,178.7L460.4,178.7z\",\"name\":\"France\"},\"nl\":{\"path\":\"M470.09,168.27l-4.53,2.23l0.96,0.87l0.1,2.23l-0.96-0.19l-1.06-1.65l-2.53,4.01l3.89,0.81l1.45,1.53l0.77,0.02l0.51-3.46l2.45-1.03L470.09,168.27L470.09,168.27z\",\"name\":\"Netherlands\"},\"be\":{\"path\":\"M461.61,176.52l-0.64,1.6l6.88,4.54l1.98,0.47l0.07-2.15l-1.73-1.94h-1.06l-1.45-1.65L461.61,176.52L461.61,176.52z\",\"name\":\"Belgium\"},\"de\":{\"path\":\"M471.14,167.88l3.57-0.58v-2.52l2.99-0.49l1.64,1.65l1.73,0.19l2.7-1.17l2.41,0.68l2.12,1.84l0.29,6.89l2.12,2.82l-2.79,0.39l-4.63,2.91l0.39,0.97l4.14,3.88l-0.29,1.94l-3.85,1.94l-3.57,0.1l-0.87,1.84h-1.83l-0.87-1.94l-3.18-0.78l-0.1-3.2l-2.7-1.84l0.29-2.33l-1.83-2.52l0.48-3.3l2.5-1.17L471.14,167.88L471.14,167.88z\",\"name\":\"Germany\"},\"dk\":{\"path\":\"M476.77,151.5l-4.15,4.59l-0.15,2.99l1.89,4.93l2.96-0.56l-0.37-4.03l2.04-2.28l-0.04-1.79l-1.44-3.73L476.77,151.5L476.77,151.5M481.44,159.64l-0.93-0.04l-1.22,1.12l0.15,1.75l2.89,0.08l0.15-1.98L481.44,159.64L481.44,159.64z\",\"name\":\"Denmark\"},\"ch\":{\"path\":\"M472.91,189.38l-4.36,4.64l0.09,0.47l1.79-0.56l1.61,2.24l2.72-0.96l1.88,1.46l0.77-0.44l2.32-3.64l-0.59-0.56l-2.29-0.06l-1.11-2.27L472.91,189.38L472.91,189.38z\",\"name\":\"Switzerland\"},\"cz\":{\"path\":\"M488.43,184.87h2.97h1.46l2.37,1.69l4.39-3.65l-4.26-3.04l-4.22-2.04l-2.89,0.52l-3.92,2.52L488.43,184.87L488.43,184.87z\",\"name\":\"Czech Republic\"},\"sk\":{\"path\":\"M495.84,187.13l0.69,0.61l0.09,1.04l7.63-0.17l5.64-2.43l-0.09-2.47l-1.08,0.48l-1.55-0.83l-0.95-0.04l-2.5,1l-3.4-0.82L495.84,187.13L495.84,187.13z\",\"name\":\"Slovakia\"},\"at\":{\"path\":\"M480.63,190.12l-0.65,1.35l0.56,0.96l2.33-0.48h1.98l2.15,1.82l4.57-0.83l3.36-2l0.86-1.35l-0.13-1.74l-3.02-2.26l-4.05,0.04l-0.34,2.3l-4.26,2.08L480.63,190.12L480.63,190.12z\",\"name\":\"Austria\"},\"hu\":{\"path\":\"M496.74,189.6l-1.16,1.82l0.09,2.78l1.85,0.95l5.69,0.17l7.93-6.68l0.04-1.48l-0.86-0.43l-5.73,2.6L496.74,189.6L496.74,189.6z\",\"name\":\"Hungary\"},\"si\":{\"path\":\"M494.8,191.99l-2.54,1.52l-4.74,1.04l0.95,2.74l3.32,0.04l3.06-2.56L494.8,191.99L494.8,191.99z\",\"name\":\"Slovenia\"},\"hr\":{\"path\":\"M495.62,195.16l-3.53,2.91h-3.58l-0.43,2.52l1.64,0.43l0.82-1.22l1.29,1.13l1.03,3.6l7.07,3.3l0.7-0.8l-7.17-7.4l0.73-1.35l6.81-0.26l0.69-2.17l-4.44,0.13L495.62,195.16L495.62,195.16z\",\"name\":\"Croatia\"},\"ba\":{\"path\":\"M494.8,198.94l-0.37,0.61l6.71,6.92l2.46-3.62l-0.09-1.43l-2.15-2.61L494.8,198.94L494.8,198.94z\",\"name\":\"Bosnia and Herzegovina\"},\"mt\":{\"path\":\"M492.61,230.47l-1.67,0.34l0.06,1.85l1.5,0.5l0.67-0.56L492.61,230.47L492.61,230.47z\",\"name\":\"Malta\"},\"ua\":{\"path\":\"M515.57,173.15l-2.9,1.63l0.72,3.08l-2.68,5.65l0.02,2.49l1.26,0.8l8.08,0.4l2.26-1.87l2.42,0.81l3.47,4.63l-2.54,4.56l3.02,0.88l3.95-4.55l2.26,0.41l2.1,1.46l-1.85,2.44l2.5,3.9h2.66l1.37-2.6l2.82-0.57l0.08-2.11l-5.24-0.81l0.16-2.27h5.08l5.48-4.39l2.42-2.11l0.4-6.66l-10.8-0.97l-4.43-6.25l-3.06-1.05l-3.71,0.16l-1.67,4.13l-7.6,0.1l-2.47-1.14L515.57,173.15L515.57,173.15z\",\"name\":\"Ukraine\"},\"md\":{\"path\":\"M520.75,187.71l3.1,4.77l-0.26,2.7l1.11,0.05l2.63-4.45l-3.16-3.92l-1.79-0.74L520.75,187.71L520.75,187.71z\",\"name\":\"Moldova\"},\"ro\":{\"path\":\"M512.18,187.6l-0.26,1.48l-5.79,4.82l4.84,7.1l3.1,2.17h5.58l1.84-1.54l2.47-0.32l1.84,1.11l3.26-3.71l-0.63-1.86l-3.31-0.85l-2.26-0.11l0.11-3.18l-3-4.72L512.18,187.6L512.18,187.6z\",\"name\":\"Romania\"},\"rs\":{\"path\":\"M505.55,194.54l-2.05,1.54h-1l-0.68,2.12l2.42,2.81l0.16,2.23l-3,4.24l0.42,1.27l1.74,0.32l1.37-1.86l0.74-0.05l1.26,1.22l3.84-1.17l-0.32-5.46L505.55,194.54L505.55,194.54z\",\"name\":\"Serbia\"},\"bg\":{\"path\":\"M511.44,202.39l0.16,4.98l1.68,3.5l6.31,0.11l2.84-2.01l2.79-1.11l-0.68-3.18l0.63-1.7l-1.42-0.74l-1.95,0.16l-1.53,1.54l-6.42,0.05L511.44,202.39L511.44,202.39z\",\"name\":\"Bulgaria\"},\"al\":{\"path\":\"M504.02,209.76v4.61l1.32,2.49l0.95-0.11l1.63-2.97l-0.95-1.33l-0.37-3.29l-1.26-1.17L504.02,209.76L504.02,209.76z\",\"name\":\"Albania\"},\"mk\":{\"path\":\"M510.92,208.01l-3.37,1.11l0.16,2.86l0.79,1.01l4-1.86L510.92,208.01L510.92,208.01z\",\"name\":\"Macedonia\"},\"gr\":{\"path\":\"M506.71,217.6l-0.11,1.33l4.63,2.33l2.21,0.85l-1.16,1.22l-2.58,0.26l-0.37,1.17l0.89,2.01l2.89,1.54l1.26,0.11l0.16-3.45l1.89-2.28l-5.16-6.1l0.68-2.07l1.21-0.05l1.84,1.48l1.16-0.58l0.37-2.07l5.42,0.05l0.21-3.18l-2.26,1.59l-6.63-0.16l-4.31,2.23L506.71,217.6L506.71,217.6M516.76,230.59l1.63,0.05l0.68,1.01h2.37l1.58-0.58l0.53,0.64l-1.05,1.38l-4.63,0.16l-0.84-1.11l-0.89-0.53L516.76,230.59L516.76,230.59z\",\"name\":\"Greece\"}}});\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../popper.js/dist/umd/popper.js":
/***/ (function(module, exports) {

module.exports = "/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.12.5\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Popper = factory());\n}(this, (function () { 'use strict';\n\nvar nativeHints = ['native code', '[object MutationObserverConstructor]'];\n\n/**\n * Determine if a function is implemented natively (as opposed to a polyfill).\n * @method\n * @memberof Popper.Utils\n * @argument {Function | undefined} fn the function to check\n * @returns {Boolean}\n */\nvar isNative = (function (fn) {\n  return nativeHints.some(function (hint) {\n    return (fn || '').toString().indexOf(hint) > -1;\n  });\n});\n\nvar isBrowser = typeof window !== 'undefined';\nvar longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nvar timeoutDuration = 0;\nfor (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nfunction microtaskDebounce(fn) {\n  var scheduled = false;\n  var i = 0;\n  var elem = document.createElement('span');\n\n  // MutationObserver provides a mechanism for scheduling microtasks, which\n  // are scheduled *before* the next task. This gives us a way to debounce\n  // a function but ensure it's called *before* the next paint.\n  var observer = new MutationObserver(function () {\n    fn();\n    scheduled = false;\n  });\n\n  observer.observe(elem, { attributes: true });\n\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      elem.setAttribute('x-index', i);\n      i = i + 1; // don't use compund (+=) because it doesn't get optimized in V8\n    }\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\n// It's common for MutationObserver polyfills to be seen in the wild, however\n// these rely on Mutation Events which only occur when an element is connected\n// to the DOM. The algorithm used in this module does not use a connected element,\n// and so we must ensure that a *native* MutationObserver is available.\nvar supportsNativeMutationObserver = isBrowser && isNative(window.MutationObserver);\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsNativeMutationObserver ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element || ['HTML', 'BODY', '#document'].indexOf(element.nodeName) !== -1) {\n    return window.document.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  // NOTE: 1 DOM access here\n  var offsetParent = element && element.offsetParent;\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return window.document.documentElement;\n  }\n\n  // .offsetParent will return the closest TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return window.document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = window.document.documentElement;\n    var scrollingElement = window.document.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return +styles['border' + sideA + 'Width'].split('px')[0] + +styles['border' + sideB + 'Width'].split('px')[0];\n}\n\n/**\n * Tells if you are running Internet Explorer 10\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean} isIE10\n */\nvar isIE10 = undefined;\n\nvar isIE10$1 = function () {\n  if (isIE10 === undefined) {\n    isIE10 = navigator.appVersion.indexOf('MSIE 10') !== -1;\n  }\n  return isIE10;\n};\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE10$1() ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);\n}\n\nfunction getWindowSizes() {\n  var body = window.document.body;\n  var html = window.document.documentElement;\n  var computedStyle = isIE10$1() && window.getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  if (isIE10$1()) {\n    try {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } catch (err) {}\n  } else {\n    rect = element.getBoundingClientRect();\n  }\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};\n  var width = sizes.width || element.clientWidth || result.right - result.left;\n  var height = sizes.height || element.clientHeight || result.bottom - result.top;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var isIE10 = isIE10$1();\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = +styles.borderTopWidth.split('px')[0];\n  var borderLeftWidth = +styles.borderLeftWidth.split('px')[0];\n\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = +styles.marginTop.split('px')[0];\n    var marginLeft = +styles.marginLeft.split('px')[0];\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var html = window.document.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = getScroll(html);\n  var scrollLeft = getScroll(html, 'left');\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  return isFixed(getParentNode(element));\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  // NOTE: 1 DOM access here\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(popper));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = window.document.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = window.document.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  boundaries.left += padding;\n  boundaries.top += padding;\n  boundaries.right -= padding;\n  boundaries.bottom -= padding;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var commonOffsetParent = findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);\n  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier.function) {\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier.function || modifier.fn;\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n  data.offsets.popper.position = 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length - 1; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof window.document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroy the popper\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.left = '';\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? window : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  window.addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  window.removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger onUpdate callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    window.cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper.\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  // floor sides to avoid blurry text\n  var offsets = {\n    left: Math.floor(popper.left),\n    top: Math.floor(popper.top),\n    bottom: Math.floor(popper.bottom),\n    right: Math.floor(popper.right)\n  };\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    top = -offsetParentRect.height + offsets.bottom;\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    left = -offsetParentRect.width + offsets.right;\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjuction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var popperMarginSide = getStyleComputedProperty(data.instance.popper, 'margin' + sideCapitalized).replace('px', '');\n  var sideValue = center - getClientRect(data.offsets.popper)[side] - popperMarginSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = {};\n  data.offsets.arrow[side] = Math.round(sideValue);\n  data.offsets.arrow[altSide] = ''; // make sure to unset any eventual altSide value from the DOM node\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-right` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement);\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unitless, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the height.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > More on this [reading this issue](https://github.com/FezVrasta/popper.js/issues/373)\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * An scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper this makes sure the popper has always a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier, can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near eachothers\n   * without leaving any gap between the two. Expecially useful when the arrow is\n   * enabled and you want to assure it to point to its reference element.\n   * It cares only about the first axis, you can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjuction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations).\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position,\n     * the popper will never be placed outside of the defined boundaries\n     * (except if keepTogether is enabled)\n     */\n    boundariesElement: 'viewport'\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3d transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties.\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define you own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3d transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties.\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the informations used by Popper.js\n * this object get passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper.\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper, it expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow, it expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements.\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overriden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass as 3rd argument an object with the same\n * structure of this object, example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Whether events (resize, scroll) are initially enabled\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated, this callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Create a new Popper.js instance\n   * @class Popper\n   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper\n   * @param {HTMLElement} popper - The HTML element used as popper.\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference.jquery ? reference[0] : reference;\n    this.popper = popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedule an update, it will run on the next UI update available\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nreturn Popper;\n\n})));\n//# sourceMappingURL=popper.js.map\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../sortablejs/Sortable.js":
/***/ (function(module, exports) {

module.exports = "/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window == \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\t\tR_FLOAT = /left|right|inline/,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = false,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\t// false when IE11\n\t\t\tif (!!navigator.userAgent.match(/Trident.*rv[ :]?11\\./)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\n\t\tsavedInputChecked = [],\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar _this = rootEl[expando],\n\t\t\t\t\tel,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy,\n\n\t\t\t\t\tscrollOffsetX,\n\t\t\t\t\tscrollOffsetY\n\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tscrollOffsetY = vy ? vy * speed : 0;\n\t\t\t\t\t\t\tscrollOffsetX = vx ? vx * speed : 0;\n\n\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\treturn scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + scrollOffsetX, win.pageYOffset + scrollOffsetY);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.scrollTop += scrollOffsetY;\n\t\t\t\t\t\t\t\tel.scrollLeft += scrollOffsetX;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\tif (value === void 0 || value === true) {\n\t\t\t\t\tvalue = group.name;\n\t\t\t\t}\n\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn function (to, from) {\n\t\t\t\t\t\tvar fromGroup = from.options.group.name;\n\n\t\t\t\t\t\treturn pull\n\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t: value && (value.join\n\t\t\t\t\t\t\t\t? value.indexOf(fromGroup) > -1\n\t\t\t\t\t\t\t\t: (fromGroup == value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t}\n\t;\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0}\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t_on(el, 'pointerdown', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && (evt.path && evt.path[0]) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, startIndex);\n\t\t\t\t\tpreventOnFilter && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, startIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'transform';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = _this.nativeDraggable;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, oldIndex);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'pointercancel', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'selectstart', _this);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'pointermove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'pointermove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t_toggleClass(dragEl, options.dragClass, false);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = (touch.clientX - tapEvt.clientX) + fallbackOffset.x,\n\t\t\t\t\tdy = (touch.clientY - tapEvt.clientY) + fallbackOffset.y,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.checkPull(this, this, dragEl, evt)) {\n\t\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\t\tcloneEl.draggable = false;\n\t\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\t_toggleClass(cloneEl, this.options.chosenClass, false);\n\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t_dispatchEvent(this, rootEl, 'clone', dragEl);\n\t\t\t}\n\n\t\t\t_toggleClass(dragEl, options.dragClass, true);\n\n\t\t\tif (useFallback) {\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'pointerup', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tisMovingBetweenSortable = false,\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tif (dragEl.animated) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(activeSortable.lastPullMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (putSortable !== this) {\n\t\t\t\t\tputSortable = this;\n\t\t\t\t\tisMovingBetweenSortable = true;\n\t\t\t\t}\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(activeSortable, true);\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (_ghostIsLast(el, evt))\n\t\t\t\t) {\n\t\t\t\t\t//assign target only if condition is true\n\t\t\t\t\tif (el.children.length !== 0 && el.children[0] !== ghostEl && el === evt.target) {\n\t\t\t\t\t\ttarget = el.lastElementChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(activeSortable, isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\n\t\t\t\t\tvar width = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = R_FLOAT.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false\n\t\t\t\t\t;\n\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (target.previousElementSibling === dragEl || dragEl.previousElementSibling === target) {\n\t\t\t\t\t\t\tafter = (evt.clientY - targetRect.top) / height > 0.5;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!isMovingBetweenSortable) {\n\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(activeSortable, isOwner);\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = prevRect.getBoundingClientRect();\n\t\t\t\t}\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointercancel', this._onDrop);\n\t\t\t_off(ownerDocument, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || Sortable.active.lastPullMode !== 'clone') {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, rootEl, oldIndex);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\n\t\t\tlastEl =\n\t\t\tlastCSS =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragover':\n\t\t\t\tcase 'dragenter':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(sortable, state) {\n\t\tif (sortable.lastPullMode !== 'clone') {\n\t\t\tstate = true;\n\t\t}\n\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\n\t\t\tif (!state) {\n\t\t\t\tif (cloneEl.state) {\n\t\t\t\t\tif (sortable.options.group.revertClone) {\n\t\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t\t\tsortable._animate(dragEl, cloneEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif ((selector === '>*' && el.parentNode === ctx) || _matches(el, selector)) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\tvar parent = el.host;\n\n\t\treturn (parent && parent.nodeType) ? parent : el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tsortable = (sortable || rootEl[expando]);\n\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\t// 5 — min delta\n\t\t// abs — нельзя добавлять, а то глюки при наведении сверху\n\t\treturn (evt.clientY - (rect.top + rect.height) > 5) ||\n\t\t\t(evt.clientX - (rect.left + rect.width) > 5);\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && (selector === '>*' || _matches(el, selector))) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (el) {\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\treturn (\n\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\treturn $\n\t\t\t? $(el).clone(true)[0]\n\t\t\t: (Polymer && Polymer.dom\n\t\t\t\t? Polymer.dom(el).cloneNode(true)\n\t\t\t\t: el.cloneNode(true)\n\t\t\t);\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\t// Fixed #973: \n\t_on(document, 'touchmove', function (evt) {\n\t\tif (Sortable.active) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\ttry {\n\t\twindow.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n\t\t\tget: function () {\n\t\t\t\tcaptureMode = {\n\t\t\t\t\tcapture: false,\n\t\t\t\t\tpassive: false\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\t} catch (err) {}\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.6.1';\n\treturn Sortable;\n});\n"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../source-map-loader/index.js!../../../../../src/assets/foo-table/js/footable.js":
/***/ (function(module, exports) {

module.exports = "/*\r\n* FooTable v3 - FooTable is a jQuery plugin that aims to make HTML tables on smaller devices look awesome.\r\n* @version 3.1.6\r\n* @link http://fooplugins.com\r\n* @copyright Steven Usher & Brad Vincent 2015\r\n* @license Released under the GPLv3 license.\r\n*/\r\n(function($, F){\r\n\t// add in console we use in case it's missing\r\n\twindow.console = window.console || { log:function(){}, error:function(){} };\r\n\r\n\t/**\r\n\t * The jQuery plugin initializer.\r\n\t * @function jQuery.fn.footable\r\n\t * @param {(object|FooTable.Defaults)} [options] - The options to initialize the plugin with.\r\n\t * @param {function} [ready] - A callback function to execute for each initialized plugin.\r\n\t * @returns {jQuery}\r\n\t */\r\n\t$.fn.footable = function (options, ready) {\r\n\t\toptions = options || {};\r\n\t\t// make sure we only work with tables\r\n\t\treturn this.filter('table').each(function (i, tbl) {\r\n\t\t\tF.init(tbl, options, ready);\r\n\t\t});\r\n\t};\r\n\r\n\tvar debug_defaults = {\r\n\t\tevents: []\r\n\t};\r\n\tF.__debug__ = JSON.parse(localStorage.getItem('footable_debug')) || false;\r\n\tF.__debug_options__ = JSON.parse(localStorage.getItem('footable_debug_options')) || debug_defaults;\r\n\r\n\t/**\r\n\t * Gets or sets the internal debug variable which enables some additional logging to the console.\r\n\t * When enabled this value is stored in the localStorage so it can persist across page reloads.\r\n\t * @param {boolean} value - Whether or not to enable additional logging.\r\n\t * @param {object} [options] - Any debug specific options.\r\n\t * @returns {(boolean|undefined)}\r\n\t */\r\n\tF.debug = function(value, options){\r\n\t\tif (!F.is.boolean(value)) return F.__debug__;\r\n\t\tF.__debug__ = value;\r\n\t\tif (F.__debug__){\r\n\t\t\tlocalStorage.setItem('footable_debug', JSON.stringify(F.__debug__));\r\n\t\t\tF.__debug_options__ = $.extend(true, {}, debug_defaults, options || {});\r\n\t\t\tif (F.is.hash(options)){\r\n\t\t\t\tlocalStorage.setItem('footable_debug_options', JSON.stringify(F.__debug_options__));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlocalStorage.removeItem('footable_debug');\r\n\t\t\tlocalStorage.removeItem('footable_debug_options');\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Gets the FooTable instance of the supplied table if one exists.\r\n\t * @param {(jQuery|jQuery.selector|HTMLTableElement)} table - The jQuery table object, selector or the HTMLTableElement to retrieve FooTable from.\r\n\t * @returns {(FooTable.Table|undefined)}\r\n\t */\r\n\tF.get = function(table){\r\n\t\treturn $(table).first().data('__FooTable__');\r\n\t};\r\n\r\n\t/**\r\n\t * Initializes a new instance of FooTable on the supplied table.\r\n\t * @param {(jQuery|jQuery.selector|HTMLTableElement)} table - The jQuery table object, selector or the HTMLTableElement to initialize FooTable on.\r\n\t * @param {object} options - The options to initialize FooTable with.\r\n\t * @param {function} [ready] - A callback function to execute once the plugin is initialized.\r\n\t * @returns {FooTable.Table}\r\n\t */\r\n\tF.init = function(table, options, ready){\r\n\t\tvar ft = F.get(table);\r\n\t\tif (ft instanceof F.Table) ft.destroy();\r\n\t\treturn new F.Table(table, options, ready);\r\n\t};\r\n\r\n\t/**\r\n\t * Gets the FooTable.Row instance for the supplied element.\r\n\t * @param {(jQuery|jQuery.selector|HTMLTableElement)} element - A jQuery object, selector or the HTMLElement of an element to retrieve the FooTable.Row for.\r\n\t * @returns {FooTable.Row}\r\n\t */\r\n\tF.getRow = function(element){\r\n\t\t// to get the FooTable.Row object simply walk up the DOM, find the TR and grab the __FooTableRow__ data value\r\n\t\tvar $row = $(element).closest('tr');\r\n\t\t// if this is a detail row get the previous row in the table to get the main TR element\r\n\t\tif ($row.hasClass('footable-detail-row')){\r\n\t\t\t$row = $row.prev();\r\n\t\t}\r\n\t\t// grab the row object\r\n\t\treturn $row.data('__FooTableRow__');\r\n\t};\r\n\r\n\t// The below are external type definitions mainly used as pointers to jQuery docs for important information\r\n\t/**\r\n\t * jQuery is a fast, small, and feature-rich JavaScript library. It makes things like HTML document traversal and manipulation, event handling, animation, and Ajax much simpler with an easy-to-use API\r\n\t * that works across a multitude of browsers. With a combination of versatility and extensibility, jQuery has changed the way that millions of people write JavaScript.\r\n\t * @name jQuery\r\n\t * @constructor\r\n\t * @returns {jQuery}\r\n\t * @see {@link http://api.jquery.com/}\r\n\t */\r\n\r\n\t/**\r\n\t * This object provides a subset of the methods of the Deferred object (then, done, fail, always, pipe, and state) to prevent users from changing the state of the Deferred.\r\n\t * @typedef {object} jQuery.Promise\r\n\t * @see {@link http://api.jquery.com/Types/#Promise}\r\n\t */\r\n\r\n\t/**\r\n\t * As of jQuery 1.5, the Deferred object provides a way to register multiple callbacks into self-managed callback queues, invoke callback queues as appropriate,\r\n\t * and relay the success or failure state of any synchronous or asynchronous function.\r\n\t * @typedef {object} jQuery.Deferred\r\n\t * @see {@link http://api.jquery.com/Types/#Deferred}\r\n\t */\r\n\r\n\t/**\r\n\t * jQuery's event system normalizes the event object according to W3C standards. The event object is guaranteed to be passed to the event handler. Most properties from\r\n\t * the original event are copied over and normalized to the new event object.\r\n\t * @typedef {object} jQuery.Event\r\n\t * @see {@link http://api.jquery.com/category/events/event-object/}\r\n\t */\r\n\r\n\t/**\r\n\t * Provides a way to execute callback functions based on one or more objects, usually Deferred objects that represent asynchronous events.\r\n\t * @memberof jQuery\r\n\t * @function when\r\n\t * @param {...jQuery.Deferred} deferreds - Any number of deferred objects to wait for.\r\n\t * @returns {jQuery.Promise}\r\n\t * @see {@link http://api.jquery.com/jQuery.when/}\r\n\t */\r\n\r\n\t/**\r\n\t * The jQuery.fn namespace used to register plugins with jQuery.\r\n\t * @memberof jQuery\r\n\t * @namespace fn\r\n\t * @see {@link http://learn.jquery.com/plugins/basic-plugin-creation/}\r\n\t */\r\n})(\r\n\tjQuery,\r\n\t/**\r\n\t * The core FooTable namespace containing all the plugin code.\r\n\t * @namespace\r\n\t */\r\n\tFooTable = window.FooTable || {}\r\n);\r\n(function(F){\r\n\tvar returnTrue = function(){ return true; };\r\n\r\n\t/**\r\n\t * This namespace contains commonly used array utility methods.\r\n\t * @namespace {object} FooTable.arr\r\n\t */\r\n\tF.arr = {};\r\n\r\n\t/**\r\n\t * Iterates over each item in the supplied array and performs the supplied function passing in the current item as the first argument.\r\n\t * @memberof FooTable.arr\r\n\t * @function each\r\n\t * @param {Array} array - The array to iterate\r\n\t * @param {function} func - The function to execute for each item. The first argument supplied to this function is the current item and the second is the current index.\r\n\t */\r\n\tF.arr.each = function (array, func) {\r\n\t\tif (!F.is.array(array) || !F.is.fn(func)) return;\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif (func(array[i], i) === false) break;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Get all items in the supplied array that optionally matches the supplied where function. If no items are found an empty array is returned.\r\n\t * @memberof FooTable.arr\r\n\t * @function get\r\n\t * @param {Array} array - The array to get items from.\r\n\t * @param {function} where - This function must return a boolean value, true includes the item in the result array.\r\n\t * @returns {Array}\r\n\t */\r\n\tF.arr.get = function (array, where) {\r\n\t\tvar result = [];\r\n\t\tif (!F.is.array(array)) return result;\r\n\t\tif (!F.is.fn(where)) return array;\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif (where(array[i], i)) result.push(array[i]);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * Get a boolean value indicating if any item exists in the supplied array that optionally matches the supplied where function.\r\n\t * @memberof FooTable.arr\r\n\t * @function any\r\n\t * @param {Array} array - The array to check.\r\n\t * @param {function} [where] - [Optional] This function must return a boolean value, true indicates that the current item is a valid match.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.arr.any = function (array, where) {\r\n\t\tif (!F.is.array(array)) return false;\r\n\t\twhere = F.is.fn(where) ? where : returnTrue;\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif (where(array[i], i)) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied value exists in the array.\r\n\t * @memberof FooTable.arr\r\n\t * @function contains\r\n\t * @param {Array} array - The array to check.\r\n\t * @param {*} value - The value to check for.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.arr.contains = function(array, value){\r\n\t\tif (!F.is.array(array) || F.is.undef(value)) return false;\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif (array[i] == value) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Get the first item in the supplied array that optionally matches the supplied where function. If no item is found null is returned.\r\n\t * @memberof FooTable.arr\r\n\t * @function first\r\n\t * @param {Array} array - The array to get the item from.\r\n\t * @param {function} [where] - [Optional] This function must return a boolean value, true indicates that the current item can be returned.\r\n\t * @returns {(*|null)}\r\n\t */\r\n\tF.arr.first = function (array, where) {\r\n\t\tif (!F.is.array(array)) return null;\r\n\t\twhere = F.is.fn(where) ? where : returnTrue;\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif (where(array[i], i)) return array[i];\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\t/**\r\n\t * Creates a new array from the results of the supplied getter function. If no items are found an empty array is returned, to exclude an item from the results return null.\r\n\t * @memberof FooTable.arr\r\n\t * @function map\r\n\t * @param {Array} array - The array to iterate.\r\n\t * @param {function} getter - This function must return either a new value or null.\r\n\t * The first argument is the result being returned at this point in the iteration. The second argument is the current item being iterated.\r\n\t * @returns {(*|null)}\r\n\t */\r\n\tF.arr.map = function (array, getter) {\r\n\t\tvar result = [], returned = null;\r\n\t\tif (!F.is.array(array) || !F.is.fn(getter)) return result;\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif ((returned = getter(array[i], i)) != null) result.push(returned);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * Removes items from the array matching the supplied where function. All removed items are returned in a new array.\r\n\t * @memberof FooTable.arr\r\n\t * @function remove\r\n\t * @param {Array} array - The array to iterate and remove items from.\r\n\t * @param {function} where - This function must return a boolean value, true includes the item in the result array.\r\n\t * @returns {*}\r\n\t */\r\n\tF.arr.remove = function (array, where) {\r\n\t\tvar remove = [], removed = [];\r\n\t\tif (!F.is.array(array) || !F.is.fn(where)) return removed;\r\n\t\tvar i = 0, len = array.length;\r\n\t\tfor (; i < len; i++) {\r\n\t\t\tif (where(array[i], i, removed)){\r\n\t\t\t\tremove.push(i);\r\n\t\t\t\tremoved.push(array[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// sort the indexes to be removed from largest to smallest\r\n\t\tremove.sort(function(a, b){ return b - a; });\r\n\t\ti = 0; len = remove.length;\r\n\t\tfor(; i < len; i++){\r\n\t\t\tvar index = remove[i] - i;\r\n\t\t\tarray.splice(index, 1);\r\n\t\t}\r\n\t\treturn removed;\r\n\t};\r\n\r\n\t/**\r\n\t * Deletes a single item from the array. The item if removed is returned.\r\n\t * @memberof FooTable.arr\r\n\t * @function delete\r\n\t * @param {Array} array - The array to iterate and delete the item from.\r\n\t * @param {*} item - The item to find and delete.\r\n\t * @returns {(*|null)}\r\n\t */\r\n\tF.arr.delete = function(array, item){\r\n\t\tvar remove = -1, removed = null;\r\n\t\tif (!F.is.array(array) || F.is.undef(item)) return removed;\r\n\t\tvar i = 0, len = array.length;\r\n\t\tfor (; i < len; i++) {\r\n\t\t\tif (array[i] == item){\r\n\t\t\t\tremove = i;\r\n\t\t\t\tremoved = array[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (remove != -1) array.splice(remove, 1);\r\n\t\treturn removed;\r\n\t};\r\n\r\n\t/**\r\n\t * Replaces a single item in the array with a new one.\r\n\t * @memberof FooTable.arr\r\n\t * @function replace\r\n\t * @param {Array} array - The array to iterate and replace the item in.\r\n\t * @param {*} oldItem - The item to be replaced.\r\n\t * @param {*} newItem - The item to be inserted.\r\n\t */\r\n\tF.arr.replace = function(array, oldItem, newItem){\r\n\t\tvar index = array.indexOf(oldItem);\r\n\t\tif (index !== -1) array[index] = newItem;\r\n\t};\r\n\r\n})(FooTable);\r\n(function (F) {\r\n\r\n\t/**\r\n\t * This namespace contains commonly used 'is' type methods that return boolean values.\r\n\t * @namespace FooTable.is\r\n\t */\r\n\tF.is = {};\r\n\r\n\t/**\r\n\t * Checks if the type of the value is the same as that supplied.\r\n\t * @memberof FooTable.is\r\n\t * @function type\r\n\t * @param {*} value - The value to check the type of.\r\n\t * @param {string} type - The type to check for.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.type = function (value, type) {\r\n\t\treturn typeof value === type;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is defined.\r\n\t * @memberof FooTable.is\r\n\t * @function defined\r\n\t * @param {*} value - The value to check is defined.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.defined = function (value) {\r\n\t\treturn typeof value !== 'undefined';\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is undefined.\r\n\t * @memberof FooTable.is\r\n\t * @function undef\r\n\t * @param {*} value - The value to check is undefined.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.undef = function (value) {\r\n\t\treturn typeof value === 'undefined';\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is an array.\r\n\t * @memberof FooTable.is\r\n\t * @function array\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.array = function (value) {\r\n\t\treturn '[object Array]' === Object.prototype.toString.call(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is a date.\r\n\t * @memberof FooTable.is\r\n\t * @function date\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.date = function (value) {\r\n\t\treturn '[object Date]' === Object.prototype.toString.call(value) && !isNaN(value.getTime());\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is a boolean.\r\n\t * @memberof FooTable.is\r\n\t * @function boolean\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.boolean = function (value) {\r\n\t\treturn '[object Boolean]' === Object.prototype.toString.call(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is a string.\r\n\t * @memberof FooTable.is\r\n\t * @function string\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.string = function (value) {\r\n\t\treturn '[object String]' === Object.prototype.toString.call(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is a number.\r\n\t * @memberof FooTable.is\r\n\t * @function number\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.number = function (value) {\r\n\t\treturn '[object Number]' === Object.prototype.toString.call(value) && !isNaN(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is a function.\r\n\t * @memberof FooTable.is\r\n\t * @function fn\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.fn = function (value) {\r\n\t\treturn (F.is.defined(window) && value === window.alert) || '[object Function]' === Object.prototype.toString.call(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is an error.\r\n\t * @memberof FooTable.is\r\n\t * @function error\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.error = function (value) {\r\n\t\treturn '[object Error]' === Object.prototype.toString.call(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is an object.\r\n\t * @memberof FooTable.is\r\n\t * @function object\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.object = function (value) {\r\n\t\treturn '[object Object]' === Object.prototype.toString.call(value);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the value is a hash.\r\n\t * @memberof FooTable.is\r\n\t * @function hash\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.hash = function (value) {\r\n\t\treturn F.is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied object is an HTMLElement\r\n\t * @memberof FooTable.is\r\n\t * @function element\r\n\t * @param {object} obj - The object to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.element = function (obj) {\r\n\t\treturn typeof HTMLElement === 'object'\r\n\t\t\t? obj instanceof HTMLElement\r\n\t\t\t: obj && typeof obj === 'object' && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === 'string';\r\n\t};\r\n\r\n\t/**\r\n\t * This is a simple check to determine if an object is a jQuery promise object. It simply checks the object has a \"then\" and \"promise\" function defined.\r\n\t * The promise object is created as an object literal inside of jQuery.Deferred.\r\n\t * It has no prototype, nor any other truly unique properties that could be used to distinguish it.\r\n\t * This method should be a little more accurate than the internal jQuery one that simply checks for a \"promise\" method.\r\n\t * @memberof FooTable.is\r\n\t * @function promise\r\n\t * @param {object} obj - The object to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.promise = function(obj){\r\n\t\treturn F.is.object(obj) && F.is.fn(obj.then) && F.is.fn(obj.promise);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied object is an instance of a jQuery object.\r\n\t * @memberof FooTable.is\r\n\t * @function jq\r\n\t * @param {object} obj - The object to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.jq = function(obj){\r\n\t\treturn F.is.defined(window.jQuery) && obj instanceof jQuery && obj.length > 0;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied object is a moment.js date object.\r\n\t * @memberof FooTable.is\r\n\t * @function moment\r\n\t * @param {object} obj - The object to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.moment = function(obj){\r\n\t\treturn F.is.defined(window.moment) && F.is.object(obj) && F.is.boolean(obj._isAMomentObject)\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied value is an object and if it is empty.\r\n\t * @memberof FooTable.is\r\n\t * @function emptyObject\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.emptyObject = function(value){\r\n\t\tif (!F.is.hash(value)) return false;\r\n\t\tfor(var prop in value) {\r\n\t\t\tif(value.hasOwnProperty(prop))\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied value is an array and if it is empty.\r\n\t * @memberof FooTable.is\r\n\t * @function emptyArray\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.emptyArray = function(value){\r\n\t\treturn F.is.array(value) ? value.length === 0 : true;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied value is a string and if it is empty.\r\n\t * @memberof FooTable.is\r\n\t * @function emptyString\r\n\t * @param {*} value - The value to check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.is.emptyString = function(value){\r\n\t\treturn F.is.string(value) ? value.length === 0 : true;\r\n\t};\r\n\r\n})(FooTable);\r\n(function (F) {\r\n\t/**\r\n\t * This namespace contains commonly used string utility methods.\r\n\t * @namespace FooTable.str\r\n\t */\r\n\tF.str = {};\r\n\r\n\t/**\r\n\t * Checks if the supplied string contains the given substring.\r\n\t * @memberof FooTable.str\r\n\t * @function contains\r\n\t * @param {string} str - The string to check.\r\n\t * @param {string} contains - The string to check for.\r\n\t * @param {boolean} [ignoreCase=false] - Whether or not to ignore casing when performing the check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.str.contains = function (str, contains, ignoreCase) {\r\n\t\tif (F.is.emptyString(str) || F.is.emptyString(contains)) return false;\r\n\t\treturn contains.length <= str.length\r\n\t\t\t&& (ignoreCase ? str.toUpperCase().indexOf(contains.toUpperCase()) : str.indexOf(contains)) !== -1;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied string contains the exact given substring.\r\n\t * @memberof FooTable.str\r\n\t * @function contains\r\n\t * @param {string} str - The string to check.\r\n\t * @param {string} contains - The string to check for.\r\n\t * @param {boolean} [ignoreCase=false] - Whether or not to ignore casing when performing the check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.str.containsExact = function (str, contains, ignoreCase) {\r\n\t\tif (F.is.emptyString(str) || F.is.emptyString(contains) || contains.length > str.length) return false;\r\n\t\treturn new RegExp('\\\\b'+ F.str.escapeRegExp(contains)+'\\\\b', ignoreCase ? 'i' : '').test(str);\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if the supplied string contains the given word.\r\n\t * @memberof FooTable.str\r\n\t * @function containsWord\r\n\t * @param {string} str - The string to check.\r\n\t * @param {string} word - The word to check for.\r\n\t * @param {boolean} [ignoreCase=false] - Whether or not to ignore casing when performing the check.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.str.containsWord = function(str, word, ignoreCase){\r\n\t\tif (F.is.emptyString(str) || F.is.emptyString(word) || str.length < word.length)\r\n\t\t\treturn false;\r\n\t\tvar parts = str.split(/\\W/);\r\n\t\tfor (var i = 0, len = parts.length; i < len; i++){\r\n\t\t\tif (ignoreCase ? parts[i].toUpperCase() == word.toUpperCase() : parts[i] == word) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the remainder of a string split on the first index of the given substring.\r\n\t * @memberof FooTable.str\r\n\t * @function from\r\n\t * @param {string} str - The string to split.\r\n\t * @param {string} from - The substring to split on.\r\n\t * @returns {string}\r\n\t */\r\n\tF.str.from = function (str, from) {\r\n\t\tif (F.is.emptyString(str)) return str;\r\n\t\treturn F.str.contains(str, from) ? str.substring(str.indexOf(from) + 1) : str;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks if a string starts with the supplied prefix.\r\n\t * @memberof FooTable.str\r\n\t * @function startsWith\r\n\t * @param {string} str - The string to check.\r\n\t * @param {string} prefix - The prefix to check for.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.str.startsWith = function (str, prefix) {\r\n\t\tif (F.is.emptyString(str)) return str == prefix;\r\n\t\treturn str.slice(0, prefix.length) == prefix;\r\n\t};\r\n\r\n\t/**\r\n\t * Takes the supplied string and converts it to camel case.\r\n\t * @memberof FooTable.str\r\n\t * @function toCamelCase\r\n\t * @param {string} str - The string to camel case.\r\n\t * @returns {string}\r\n\t */\r\n\tF.str.toCamelCase = function (str) {\r\n\t\tif (F.is.emptyString(str)) return str;\r\n\t\tif (str.toUpperCase() === str) return str.toLowerCase();\r\n\t\treturn str.replace(/^([A-Z])|[-\\s_](\\w)/g, function (match, p1, p2) {\r\n\t\t\tif (F.is.string(p2)) return p2.toUpperCase();\r\n\t\t\treturn p1.toLowerCase();\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Generates a random string 9 characters long using the optional prefix if supplied.\r\n\t * @memberof FooTable.str\r\n\t * @function random\r\n\t * @param {string} [prefix] - The prefix to append to the 9 random characters.\r\n\t * @returns {string}\r\n\t */\r\n\tF.str.random = function(prefix){\r\n\t\tprefix = F.is.emptyString(prefix) ? '' : prefix;\r\n\t\treturn prefix + Math.random().toString(36).substr(2, 9);\r\n\t};\r\n\r\n\t/**\r\n\t * Escapes a string for use in a regular expression.\r\n\t * @memberof FooTable.str\r\n\t * @function escapeRegExp\r\n\t * @param {string} str - The string to escape.\r\n\t * @returns {string}\r\n\t */\r\n\tF.str.escapeRegExp = function(str){\r\n\t\tif (F.is.emptyString(str)) return str;\r\n\t\treturn str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n\t};\r\n\r\n})(FooTable);\r\n(function (F) {\r\n\t\"use strict\";\r\n\r\n\tif (!Object.create) {\r\n\t\tObject.create = (function () {\r\n\t\t\tvar Object = function () {};\r\n\t\t\treturn function (prototype) {\r\n\t\t\t\tif (arguments.length > 1)\r\n\t\t\t\t\tthrow Error('Second argument not supported');\r\n\r\n\t\t\t\tif (!F.is.object(prototype))\r\n\t\t\t\t\tthrow TypeError('Argument must be an object');\r\n\r\n\t\t\t\tObject.prototype = prototype;\r\n\t\t\t\tvar result = new Object();\r\n\t\t\t\tObject.prototype = null;\r\n\t\t\t\treturn result;\r\n\t\t\t};\r\n\t\t})();\r\n\t}\r\n\r\n\t/**\r\n\t * This base implementation does nothing except provide access to the {@link FooTable.Class#extend} method.\r\n\t * @constructs FooTable.Class\r\n\t * @classdesc This class is based off of John Resig's [Simple JavaScript Inheritance]{@link http://ejohn.org/blog/simple-javascript-inheritance} but it has been updated to be ES 5.1\r\n\t * compatible by implementing an [Object.create polyfill]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create#Polyfill}\r\n\t * for older browsers.\r\n\t * @see {@link http://ejohn.org/blog/simple-javascript-inheritance}\r\n\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create#Polyfill}\r\n\t * @returns {FooTable.Class}\r\n\t */\r\n\tfunction Class() {}\r\n\r\n\tvar __extendable__ = /xyz/.test(function () {xyz;}) ? /\\b_super\\b/ : /.*/;\r\n\r\n\t// this._super() within the context of the new function is a pointer to the original function\r\n\t// except if the hook param is specified then the this._super variable is the result of the original function\r\n\tClass.__extend__ = function(proto, name, func, original){\r\n\t\t// to all who venture here, here be dragons!\r\n\t\tproto[name] = F.is.fn(original) && __extendable__.test(func) ?\r\n\t\t\t(function (name, fn) {\r\n\t\t\t\treturn function () {\r\n\t\t\t\t\tvar tmp, ret;\r\n\t\t\t\t\ttmp = this._super;\r\n\t\t\t\t\tthis._super = original;\r\n\t\t\t\t\tret = fn.apply(this, arguments);\r\n\t\t\t\t\tthis._super = tmp;\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t};\r\n\t\t\t})(name, func) : func;\r\n\t};\r\n\r\n\t/**\r\n\t * Creates a new class that inherits from this class which in turn allows itself to be extended or if a name and function is supplied extends only that specific function on the class.\r\n\t * @param {(object|string)} arg1 - An object containing any new methods/members to implement or the name of the method to extend.\r\n\t * @param {function} arg2 - If the first argument is a method name then this is the new function to replace it with.\r\n\t * @returns {FooTable.Class} A new class that inherits from the base class.\r\n\t * @example <caption>The below shows an example of how to implement inheritance using this method.</caption>\r\n\t * var Person = FooTable.Class.extend({\r\n\t *   construct: function(isDancing){\r\n\t *     this.dancing = isDancing;\r\n\t *   },\r\n\t *   dance: function(){\r\n\t *     return this.dancing;\r\n\t *   }\r\n\t * });\r\n\t *\r\n\t * var Ninja = Person.extend({\r\n\t *   construct: function(){\r\n\t *     this._super( false );\r\n\t *   },\r\n\t *   dance: function(){\r\n\t *     // Call the inherited version of dance()\r\n\t *     return this._super();\r\n\t *   },\r\n\t *   swingSword: function(){\r\n\t *     return true;\r\n\t *   }\r\n\t * });\r\n\t *\r\n\t * var p = new Person(true);\r\n\t * p.dance(); // => true\r\n\t *\r\n\t * var n = new Ninja();\r\n\t * n.dance(); // => false\r\n\t * n.swingSword(); // => true\r\n\t *\r\n\t * // Should all be true\r\n\t * p instanceof Person && p instanceof FooTable.Class &&\r\n\t * n instanceof Ninja && n instanceof Person && n instanceof FooTable.Class\r\n\t */\r\n\tClass.extend = function (arg1 , arg2) {\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\targ1 = args.shift();\r\n\t\targ2 = args.shift();\r\n\r\n\t\tfunction __extend__(proto, name, func, original){\r\n\t\t\t// to all who venture here, here be dragons!\r\n\t\t\tproto[name] = F.is.fn(original) && __extendable__.test(func) ?\r\n\t\t\t\t(function (name, fn, ofn) {\r\n\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\tvar tmp, ret;\r\n\t\t\t\t\t\ttmp = this._super;\r\n\t\t\t\t\t\tthis._super = ofn;\r\n\t\t\t\t\t\tret = fn.apply(this, arguments);\r\n\t\t\t\t\t\tthis._super = tmp;\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t};\r\n\t\t\t\t})(name, func, original) : func;\r\n\t\t}\r\n\r\n\t\tif (F.is.hash(arg1)){\r\n\t\t\tvar proto = Object.create(this.prototype),\r\n\t\t\t\t_super = this.prototype;\r\n\t\t\tfor (var name in arg1) {\r\n\t\t\t\tif (name === '__ctor__') continue;\r\n\t\t\t\t__extend__(proto, name, arg1[name], _super[name]);\r\n\t\t\t}\r\n\t\t\tvar obj = F.is.fn(proto.__ctor__) ? proto.__ctor__ : function () {\r\n\t\t\t\tif (!F.is.fn(this.construct))\r\n\t\t\t\t\tthrow new SyntaxError('FooTable class objects must be constructed with the \"new\" keyword.');\r\n\t\t\t\tthis.construct.apply(this, arguments);\r\n\t\t\t};\r\n\t\t\tproto.construct = F.is.fn(proto.construct) ? proto.construct : function(){};\r\n\t\t\tobj.prototype = proto;\r\n\t\t\tproto.constructor = obj;\r\n\t\t\tobj.extend = Class.extend;\r\n\t\t\treturn obj;\r\n\t\t} else if (F.is.string(arg1) && F.is.fn(arg2)) {\r\n\t\t\t__extend__(this.prototype, arg1, arg2, this.prototype[arg1]);\r\n\t\t}\r\n\t};\r\n\r\n\tF.Class = Class;\r\n\r\n\tF.ClassFactory = F.Class.extend(/** @lends FooTable.ClassFactory */{\r\n\t\t/**\r\n\t\t * This is a simple factory for {@link FooTable.Class} objects allowing them to be registered using a friendly name\r\n\t\t * and then new instances can be created using this friendly name.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @returns {FooTable.ClassFactory}\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\tconstruct: function(){\r\n\t\t\t/**\r\n\t\t\t * An object containing all registered classes.\r\n\t\t\t * @type {{}}\r\n\t\t\t */\r\n\t\t\tthis.registered = {};\r\n\t\t},\r\n\t\t/**\r\n\t\t * Checks if the factory contains a class registered using the supplied name.\r\n\t\t * @instance\r\n\t\t * @param {string} name - The name of the class to check.\r\n\t\t * @returns {boolean}\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\tcontains: function(name){\r\n\t\t\treturn F.is.defined(this.registered[name]);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets an array of all registered names.\r\n\t\t * @instance\r\n\t\t * @returns {Array.<string>}\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\tnames: function(){\r\n\t\t\tvar names = [], name;\r\n\t\t\tfor (name in this.registered){\r\n\t\t\t\tif (!this.registered.hasOwnProperty(name)) continue;\r\n\t\t\t\tnames.push(name);\r\n\t\t\t}\r\n\t\t\treturn names;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Registers a class object using the supplied friendly name and priority. The priority is only taken into account when loading all registered classes\r\n\t\t * using the {@link FooTable.ClassFactory#load} method.\r\n\t\t * @instance\r\n\t\t * @param {string} name - The friendly name of the class.\r\n\t\t * @param {function} klass - The class to register.\r\n\t\t * @param {number} priority - This determines the order that the class is created when using the {@link FooTable.ClassFactory#load} method, higher values are loaded first.\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\tregister: function(name, klass, priority){\r\n\t\t\tif (!F.is.string(name) || !F.is.fn(klass)) return;\r\n\t\t\tvar current = this.registered[name];\r\n\t\t\tthis.registered[name] = {\r\n\t\t\t\tname: name,\r\n\t\t\t\tklass: klass,\r\n\t\t\t\tpriority: F.is.number(priority) ? priority : (F.is.defined(current) ? current.priority : 0)\r\n\t\t\t};\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates new instances of all registered classes using there priority and the supplied arguments to return them in an array.\r\n\t\t * @instance\r\n\t\t * @param {object} subs - An object containing classes to substitute on load.\r\n\t\t * @param {*} arg1 - The first argument to supply when creating new instances of all registered classes.\r\n\t\t * @param {*} [argN...] - Any number of additional arguments to supply when creating new instances of all registered classes.\r\n\t\t * @returns {Array.<FooTable.Class>}\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\tload: function(subs, arg1, argN){\r\n\t\t\tvar self = this, args = Array.prototype.slice.call(arguments), reg = [], loaded = [], name, klass;\r\n\t\t\tsubs = args.shift() || {};\r\n\t\t\tfor (name in self.registered){\r\n\t\t\t\tif (!self.registered.hasOwnProperty(name)) continue;\r\n\t\t\t\tvar component = self.registered[name];\r\n\t\t\t\tif (subs.hasOwnProperty(name)){\r\n\t\t\t\t\tklass = subs[name];\r\n\t\t\t\t\tif (F.is.string(klass)) klass = F.getFnPointer(subs[name]);\r\n\t\t\t\t\tif (F.is.fn(klass)){\r\n\t\t\t\t\t\tcomponent = {name: name, klass: klass, priority: self.registered[name].priority};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treg.push(component);\r\n\t\t\t}\r\n\t\t\tfor (name in subs){\r\n\t\t\t\tif (!subs.hasOwnProperty(name) || self.registered.hasOwnProperty(name)) continue;\r\n\t\t\t\tklass = subs[name];\r\n\t\t\t\tif (F.is.string(klass)) klass = F.getFnPointer(subs[name]);\r\n\t\t\t\tif (F.is.fn(klass)){\r\n\t\t\t\t\treg.push({name: name, klass: klass, priority: 0});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treg.sort(function(a, b){ return b.priority - a.priority; });\r\n\t\t\tF.arr.each(reg, function(r){\r\n\t\t\t\tif (F.is.fn(r.klass)){\r\n\t\t\t\t\tloaded.push(self._make(r.klass, args));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn loaded;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Create a new instance of a single class using the supplied name and arguments.\r\n\t\t * @instance\r\n\t\t * @param {string} name - The name of the class to create.\r\n\t\t * @param {*} arg1 - The first argument to supply to the new instance.\r\n\t\t * @param {*} [argN...] - Any number of additional arguments to supply to the new instance.\r\n\t\t * @returns {FooTable.Class}\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\tmake: function(name, arg1, argN){\r\n\t\t\tvar self = this, args = Array.prototype.slice.call(arguments), reg;\r\n\t\t\tname = args.shift();\r\n\t\t\treg = self.registered[name];\r\n\t\t\tif (F.is.fn(reg.klass)){\r\n\t\t\t\treturn self._make(reg.klass, args);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * This in effect lets us use the \"apply\" method on a function using the \"new\" keyword.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {function} klass\r\n\t\t * @param args\r\n\t\t * @returns {FooTable.Class}\r\n\t\t * @this FooTable.ClassFactory\r\n\t\t */\r\n\t\t_make: function(klass, args){\r\n\t\t\tfunction Class() {\r\n\t\t\t\treturn klass.apply(this, args);\r\n\t\t\t}\r\n\t\t\tClass.prototype = klass.prototype;\r\n\t\t\treturn new Class();\r\n\t\t}\r\n\t});\r\n\r\n})(FooTable);\r\n(function($, F){\r\n\r\n\t/**\r\n\t * Converts the supplied cssText string into JSON object.\r\n\t * @param {string} cssText - The cssText to convert to a JSON object.\r\n\t * @returns {object}\r\n\t */\r\n\tF.css2json = function(cssText){\r\n\t\tif (F.is.emptyString(cssText)) return {};\r\n\t\tvar json = {}, props = cssText.split(';'), pair, key, value;\r\n\t\tfor (var i = 0, i_len = props.length; i < i_len; i++){\r\n\t\t\tif (F.is.emptyString(props[i])) continue;\r\n\t\t\tpair = props[i].split(':');\r\n\t\t\tif (F.is.emptyString(pair[0]) || F.is.emptyString(pair[1])) continue;\r\n\t\t\tkey = F.str.toCamelCase($.trim(pair[0]));\r\n\t\t\tvalue = $.trim(pair[1]);\r\n\t\t\tjson[key] = value;\r\n\t\t}\r\n\t\treturn json;\r\n\t};\r\n\r\n\t/**\r\n\t * Attempts to retrieve a function pointer using the given name.\r\n\t * @param {string} functionName - The name of the function to fetch a pointer to.\r\n\t * @returns {(function|object|null)}\r\n\t */\r\n\tF.getFnPointer = function(functionName){\r\n\t\tif (F.is.emptyString(functionName)) return null;\r\n\t\tvar pointer = window,\r\n\t\t\tparts = functionName.split('.');\r\n\t\tF.arr.each(parts, function(part){\r\n\t\t\tif (pointer[part]) pointer = pointer[part];\r\n\t\t});\r\n\t\treturn F.is.fn(pointer) ? pointer : null;\r\n\t};\r\n\r\n\t/**\r\n\t * Checks the value for function properties such as the {@link FooTable.Column#formatter} option which could also be specified using just the name\r\n\t * and attempts to return the correct function pointer or null if none was found matching the value.\r\n\t * @param {FooTable.Class} self - The class to use as the 'this' keyword within the context of the function.\r\n\t * @param {(function|string)} value - The actual function or the name of the function for the property.\r\n\t * @param {function} [def] - A default function to return if none is found.\r\n\t * @returns {(function|null)}\r\n\t */\r\n\tF.checkFnValue = function(self, value, def){\r\n\t\tdef = F.is.fn(def) ? def : null;\r\n\t\tfunction wrap(t, fn, d){\r\n\t\t\tif (!F.is.fn(fn)) return d;\r\n\t\t\treturn function(){\r\n\t\t\t\treturn fn.apply(t, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn F.is.fn(value) ? wrap(self, value, def) : (F.is.type(value, 'string') ? wrap(self, F.getFnPointer(value), def) : def);\r\n\t};\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.Cell = F.Class.extend(/** @lends FooTable.Cell */{\r\n\t\t/**\r\n\t\t * The cell class containing all the properties for cells.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {FooTable.Table} table -  The root {@link FooTable.Table} this cell belongs to.\r\n\t\t * @param {FooTable.Row} row - The parent {@link FooTable.Row} this cell belongs to.\r\n\t\t * @param {FooTable.Column} column - The {@link FooTable.Column} this cell falls under.\r\n\t\t * @param {(*|HTMLElement|jQuery)} valueOrElement - Either the value or the element for the cell.\r\n\t\t * @returns {FooTable.Cell}\r\n\t\t * @this FooTable.Cell\r\n\t\t */\r\n\t\tconstruct: function (table, row, column, valueOrElement) {\r\n\t\t\t/**\r\n\t\t\t * The root {@link FooTable.Table} for the cell.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {FooTable.Table}\r\n\t\t\t */\r\n\t\t\tthis.ft = table;\r\n\t\t\t/**\r\n\t\t\t * The parent {@link FooTable.Row} for the cell.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {FooTable.Row}\r\n\t\t\t */\r\n\t\t\tthis.row = row;\r\n\t\t\t/**\r\n\t\t\t * The {@link FooTable.Column} this cell falls under.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {FooTable.Column}\r\n\t\t\t */\r\n\t\t\tthis.column = column;\r\n\t\t\tthis.created = false;\r\n\t\t\tthis.define(valueOrElement);\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the value or the cell element/jQuery object if it exists.\r\n\t\t * If supplied the element we need set the $el property and parse the value from it.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or element to define the cell.\r\n\t\t * @this FooTable.Cell\r\n\t\t */\r\n\t\tdefine: function(valueOrElement){\r\n\t\t\t/**\r\n\t\t\t * The jQuery table cell object this instance wraps.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$el = F.is.element(valueOrElement) || F.is.jq(valueOrElement) ? $(valueOrElement) : null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery row object that represents this cell in the details table.\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$detail = null;\r\n\r\n\t\t\tvar hasOptions = F.is.hash(valueOrElement) && F.is.hash(valueOrElement.options) && F.is.defined(valueOrElement.value);\r\n\r\n\t\t\t/**\r\n\t\t\t * The value of the cell.\r\n\t\t\t * @instance\r\n\t\t\t * @type {*}\r\n\t\t\t */\r\n\t\t\tthis.value = this.column.parser.call(this.column, F.is.jq(this.$el) ? this.$el : (hasOptions ? valueOrElement.value : valueOrElement), this.ft.o);\r\n\r\n\t\t\t/**\r\n\t\t\t * Contains any options for the cell. These are the options supplied through the plugin constructor as part of the row object itself.\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.o = $.extend(true, {\r\n\t\t\t\tclasses: null,\r\n\t\t\t\tstyle: null\r\n\t\t\t}, hasOptions ? valueOrElement.options : {});\r\n\t\t\t/**\r\n\t\t\t * An array of CSS classes for the cell.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {Array.<string>}\r\n\t\t\t */\r\n\t\t\tthis.classes = F.is.jq(this.$el) && this.$el.attr('class') ? this.$el.attr('class').match(/\\S+/g) : (F.is.array(this.o.classes) ? this.o.classes : (F.is.string(this.o.classes) ? this.o.classes.match(/\\S+/g) : []));\r\n\t\t\t/**\r\n\t\t\t * The inline styles for the cell.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.style = F.is.jq(this.$el) && this.$el.attr('style') ? F.css2json(this.$el.attr('style')) : (F.is.hash(this.o.style) ? this.o.style : (F.is.string(this.o.style) ? F.css2json(this.o.style) : {}));\r\n\t\t},\r\n\t\t/**\r\n\t\t * After the cell has been defined this ensures that the $el and #detail properties are jQuery objects by either creating or updating them.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Cell\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\tif (this.created) return;\r\n\t\t\t(this.$el = F.is.jq(this.$el) ? this.$el : $('<td/>'))\r\n\t\t\t\t.data('value', this.value)\r\n\t\t\t\t.contents().detach().end()\r\n\t\t\t\t.append(this.format(this.value));\r\n\r\n\t\t\tthis._setClasses(this.$el);\r\n\t\t\tthis._setStyle(this.$el);\r\n\r\n\t\t\tthis.$detail = $('<tr/>').addClass(this.row.classes.join(' '))\r\n\t\t\t\t.data('__FooTableCell__', this)\r\n\t\t\t\t.append($('<th/>'))\r\n\t\t\t\t.append($('<td/>'));\r\n\r\n\t\t\tthis.created = true;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Collapses this cell and displays it in the details row.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tcollapse: function(){\r\n\t\t\tif (!this.created) return;\r\n\t\t\tthis.$detail.children('th').html(this.column.title);\r\n\t\t\tthis.$el.clone()\r\n\t\t\t\t.attr('id', this.$el.attr('id') ? this.$el.attr('id') + '-detail' : undefined)\r\n\t\t\t\t.css('display', 'table-cell')\r\n\t\t\t\t.html('')\r\n\t\t\t\t.append(this.$el.contents().detach())\r\n\t\t\t\t.replaceAll(this.$detail.children('td').first());\r\n\r\n\t\t\tif (!F.is.jq(this.$detail.parent()))\r\n\t\t\t\tthis.$detail.appendTo(this.row.$details.find('.footable-details > tbody'));\r\n\t\t},\r\n\t\t/**\r\n\t\t * Restores this cell from a detail row back into the normal row.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\trestore: function(){\r\n\t\t\tif (!this.created) return;\r\n\t\t\tif (F.is.jq(this.$detail.parent())){\r\n\t\t\t\tvar $cell = this.$detail.children('td').first();\r\n\t\t\t\tthis.$el\r\n\t\t\t\t\t.attr('class', $cell.attr('class'))\r\n\t\t\t\t\t.attr('style', $cell.attr('style'))\r\n\t\t\t\t\t.css('display', (this.column.hidden || !this.column.visible) ? 'none' : 'table-cell')\r\n\t\t\t\t\t.append($cell.contents().detach());\r\n\t\t\t}\r\n\t\t\tthis.$detail.detach();\r\n\t\t},\r\n\t\t/**\r\n\t\t * Helper method to call this cell's column parser function supplying the required parameters.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {*}\r\n\t\t * @see FooTable.Column#parser\r\n\t\t * @this FooTable.Cell\r\n\t\t */\r\n\t\tparse: function(){\r\n\t\t\treturn this.column.parser.call(this.column, this.$el, this.ft.o);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Helper method to call this cell's column formatter function using the supplied value and any additional required parameters.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {*} value - The value to format.\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t * @see FooTable.Column#formatter\r\n\t\t * @this FooTable.Cell\r\n\t\t */\r\n\t\tformat: function(value){\r\n\t\t\treturn this.column.formatter.call(this.column, value, this.ft.o, this.row.value);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Allows easy access to getting or setting the cell's value. If the value is set all associated properties are also updated along with the actual element.\r\n\t\t * Using this method also allows us to supply an object containing options and the value for the cell.\r\n\t\t * @instance\r\n\t\t * @param {*} [value] - The value to set for the cell. If not supplied the current value of the cell is returned.\r\n\t\t * @param {boolean} [redraw=true] - Whether or not to redraw the row once the value has been set.\r\n\t\t * @param {boolean} [redrawSelf=true] - Whether or not to redraw the cell itself once the value has been set, if `false` this will override the supplied `redraw` value and prevent the row from redrawing as well.\r\n\t\t * @returns {(*|undefined)}\r\n\t\t * @this FooTable.Cell\r\n\t\t */\r\n\t\tval: function(value, redraw, redrawSelf){\r\n\t\t\tif (F.is.undef(value)){\r\n\t\t\t\t// get\r\n\t\t\t\treturn this.value;\r\n\t\t\t}\r\n\t\t\t// set\r\n\t\t\tvar self = this, hasOptions = F.is.hash(value) && F.is.hash(value.options) && F.is.defined(value.value);\r\n\t\t\tthis.o = $.extend(true, {\r\n\t\t\t\tclasses: self.classes,\r\n\t\t\t\tstyle: self.style\r\n\t\t\t}, hasOptions ? value.options : {});\r\n\r\n\t\t\tthis.value = hasOptions ? value.value : value;\r\n\t\t\tthis.classes = F.is.array(this.o.classes) ? this.o.classes : (F.is.string(this.o.classes) ? this.o.classes.match(/\\S+/g) : []);\r\n\t\t\tthis.style = F.is.hash(this.o.style) ? this.o.style : (F.is.string(this.o.style) ? F.css2json(this.o.style) : {});\r\n\r\n\t\t\tredrawSelf = F.is.boolean(redrawSelf) ? redrawSelf : true;\r\n\t\t\tif (this.created && redrawSelf){\r\n\t\t\t\tthis.$el.data('value', this.value).empty();\r\n\r\n\t\t\t\tvar $detail = this.$detail.children('td').first().empty(),\r\n\t\t\t\t\t$target = F.is.jq(this.$detail.parent()) ? $detail : this.$el;\r\n\r\n\t\t\t\t$target.append(this.format(this.value));\r\n\r\n\t\t\t\tthis._setClasses($target);\r\n\t\t\t\tthis._setStyle($target);\r\n\r\n\t\t\t\tif (F.is.boolean(redraw) ? redraw : true) this.row.draw();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setClasses: function($el){\r\n\t\t\tvar hasColClasses = !F.is.emptyArray(this.column.classes),\r\n\t\t\t\thasClasses = !F.is.emptyArray(this.classes),\r\n\t\t\t\tclasses = null;\r\n\t\t\t$el.removeAttr('class');\r\n\t\t\tif (!hasColClasses && !hasClasses) return;\r\n\t\t\tif (hasColClasses && hasClasses){\r\n\t\t\t\tclasses = this.classes.concat(this.column.classes).join(' ');\r\n\t\t\t} else if (hasColClasses) {\r\n\t\t\t\tclasses = this.column.classes.join(' ');\r\n\t\t\t} else if (hasClasses){\r\n\t\t\t\tclasses = this.classes.join(' ');\r\n\t\t\t}\r\n\t\t\tif (!F.is.emptyString(classes)){\r\n\t\t\t\t$el.addClass(classes);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setStyle: function($el){\r\n\t\t\tvar hasColStyle = !F.is.emptyObject(this.column.style),\r\n\t\t\t\thasStyle = !F.is.emptyObject(this.style),\r\n\t\t\t\tstyle = null;\r\n\t\t\t$el.removeAttr('style');\r\n\t\t\tif (!hasColStyle && !hasStyle) return;\r\n\t\t\tif (hasColStyle && hasStyle){\r\n\t\t\t\tstyle = $.extend({}, this.column.style, this.style);\r\n\t\t\t} else if (hasColStyle) {\r\n\t\t\t\tstyle = this.column.style;\r\n\t\t\t} else if (hasStyle){\r\n\t\t\t\tstyle = this.style;\r\n\t\t\t}\r\n\t\t\tif (F.is.hash(style)){\r\n\t\t\t\t$el.css(style);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.Column = F.Class.extend(/** @lends FooTable.Column */{\r\n\t\t/**\r\n\t\t * The column class containing all the properties for columns. All members marked as \"readonly\" should not be used when defining {@link FooTable.Defaults#columns}.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this component belongs to.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t * @param {string} [type] - The type of column, \"text\" by default.\r\n\t\t * @returns {FooTable.Column}\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\tconstruct: function(instance, definition, type){\r\n\t\t\t/**\r\n\t\t\t * The root {@link FooTable.Table} for the column.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {FooTable.Table}\r\n\t\t\t */\r\n\t\t\tthis.ft = instance;\r\n\t\t\t/**\r\n\t\t\t * The type of data displayed by the column.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.type = F.is.emptyString(type) ? 'text' : type;\r\n\t\t\t/**\r\n\t\t\t * Whether or not the column was parsed from a standard table row containing data instead of from an actual header row.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.virtual = F.is.boolean(definition.virtual) ? definition.virtual : false;\r\n\t\t\t/**\r\n\t\t\t * The jQuery cell object for the column header.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$el = F.is.jq(definition.$el) ? definition.$el : null;\r\n\t\t\t/**\r\n\t\t\t * The index of the column in the table. This is set by the plugin during initialization.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {number}\r\n\t\t\t * @default -1\r\n\t\t\t */\r\n\t\t\tthis.index = F.is.number(definition.index) ? definition.index : -1;\r\n\t\t\t/**\r\n\t\t\t * Whether or not this in an internal only column.\r\n\t\t\t * @instance\r\n\t\t\t * @readonly\r\n\t\t\t * @type {boolean}\r\n\t\t\t * @description Internal columns or there cells will not be returned when calling methods such as `FooTable.Row#val`.\r\n\t\t\t */\r\n\t\t\tthis.internal = false;\r\n\t\t\tthis.define(definition);\r\n\t\t\tthis.$create();\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied the column definition in the form of a simple object created by merging options supplied via the plugin constructor with those parsed from the DOM.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} definition - The object containing the column definition.\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\tdefine: function(definition){\r\n\t\t\t/**\r\n\t\t\t * Whether or not this column is hidden from view and appears in the details row.\r\n\t\t\t * @type {boolean}\r\n\t\t\t * @default false\r\n\t\t\t */\r\n\t\t\tthis.hidden = F.is.boolean(definition.hidden) ? definition.hidden : false;\r\n\t\t\t/**\r\n\t\t\t * Whether or not this column is completely hidden from view and will not appear in the details row.\r\n\t\t\t * @type {boolean}\r\n\t\t\t * @default true\r\n\t\t\t */\r\n\t\t\tthis.visible = F.is.boolean(definition.visible) ? definition.visible : true;\r\n\r\n\t\t\t/**\r\n\t\t\t * The name of the column. This name must correspond to the property name of the JSON row data.\r\n\t\t\t * @type {string}\r\n\t\t\t * @default null\r\n\t\t\t */\r\n\t\t\tthis.name = F.is.string(definition.name) ? definition.name : null;\r\n\t\t\tif (this.name == null) this.name = 'col'+(definition.index+1);\r\n\t\t\t/**\r\n\t\t\t * The title to display in the column header, this can be HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t * @default null\r\n\t\t\t */\r\n\t\t\tthis.title = F.is.string(definition.title) ? definition.title : null;\r\n\t\t\tif (!this.virtual && this.title == null && F.is.jq(this.$el)) this.title = this.$el.html();\r\n\t\t\tif (this.title == null) this.title = 'Column '+(definition.index+1);\r\n\t\t\t/**\r\n\t\t\t * The styles to apply to all cells in this column.\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.style = F.is.hash(definition.style) ? definition.style : (F.is.string(definition.style) ? F.css2json(definition.style) : {});\r\n\t\t\t/**\r\n\t\t\t * The classes to apply to all cells in this column.\r\n\t\t\t * @type {Array.<string>}\r\n\t\t\t */\r\n\t\t\tthis.classes = F.is.array(definition.classes) ? definition.classes : (F.is.string(definition.classes) ? definition.classes.match(/\\S+/g) : []);\r\n\r\n\t\t\t// override any default functions ensuring when they are executed \"this\" within the context of the function points to the instance of this object.\r\n\t\t\tthis.parser = F.checkFnValue(this, definition.parser, this.parser);\r\n\t\t\tthis.formatter = F.checkFnValue(this, definition.formatter, this.formatter);\r\n\t\t},\r\n\t\t/**\r\n\t\t * After the column has been defined this ensures that the $el property is a jQuery object by either creating or updating the current value.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\t(this.$el = !this.virtual && F.is.jq(this.$el) ? this.$el : $('<th/>')).html(this.title).addClass(this.classes.join(' ')).css(this.style);\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the cell value or jQuery object to parse. Any value can be returned from this method and will be provided to the {@link FooTable.Column#format} function\r\n\t\t * to generate the cell contents.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {string}\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){ // use jQuery to get the value\r\n\t\t\t\tvar data = $(valueOrElement).data('value');\r\n\t\t\t\treturn F.is.defined(data) ? data : $(valueOrElement).html();\r\n\t\t\t}\r\n\t\t\tif (F.is.defined(valueOrElement) && valueOrElement != null) return valueOrElement+''; // use the native toString of the value\r\n\t\t\treturn null; // otherwise we have no value so return null\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied the value retrieved from the {@link FooTable.Column#parse} function and must return a string, HTMLElement or jQuery object.\r\n\t\t * The return value from this function is what is displayed in the cell in the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {string} value - The value to format.\r\n\t\t * @param {object} options - The current plugin options.\r\n\t\t * @param {object} rowData - An object containing the current row data.\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\tformatter: function(value, options, rowData){\r\n\t\t\treturn value == null ? '' : value;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates a cell for this column from the supplied {@link FooTable.Row} object. This allows different column types to return different types of cells.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {FooTable.Row} row - The row to create the cell from.\r\n\t\t * @returns {FooTable.Cell}\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\tcreateCell: function(row){\r\n\t\t\tvar element = F.is.jq(row.$el) ? row.$el.children('td,th').get(this.index) : null,\r\n\t\t\t\tdata = F.is.hash(row.value) ? row.value[this.name] : null;\r\n\t\t\treturn new F.Cell(this.ft, row, this, element || data);\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns = new F.ClassFactory();\r\n\r\n\tF.columns.register('text', F.Column);\r\n\r\n})(jQuery, FooTable);\r\n(function ($, F) {\r\n\r\n\tF.Component = F.Class.extend(/** @lends FooTable.Component */{\r\n\t\t/**\r\n\t\t * The base class for all FooTable components.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {FooTable.Table} instance - The parent {@link FooTable.Table} object for the component.\r\n\t\t * @param {boolean} enabled - Whether or not the component is enabled.\r\n\t\t * @throws {TypeError} The instance parameter must be an instance of {@link FooTable.Table}.\r\n\t\t * @returns {FooTable.Component}\r\n\t\t */\r\n\t\tconstruct: function (instance, enabled) {\r\n\t\t\tif (!(instance instanceof F.Table))\r\n\t\t\t\tthrow new TypeError('The instance parameter must be an instance of FooTable.Table.');\r\n\r\n\t\t\t/**\r\n\t\t\t * The parent {@link FooTable.Table} for the component.\r\n\t\t\t * @type {FooTable.Table}\r\n\t\t\t */\r\n\t\t\tthis.ft = instance;\r\n\t\t\t/**\r\n\t\t\t * Whether or not this component is enabled. Disabled components only have there preinit method called allowing for this value to be overridden.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.enabled = F.is.boolean(enabled) ? enabled : false;\r\n\t\t},\r\n\t\t/**\r\n\t\t * The preinit method is called during the parent {@link FooTable.Table} constructor call.\r\n\t\t * @param {object} data - The jQuery.data() object of the root table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @function\r\n\t\t */\r\n\t\tpreinit: function(data){},\r\n\t\t/**\r\n\t\t * The init method is called during the parent {@link FooTable.Table} constructor call.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @function\r\n\t\t */\r\n\t\tinit: function(){},\r\n\t\t/**\r\n\t\t * This method is called from the {@link FooTable.Table#destroy} method.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @function\r\n\t\t */\r\n\t\tdestroy: function(){},\r\n\t\t/**\r\n\t\t * This method is called from the {@link FooTable.Table#draw} method.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @function\r\n\t\t */\r\n\t\tpredraw: function(){},\r\n\t\t/**\r\n\t\t * This method is called from the {@link FooTable.Table#draw} method.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @function\r\n\t\t */\r\n\t\tdraw: function(){},\r\n\t\t/**\r\n\t\t * This method is called from the {@link FooTable.Table#draw} method.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @function\r\n\t\t */\r\n\t\tpostdraw: function(){}\r\n\t});\r\n\r\n\tF.components = new F.ClassFactory();\r\n\r\n})(jQuery, FooTable);\r\n(function ($, F) {\r\n\t/**\r\n\t * Contains all the available options for the FooTable plugin.\r\n\t * @name FooTable.Defaults\r\n\t * @function\r\n\t * @constructor\r\n\t * @returns {FooTable.Defaults}\r\n\t */\r\n\tF.Defaults = function () {\r\n\t\t/**\r\n\t\t * Whether or not events raised using the {@link FooTable.Table#raise} method are propagated up the DOM. By default this is set to false and all events bubble up the DOM as per usual\r\n\t\t * however the reason for this option is if we have nested tables. If false the parent table would receive all the events raised by it's children and any handlers bound to both the\r\n\t\t * parent and child would be triggered which is not the desired behavior.\r\n\t\t * @type {boolean}\r\n\t\t * @default false\r\n\t\t */\r\n\t\tthis.stopPropagation = false;\r\n\t\t/**\r\n\t\t * An object in which the string keys represent one or more space-separated event types and optional namespaces, and the values represent a handler function to be called for the event(s).\r\n\t\t * @type {object.<string, function>}\r\n\t\t * @default NULL\r\n\t\t * @example <caption>This example shows how to pass an object containing the events and handlers.</caption>\r\n\t\t * \"on\": {\r\n\t\t * \t\"click\": function(e){\r\n\t\t * \t\t// bind a custom click event to do something whenever the table is clicked\r\n\t\t * \t},\r\n\t\t * \t\"init.ft.table\": function(e, ft){\r\n\t\t * \t\t// bind to the FooTable initialize event to do something\r\n\t\t * \t}\r\n\t\t * }\r\n\t\t */\r\n\t\tthis.on = null;\r\n\t};\r\n\r\n\t/**\r\n\t * Contains all the default options for the plugin.\r\n\t * @type {FooTable.Defaults}\r\n\t */\r\n\tF.defaults = new F.Defaults();\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.Row = F.Class.extend(/** @lends FooTable.Row */{\r\n\t\t/**\r\n\t\t * The row class containing all the properties for a row and its' cells.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {FooTable.Table} table -  The parent {@link FooTable.Table} this component belongs to.\r\n\t\t * @param {Array.<FooTable.Column>} columns - The array of {@link FooTable.Column} for this row.\r\n\t\t * @param {(*|HTMLElement|jQuery)} dataOrElement - Either the data for the row (create) or the element (parse) for the row.\r\n\t\t * @returns {FooTable.Row}\r\n\t\t */\r\n\t\tconstruct: function (table, columns, dataOrElement) {\r\n\t\t\t/**\r\n\t\t\t * The {@link FooTable.Table} for the row.\r\n\t\t\t * @type {FooTable.Table}\r\n\t\t\t */\r\n\t\t\tthis.ft = table;\r\n\t\t\t/**\r\n\t\t\t * The array of {@link FooTable.Column} for this row.\r\n\t\t\t * @type {Array.<FooTable.Column>}\r\n\t\t\t */\r\n\t\t\tthis.columns = columns;\r\n\r\n\t\t\tthis.created = false;\r\n\t\t\tthis.define(dataOrElement);\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the object containing the values for the row or the row element/jQuery object if it exists.\r\n\t\t * If supplied the element we need to set the $el property and parse the cells from it using the column index.\r\n\t\t * If we have an object we parse the cells from it using the column name.\r\n\t\t * @param {(object|jQuery)} dataOrElement - The row object or element to define the row.\r\n\t\t */\r\n\t\tdefine: function(dataOrElement){\r\n\t\t\t/**\r\n\t\t\t * The jQuery table row object this instance wraps.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$el = F.is.element(dataOrElement) || F.is.jq(dataOrElement) ? $(dataOrElement) : null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery toggle element for the row.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$toggle = $('<span/>', {'class': 'footable-toggle fooicon fooicon-plus'});\r\n\r\n\t\t\tvar isObj = F.is.hash(dataOrElement),\r\n\t\t\t\thasOptions = isObj && F.is.hash(dataOrElement.options) && F.is.hash(dataOrElement.value);\r\n\r\n\t\t\t/**\r\n\t\t\t * The value of the row.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {Object}\r\n\t\t\t */\r\n\t\t\tthis.value = isObj ? (hasOptions ? dataOrElement.value : dataOrElement) : null;\r\n\r\n\t\t\t/**\r\n\t\t\t * Contains any options for the row.\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.o = $.extend(true, {\r\n\t\t\t\texpanded: false,\r\n\t\t\t\tclasses: null,\r\n\t\t\t\tstyle: null\r\n\t\t\t}, hasOptions ? dataOrElement.options : {});\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not this row is expanded and will display it's detail row when there are any hidden columns.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.expanded = F.is.jq(this.$el) ? (this.$el.data('expanded') || this.o.expanded) : this.o.expanded;\r\n\t\t\t/**\r\n\t\t\t * An array of CSS classes for the row.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {Array.<string>}\r\n\t\t\t */\r\n\t\t\tthis.classes = F.is.jq(this.$el) && this.$el.attr('class') ? this.$el.attr('class').match(/\\S+/g) : (F.is.array(this.o.classes) ? this.o.classes : (F.is.string(this.o.classes) ? this.o.classes.match(/\\S+/g) : []));\r\n\t\t\t/**\r\n\t\t\t * The inline styles for the row.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.style = F.is.jq(this.$el) && this.$el.attr('style') ? F.css2json(this.$el.attr('style')) : (F.is.hash(this.o.style) ? this.o.style : (F.is.string(this.o.style) ? F.css2json(this.o.style) : {}));\r\n\r\n\t\t\t/**\r\n\t\t\t * The cells array. This is populated before the call to the {@link FooTable.Row#$create} method.\r\n\t\t\t * @instance\r\n\t\t\t * @type {Array.<FooTable.Cell>}\r\n\t\t\t */\r\n\t\t\tthis.cells = this.createCells();\r\n\r\n\t\t\t// this ensures the value contains the parsed cell values and not the supplied values\r\n\t\t\tvar self = this;\r\n\t\t\tself.value = {};\r\n\t\t\tF.arr.each(self.cells, function(cell){\r\n\t\t\t\tself.value[cell.column.name] = cell.val();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * After the row has been defined this ensures that the $el property is a jQuery object by either creating or updating the current value.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Row\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\tif (this.created) return;\r\n\t\t\t(this.$el = F.is.jq(this.$el) ? this.$el : $('<tr/>'))\r\n\t\t\t\t.data('__FooTableRow__', this);\r\n\r\n\t\t\tthis._setClasses(this.$el);\r\n\t\t\tthis._setStyle(this.$el);\r\n\r\n\t\t\tif (this.ft.rows.toggleColumn == 'last') this.$toggle.addClass('last-column');\r\n\r\n\t\t\tthis.$details = $('<tr/>', { 'class': 'footable-detail-row' })\r\n\t\t\t\t.append($('<td/>', { colspan: this.ft.columns.visibleColspan })\r\n\t\t\t\t\t.append($('<table/>', { 'class': 'footable-details ' + this.ft.classes.join(' ') })\r\n\t\t\t\t\t\t.append('<tbody/>')));\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tF.arr.each(self.cells, function(cell){\r\n\t\t\t\tif (!cell.created) cell.$create();\r\n\t\t\t\tself.$el.append(cell.$el);\r\n\t\t\t});\r\n\t\t\tself.$el.off('click.ft.row').on('click.ft.row', { self: self }, self._onToggle);\r\n\t\t\tthis.created = true;\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is called during the construct method and uses the current column definitions to create an array of {@link FooTable.Cell} objects for the row.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {Array.<FooTable.Cell>}\r\n\t\t * @this FooTable.Row\r\n\t\t */\r\n\t\tcreateCells: function(){\r\n\t\t\tvar self = this;\r\n\t\t\treturn F.arr.map(self.columns, function(col){\r\n\t\t\t\treturn col.createCell(self);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Allows easy access to getting or setting the row's data. If the data is set all associated properties are also updated along with the actual element.\r\n\t\t * Using this method also allows us to supply an object containing options and the data for the row at the same time.\r\n\t\t * @instance\r\n\t\t * @param {object} [data] - The data to set for the row. If not supplied the current value of the row is returned.\r\n\t\t * @param {boolean} [redraw=true] - Whether or not to redraw the table once the value has been set.\r\n\t\t * @param {boolean} [redrawSelf=true] - Whether or not to redraw the row itself once the value has been set, if `false` this will override the supplied `redraw` value and prevent the table from redrawing as well.\r\n\t\t * @returns {(*|undefined)}\r\n\t\t */\r\n\t\tval: function(data, redraw, redrawSelf){\r\n\t\t\tvar self = this;\r\n\t\t\tif (!F.is.hash(data)){\r\n\t\t\t\t// get - check the value property and build it from the cells if required.\r\n\t\t\t\tif (!F.is.hash(this.value) || F.is.emptyObject(this.value)){\r\n\t\t\t\t\tthis.value = {};\r\n\t\t\t\t\tF.arr.each(this.cells, function(cell){\r\n\t\t\t\t\t\tif (!cell.column.internal){\r\n\t\t\t\t\t\t\tself.value[cell.column.name] = cell.val();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this.value;\r\n\t\t\t}\r\n\t\t\t// set\r\n\t\t\tthis.collapse(false);\r\n\t\t\tvar isObj = F.is.hash(data),\r\n\t\t\t\thasOptions = isObj && F.is.hash(data.options) && F.is.hash(data.value);\r\n\r\n\t\t\tthis.o = $.extend(true, {\r\n\t\t\t\texpanded: self.expanded,\r\n\t\t\t\tclasses: self.classes,\r\n\t\t\t\tstyle: self.style\r\n\t\t\t}, hasOptions ? data.options : {});\r\n\r\n\t\t\tthis.expanded = this.o.expanded;\r\n\t\t\tthis.classes = F.is.array(this.o.classes) ? this.o.classes : (F.is.string(this.o.classes) ? this.o.classes.match(/\\S+/g) : []);\r\n\t\t\tthis.style = F.is.hash(this.o.style) ? this.o.style : (F.is.string(this.o.style) ? F.css2json(this.o.style) : {});\r\n\t\t\tif (isObj) {\r\n\t\t\t\tif ( hasOptions ) data = data.value;\r\n\t\t\t\tif (F.is.hash(this.value)){\r\n\t\t\t\t\tfor (var prop in data) {\r\n\t\t\t\t\t\tif (!data.hasOwnProperty(prop)) continue;\r\n\t\t\t\t\t\tthis.value[prop] = data[prop];\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.value = data;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.value = null;\r\n\t\t\t}\r\n\r\n\t\t\tredrawSelf = F.is.boolean(redrawSelf) ? redrawSelf : true;\r\n\t\t\tF.arr.each(this.cells, function(cell){\r\n\t\t\t\tif (!cell.column.internal && F.is.defined(self.value[cell.column.name])){\r\n\t\t\t\t\tcell.val(self.value[cell.column.name], false, redrawSelf);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (this.created && redrawSelf){\r\n\t\t\t\tthis._setClasses(this.$el);\r\n\t\t\t\tthis._setStyle(this.$el);\r\n\t\t\t\tif (F.is.boolean(redraw) ? redraw : true) this.draw();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setClasses: function($el){\r\n\t\t\tvar hasClasses = !F.is.emptyArray(this.classes),\r\n\t\t\t\tclasses = null;\r\n\t\t\t$el.removeAttr('class');\r\n\t\t\tif (!hasClasses) return;\r\n\t\t\telse classes = this.classes.join(' ');\r\n\t\t\tif (!F.is.emptyString(classes)){\r\n\t\t\t\t$el.addClass(classes);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setStyle: function($el){\r\n\t\t\tvar hasStyle = !F.is.emptyObject(this.style),\r\n\t\t\t\tstyle = null;\r\n\t\t\t$el.removeAttr('style');\r\n\t\t\tif (!hasStyle) return;\r\n\t\t\telse style = this.style;\r\n\t\t\tif (F.is.hash(style)){\r\n\t\t\t\t$el.css(style);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Sets the current row to an expanded state displaying any hidden columns in a detail row just below it.\r\n\t\t * @instance\r\n\t\t * @fires FooTable.Row#\"expand.ft.row\"\r\n\t\t */\r\n\t\texpand: function(){\r\n\t\t\tif (!this.created) return;\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The expand.ft.row event is raised before the the row is expanded.\r\n\t\t\t * Calling preventDefault on this event will stop the row being expanded.\r\n\t\t\t * @event FooTable.Row#\"expand.ft.row\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {FooTable.Row} row - The row about to be expanded.\r\n\t\t\t */\r\n\t\t\tself.ft.raise('expand.ft.row',[self]).then(function(){\r\n\t\t\t\tself.__hidden__ = F.arr.map(self.cells, function(cell){\r\n\t\t\t\t\treturn cell.column.hidden && cell.column.visible ? cell : null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (self.__hidden__.length > 0){\r\n\t\t\t\t\tself.$details.insertAfter(self.$el)\r\n\t\t\t\t\t\t.children('td').first()\r\n\t\t\t\t\t\t.attr('colspan', self.ft.columns.visibleColspan);\r\n\r\n\t\t\t\t\tF.arr.each(self.__hidden__, function(cell){\r\n\t\t\t\t\t\tcell.collapse();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tself.$el.attr('data-expanded', true);\r\n\t\t\t\tself.$toggle.removeClass('fooicon-plus').addClass('fooicon-minus');\r\n\t\t\t\tself.expanded = true;\r\n\t\t\t\tself.ft.raise('expanded.ft.row', [self]);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Sets the current row to a collapsed state removing the detail row if it exists.\r\n\t\t * @instance\r\n\t\t * @param {boolean} [setExpanded] - Whether or not to set the {@link FooTable.Row#expanded} property to false.\r\n\t\t * @fires FooTable.Row#\"collapse.ft.row\"\r\n\t\t */\r\n\t\tcollapse: function(setExpanded){\r\n\t\t\tif (!this.created) return;\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The collapse.ft.row event is raised before the the row is collapsed.\r\n\t\t\t * Calling preventDefault on this event will stop the row being collapsed.\r\n\t\t\t * @event FooTable.Row#\"collapse.ft.row\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {FooTable.Row} row - The row about to be expanded.\r\n\t\t\t */\r\n\t\t\tself.ft.raise('collapse.ft.row',[self]).then(function(){\r\n\t\t\t\tF.arr.each(self.__hidden__, function(cell){\r\n\t\t\t\t\tcell.restore();\r\n\t\t\t\t});\r\n\t\t\t\tself.$details.detach();\r\n\t\t\t\tself.$el.removeAttr('data-expanded');\r\n\t\t\t\tself.$toggle.removeClass('fooicon-minus').addClass('fooicon-plus');\r\n\t\t\t\tif (F.is.boolean(setExpanded) ? setExpanded : true) self.expanded = false;\r\n\t\t\t\tself.ft.raise('collapsed.ft.row', [self]);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Prior to drawing this moves the details contents back to there original cells and detaches the toggle element from the row.\r\n\t\t * @instance\r\n\t\t * @param {boolean} [detach] - Whether or not to detach the row.\r\n\t\t * @this FooTable.Row\r\n\t\t */\r\n\t\tpredraw: function(detach){\r\n\t\t\tif (this.created){\r\n\t\t\t\tif (this.expanded){\r\n\t\t\t\t\tthis.collapse(false);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$toggle.detach();\r\n\t\t\t\tdetach = F.is.boolean(detach) ? detach : true;\r\n\t\t\t\tif (detach) this.$el.detach();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Draws the current row and cells.\r\n\t\t * @instance\r\n\t\t * @this FooTable.Row\r\n\t\t */\r\n\t\tdraw: function($parent){\r\n\t\t\tif (!this.created) this.$create();\r\n\t\t\tif (F.is.jq($parent)) $parent.append(this.$el);\r\n\t\t\tvar self = this;\r\n\t\t\tF.arr.each(self.cells, function(cell){\r\n\t\t\t\tcell.$el.css('display', (cell.column.hidden || !cell.column.visible  ? 'none' : 'table-cell'));\r\n\t\t\t\tif (self.ft.rows.showToggle && self.ft.columns.hasHidden){\r\n\t\t\t\t\tif ((self.ft.rows.toggleColumn == 'first' && cell.column.index == self.ft.columns.firstVisibleIndex)\r\n\t\t\t\t\t\t|| (self.ft.rows.toggleColumn == 'last' && cell.column.index == self.ft.columns.lastVisibleIndex)) {\r\n\t\t\t\t\t\tcell.$el.prepend(self.$toggle);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcell.$el.add(cell.column.$el).removeClass('footable-first-visible footable-last-visible');\r\n\t\t\t\tif (cell.column.index == self.ft.columns.firstVisibleIndex){\r\n\t\t\t\t\tcell.$el.add(cell.column.$el).addClass('footable-first-visible');\r\n\t\t\t\t}\r\n\t\t\t\tif (cell.column.index == self.ft.columns.lastVisibleIndex){\r\n\t\t\t\t\tcell.$el.add(cell.column.$el).addClass('footable-last-visible');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (this.expanded){\r\n\t\t\t\tthis.expand();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Toggles the row between it's expanded and collapsed state if there are hidden columns.\r\n\t\t * @instance\r\n\t\t * @this FooTable.Row\r\n\t\t */\r\n\t\ttoggle: function(){\r\n\t\t\tif (this.created && this.ft.columns.hasHidden){\r\n\t\t\t\tif (this.expanded) this.collapse();\r\n\t\t\t\telse this.expand();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the toggle click event for rows.\r\n\t\t * @instance\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the click event.\r\n\t\t * @private\r\n\t\t * @this jQuery\r\n\t\t */\r\n\t\t_onToggle: function (e) {\r\n\t\t\tvar self = e.data.self;\r\n\t\t\t// only execute the toggle if the event.target is one of the approved initiators\r\n\t\t\tif ($(e.target).is(self.ft.rows.toggleSelector)){\r\n\t\t\t\tself.toggle();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n\r\n(function ($, F) {\r\n\r\n\t/**\r\n\t * An array of all currently loaded instances of the plugin.\r\n\t * @protected\r\n\t * @readonly\r\n\t * @type {Array.<FooTable.Table>}\r\n\t */\r\n\tF.instances = [];\r\n\r\n\tF.Table = F.Class.extend(/** @lends FooTable.Table */{\r\n\t\t/**\r\n\t\t * This class is the core of the plugin and drives the logic of all components.\r\n\t\t * @constructs\r\n\t\t * @this FooTable.Table\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {(HTMLTableElement|jQuery)} element - The element or jQuery table object to bind the plugin to.\r\n\t\t * @param {object} options - The options to initialize the plugin with.\r\n\t\t * @param {function} [ready] - A callback function to execute once the plugin is initialized.\r\n\t\t * @returns {FooTable.Table}\r\n\t\t */\r\n\t\tconstruct: function (element, options, ready) {\r\n\t\t\t//BEGIN MEMBERS\r\n\t\t\t/**\r\n\t\t\t * The timeout ID for the resize event.\r\n\t\t\t * @instance\r\n\t\t\t * @private\r\n\t\t\t * @type {?number}\r\n\t\t\t */\r\n\t\t\tthis._resizeTimeout = null;\r\n\t\t\t/**\r\n\t\t\t * The ID of the FooTable instance.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.id = F.instances.push(this);\r\n\t\t\t/**\r\n\t\t\t * Whether or not the plugin and all components and add-ons are fully initialized.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.initialized = false;\r\n\t\t\t/**\r\n\t\t\t * The jQuery table object the plugin is bound to.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$el = (F.is.jq(element) ? element : $(element)).first(); // ensure one table, one instance\r\n\t\t\t/**\r\n\t\t\t * A loader jQuery instance\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$loader = $('<div/>', { 'class': 'footable-loader' }).append($('<span/>', {'class': 'fooicon fooicon-loader'}));\r\n\t\t\t/**\r\n\t\t\t * The options for the plugin. This is a merge of user defined options and the default options.\r\n\t\t\t * @instance\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.o = $.extend(true, {}, F.defaults, options);\r\n\t\t\t/**\r\n\t\t\t * The jQuery data object for the table at initialization.\r\n\t\t\t * @instance\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.data = this.$el.data() || {};\r\n\t\t\t/**\r\n\t\t\t * An array of all CSS classes on the table that do not start with \"footable\".\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {Array.<string>}\r\n\t\t\t */\r\n\t\t\tthis.classes = [];\r\n\t\t\t/**\r\n\t\t\t * All components for this instance of the plugin. These are executed in the order they appear in the array for the initialize phase and in reverse order for the destroy phase of the plugin.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {object}\r\n\t\t\t * @prop {Array.<FooTable.Component>} internal - The internal components for the plugin. These are executed either before all other components in the initialize phase or after them in the destroy phase of the plugin.\r\n\t\t\t * @prop {Array.<FooTable.Component>} core - The core components for the plugin. These are executed either after the internal components in the initialize phase or before them in the destroy phase of the plugin.\r\n\t\t\t * @prop {Array.<FooTable.Component>} custom - The custom components for the plugin. These are executed either after the core components in the initialize phase or before them in the destroy phase of the plugin.\r\n\t\t\t */\r\n\t\t\tthis.components = F.components.load((F.is.hash(this.data.components) ? this.data.components : this.o.components), this);\r\n\t\t\t/**\r\n\t\t\t * The breakpoints component for this instance of the plugin.\r\n\t\t\t * @instance\r\n\t\t\t * @type {FooTable.Breakpoints}\r\n\t\t\t */\r\n\t\t\tthis.breakpoints = this.use(FooTable.Breakpoints);\r\n\t\t\t/**\r\n\t\t\t * The columns component for this instance of the plugin.\r\n\t\t\t * @instance\r\n\t\t\t * @type {FooTable.Columns}\r\n\t\t\t */\r\n\t\t\tthis.columns = this.use(FooTable.Columns);\r\n\t\t\t/**\r\n\t\t\t * The rows component for this instance of the plugin.\r\n\t\t\t * @instance\r\n\t\t\t * @type {FooTable.Rows}\r\n\t\t\t */\r\n\t\t\tthis.rows = this.use(FooTable.Rows);\r\n\r\n\t\t\t//END MEMBERS\r\n\t\t\tthis._construct(ready);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Once all properties are set this performs the actual initialization of the plugin calling the {@link FooTable.Table#_preinit} and\r\n\t\t * {@link FooTable.Table#_init} methods as well as raising the {@link FooTable.Table#\"ready.ft.table\"} event.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @param {function} [ready] - A callback function to execute once the plugin is initialized.\r\n\t\t * @private\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Table#\"ready.ft.table\"\r\n\t\t */\r\n\t\t_construct: function(ready){\r\n\t\t\tvar self = this;\r\n\t\t\treturn this._preinit().then(function(){\r\n\t\t\t\treturn self._init().then(function(){\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * The ready.ft.table event is raised after the plugin has been initialized and the table drawn.\r\n\t\t\t\t\t * Calling preventDefault on this event will stop the ready callback being executed.\r\n\t\t\t\t\t * @event FooTable.Table#\"ready.ft.table\"\r\n\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t */\r\n\t\t\t\t\treturn self.raise('ready.ft.table').then(function(){\r\n\t\t\t\t\t\tif (F.is.fn(ready)) ready.call(self, self);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}).always(function(arg){\r\n\t\t\t\tself.$el.show();\r\n\t\t\t\tif (F.is.error(arg)){\r\n\t\t\t\t\tconsole.error('FooTable: unhandled error thrown during initialization.', arg);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * The preinit method is called prior to the plugins actual initialization and provides itself and it's components an opportunity to parse any additional option values.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Table#\"preinit.ft.table\"\r\n\t\t */\r\n\t\t_preinit: function(){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.table event is raised before any components.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Table#\"preinit.ft.table\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object from the root table element.\r\n\t\t\t */\r\n\t\t\treturn this.raise('preinit.ft.table', [self.data]).then(function(){\r\n\t\t\t\tvar classes = (self.$el.attr('class') || '').match(/\\S+/g) || [];\r\n\r\n\t\t\t\tself.o.ajax = F.checkFnValue(self, self.data.ajax, self.o.ajax);\r\n\t\t\t\tself.o.stopPropagation = F.is.boolean(self.data.stopPropagation)\r\n\t\t\t\t\t? self.data.stopPropagation\r\n\t\t\t\t\t: self.o.stopPropagation;\r\n\r\n\t\t\t\tfor (var i = 0, len = classes.length; i < len; i++){\r\n\t\t\t\t\tif (!F.str.startsWith(classes[i], 'footable')) self.classes.push(classes[i]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.$el.hide().after(self.$loader);\r\n\t\t\t\treturn self.execute(false, false, 'preinit', self.data);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes this instance of the plugin and calls the callback function if one is supplied once complete.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @return {jQuery.Promise}\r\n\t\t * @fires FooTable.Table#\"init.ft.table\"\r\n\t\t */\r\n\t\t_init: function(){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The init.ft.table event is raised before any components are initialized.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Table#\"init.ft.table\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.raise('init.ft.table').then(function(){\r\n\t\t\t\tvar $thead = self.$el.children('thead'),\r\n\t\t\t\t\t$tbody = self.$el.children('tbody'),\r\n\t\t\t\t\t$tfoot = self.$el.children('tfoot');\r\n\t\t\t\tself.$el.addClass('footable footable-' + self.id);\r\n\t\t\t\tif (F.is.hash(self.o.on)) self.$el.on(self.o.on);\r\n\t\t\t\tif ($tfoot.length == 0) self.$el.append($tfoot = $('<tfoot/>'));\r\n\t\t\t\tif ($tbody.length == 0) self.$el.append('<tbody/>');\r\n\t\t\t\tif ($thead.length == 0) self.$el.prepend($thead = $('<thead/>'));\r\n\t\t\t\treturn self.execute(false, true, 'init').then(function(){\r\n\t\t\t\t\tself.$el.data('__FooTable__', self);\r\n\t\t\t\t\tif ($tfoot.children('tr').length == 0) $tfoot.remove();\r\n\t\t\t\t\tif ($thead.children('tr').length == 0) $thead.remove();\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * The postinit.ft.table event is raised after any components are initialized but before the table is\r\n\t\t\t\t\t * drawn for the first time.\r\n\t\t\t\t\t * Calling preventDefault on this event will disable the initial drawing of the table.\r\n\t\t\t\t\t * @event FooTable.Table#\"postinit.ft.table\"\r\n\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t */\r\n\t\t\t\t\treturn self.raise('postinit.ft.table').then(function(){\r\n\t\t\t\t\t\treturn self.draw();\r\n\t\t\t\t\t}).always(function(){\r\n\t\t\t\t\t\t$(window).off('resize.ft'+self.id, self._onWindowResize)\r\n\t\t\t\t\t\t\t.on('resize.ft'+self.id, { self: self }, self._onWindowResize);\r\n\t\t\t\t\t\tself.initialized = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys this plugin removing it from the table.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @fires FooTable.Table#\"destroy.ft.table\"\r\n\t\t */\r\n\t\tdestroy: function () {\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.table event is called before all core components.\r\n\t\t\t * Calling preventDefault on this event will prevent the entire plugin from being destroyed.\r\n\t\t\t * @event FooTable.Table#\"destroy.ft.table\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.raise('destroy.ft.table').then(function(){\r\n\t\t\t\treturn self.execute(true, true, 'destroy').then(function () {\r\n\t\t\t\t\tself.$el.removeData('__FooTable__').removeClass('footable-' + self.id);\r\n\t\t\t\t\tif (F.is.hash(self.o.on)) self.$el.off(self.o.on);\r\n\t\t\t\t\t$(window).off('resize.ft'+self.id, self._onWindowResize);\r\n\t\t\t\t\tself.initialized = false;\r\n\t\t\t\t\tF.instances[self.id] = null;\r\n\t\t\t\t});\r\n\t\t\t}).fail(function(err){\r\n\t\t\t\tif (F.is.error(err)){\r\n\t\t\t\t\tconsole.error('FooTable: unhandled error thrown while destroying the plugin.', err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Raises an event on this instance supplying the args array as additional parameters to the handlers.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @param {string} eventName - The name of the event to raise, this can include namespaces.\r\n\t\t * @param {Array} [args] - An array containing additional parameters to be passed to any bound handlers.\r\n\t\t * @returns {jQuery.Event}\r\n\t\t */\r\n\t\traise: function(eventName, args){\r\n\t\t\tvar self = this,\r\n\t\t\t\tdebug = F.__debug__ && (F.is.emptyArray(F.__debug_options__.events) || F.arr.any(F.__debug_options__.events, function(name){ return F.str.contains(eventName, name); }));\r\n\t\t\targs = args || [];\r\n\t\t\targs.unshift(this);\r\n\t\t\treturn $.Deferred(function(d){\r\n\t\t\t\tvar evt = $.Event(eventName);\r\n\t\t\t\tif (self.o.stopPropagation == true){\r\n\t\t\t\t\tself.$el.one(eventName, function (e) {e.stopPropagation();});\r\n\t\t\t\t}\r\n\t\t\t\tif (debug) console.log('FooTable:'+eventName+': ', args);\r\n\t\t\t\tself.$el.trigger(evt, args);\r\n\t\t\t\tif (evt.isDefaultPrevented()){\r\n\t\t\t\t\tif (debug) console.log('FooTable: default prevented for the \"'+eventName+'\" event.');\r\n\t\t\t\t\td.reject(evt);\r\n\t\t\t\t}\telse d.resolve(evt);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Attempts to retrieve the instance of the supplied component type for this instance.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @param {object} type - The content type to retrieve for this instance.\r\n\t\t * @returns {(*|null)}\r\n\t\t */\r\n\t\tuse: function(type){\r\n\t\t\tfor (var i = 0, len = this.components.length; i < len; i++){\r\n\t\t\t\tif (this.components[i] instanceof type) return this.components[i];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the drawing of the table.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Table#\"predraw.ft.table\"\r\n\t\t * @fires FooTable.Table#\"draw.ft.table\"\r\n\t\t * @fires FooTable.Table#\"postdraw.ft.table\"\r\n\t\t */\r\n\t\tdraw: function () {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\t// Clone the current table and insert it into the original's place\r\n\t\t\tvar $elCopy = self.$el.clone().insertBefore(self.$el);\r\n\r\n\t\t\t// Detach `self.$el` from the DOM, retaining its event handlers\r\n\t\t\tself.$el.detach();\r\n\r\n\t\t\t// when drawing the order that the components are executed is important so chain the methods but use promises to retain async safety.\r\n\t\t\treturn self.execute(false, true, 'predraw').then(function(){\r\n\t\t\t\t/**\r\n\t\t\t\t * The predraw.ft.table event is raised after all core components and add-ons have executed there predraw functions but before they execute there draw functions.\r\n\t\t\t\t * @event FooTable.Table#\"predraw.ft.table\"\r\n\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t */\r\n\t\t\t\treturn self.raise('predraw.ft.table').then(function(){\r\n\t\t\t\t\treturn self.execute(false, true, 'draw').then(function(){\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * The draw.ft.table event is raised after all core components and add-ons have executed there draw functions.\r\n\t\t\t\t\t\t * @event FooTable.Table#\"draw.ft.table\"\r\n\t\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\treturn self.raise('draw.ft.table').then(function(){\r\n\t\t\t\t\t\t\treturn self.execute(false, true, 'postdraw').then(function(){\r\n\t\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t\t * The postdraw.ft.table event is raised after all core components and add-ons have executed there postdraw functions.\r\n\t\t\t\t\t\t\t\t * @event FooTable.Table#\"postdraw.ft.table\"\r\n\t\t\t\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\treturn self.raise('postdraw.ft.table');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}).fail(function(err){\r\n\t\t\t\tif (F.is.error(err)){\r\n\t\t\t\t\tconsole.error('FooTable: unhandled error thrown during a draw operation.', err);\r\n\t\t\t\t}\r\n\t\t\t}).always(function(){\r\n\t\t\t\t// Replace the copy that we added above with the modified `self.$el`\r\n\t\t\t\t$elCopy.replaceWith(self.$el);\r\n\t\t\t\tself.$loader.remove();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Executes the specified method with the optional number of parameters on all components and waits for the promise from each to be resolved before executing the next.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {boolean} reverse - Whether or not to execute the component methods in the reverse order to what they were registered in.\r\n\t\t * @param {boolean} enabled - Whether or not to execute the method on enabled components only.\r\n\t\t * @param {string} methodName - The name of the method to execute.\r\n\t\t * @param {*} [param1] - The first parameter for the method.\r\n\t\t * @param {...*} [paramN] - Any number of additional parameters for the method.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t */\r\n\t\texecute: function(reverse, enabled, methodName, param1, paramN){\r\n\t\t\tvar self = this, args = Array.prototype.slice.call(arguments);\r\n\t\t\treverse = args.shift();\r\n\t\t\tenabled = args.shift();\r\n\t\t\tvar components = enabled ? F.arr.get(self.components, function(c){ return c.enabled; }) : self.components.slice(0);\r\n\t\t\targs.unshift(reverse ? components.reverse() : components);\r\n\t\t\treturn self._execute.apply(self, args);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Executes the specified method with the optional number of parameters on all supplied components waiting for the result of each before executing the next.\r\n\t\t * @this FooTable.Table\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {Array.<FooTable.Component>} components - The components to call the method on.\r\n\t\t * @param {string} methodName - The name of the method to execute\r\n\t\t * @param {*} [param1] - The first parameter for the method.\r\n\t\t * @param {...*} [paramN] - Any additional parameters for the method.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t */\r\n\t\t_execute: function(components, methodName, param1, paramN){\r\n\t\t\tif (!components || !components.length) return $.when();\r\n\t\t\tvar self = this, args = Array.prototype.slice.call(arguments),\r\n\t\t\t\tcomponent;\r\n\t\t\tcomponents = args.shift();\r\n\t\t\tmethodName = args.shift();\r\n\t\t\tcomponent = components.shift();\r\n\r\n\t\t\tif (!F.is.fn(component[methodName]))\r\n\t\t\t\treturn self._execute.apply(self, [components, methodName].concat(args));\r\n\r\n\t\t\treturn $.Deferred(function(d){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar result = component[methodName].apply(component, args);\r\n\t\t\t\t\tif (F.is.promise(result)){\r\n\t\t\t\t\t\treturn result.then(d.resolve, d.reject);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\td.resolve(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\td.reject(err);\r\n\t\t\t\t}\r\n\t\t\t}).then(function(){\r\n\t\t\t\treturn self._execute.apply(self, [components, methodName].concat(args));\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Listens to the window resize event and performs a check to see if the breakpoint has changed.\r\n\t\t * @this window\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @fires FooTable.Table#\"resize.ft.table\"\r\n\t\t */\r\n\t\t_onWindowResize: function (e) {\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tif (self._resizeTimeout != null) { clearTimeout(self._resizeTimeout); }\r\n\t\t\tself._resizeTimeout = setTimeout(function () {\r\n\t\t\t\tself._resizeTimeout = null;\r\n\t\t\t\t/**\r\n\t\t\t\t * The resize event is raised a short time after window resize operations cease.\r\n\t\t\t\t * @event FooTable.Table#\"resize.ft.table\"\r\n\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t */\r\n\t\t\t\tself.raise('resize.ft.table').then(function(){\r\n\t\t\t\t\tself.breakpoints.check();\r\n\t\t\t\t});\r\n\t\t\t}, 300);\r\n\t\t}\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.ArrayColumn = F.Column.extend(/** @lends FooTable.ArrayColumn */{\r\n\t\t/**\r\n\t\t * @summary A column to handle Array values.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Column\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this column belongs to.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t */\r\n\t\tconstruct: function(instance, definition) {\r\n\t\t\tthis._super(instance, definition, 'array');\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Parses the supplied value or element to retrieve a column value.\r\n\t\t * @description This is supplied either the cell value or jQuery object to parse. This method will return either the Array containing the values or null.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {(array|null)}\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){ // use jQuery to get the value\r\n\t\t\t\tvar $el = $(valueOrElement), data = $el.data('value'); // .data() will automatically convert a JSON string to an array\r\n\t\t\t\tif (F.is.array(data)) return data;\r\n\t\t\t\tdata = $el.html();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tdata = null;\r\n\t\t\t\t}\r\n\t\t\t\treturn F.is.array(data) ? data : null; // if we have an array return it\r\n\t\t\t}\r\n\t\t\tif (F.is.array(valueOrElement)) return valueOrElement; // if we have an array return it\r\n\t\t\treturn null; // otherwise we have no value so return null\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Formats the column value and creates the HTML seen within a cell.\r\n\t\t * @description This is supplied the value retrieved from the {@link FooTable.ArrayColumn#parser} function and must return a string, HTMLElement or jQuery object.\r\n\t\t * The return value from this function is what is displayed in the cell in the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {?Array} value - The value to format.\r\n\t\t * @param {object} options - The current plugin options.\r\n\t\t * @param {object} rowData - An object containing the current row data.\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\tformatter: function(value, options, rowData){\r\n\t\t\treturn F.is.array(value) ? JSON.stringify(value) : '';\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns.register('array', F.ArrayColumn);\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tif (F.is.undef(window.moment)){\r\n\t\t// The DateColumn requires moment.js to parse and format date values. Goto http://momentjs.com/ to get it.\r\n\t\treturn;\r\n\t}\r\n\r\n\tF.DateColumn = F.Column.extend(/** @lends FooTable.DateColumn */{\r\n\t\t/**\r\n\t\t * The date column class is used to handle date values. This column is dependent on [moment.js]{@link http://momentjs.com/} to provide date parsing and formatting functionality.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Column\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this column belongs to.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t * @returns {FooTable.DateColumn}\r\n\t\t */\r\n\t\tconstruct: function(instance, definition){\r\n\t\t\tthis._super(instance, definition, 'date');\r\n\t\t\t/**\r\n\t\t\t * The format string to use when parsing and formatting dates.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.formatString = F.is.string(definition.formatString) ? definition.formatString : 'MM-DD-YYYY';\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the cell value or jQuery object to parse. Any value can be returned from this method and will be provided to the {@link FooTable.DateColumn#format} function\r\n\t\t * to generate the cell contents.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {(moment|null)}\r\n\t\t * @this FooTable.DateColumn\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){\r\n\t\t\t\tvar data = $(valueOrElement).data('value');\r\n\t\t\t\tvalueOrElement = F.is.defined(data) ? data : $(valueOrElement).text();\r\n\t\t\t\tif (F.is.string(valueOrElement)) valueOrElement = isNaN(valueOrElement) ? valueOrElement : +valueOrElement;\r\n\t\t\t}\r\n\t\t\tif (F.is.date(valueOrElement)) return moment(valueOrElement);\r\n\t\t\tif (F.is.object(valueOrElement) && F.is.boolean(valueOrElement._isAMomentObject)) return valueOrElement;\r\n\t\t\tif (F.is.string(valueOrElement)){\r\n\t\t\t\t// if it looks like a number convert it and do nothing else otherwise create a new moment using the string value and formatString\r\n\t\t\t\tif (isNaN(valueOrElement)){\r\n\t\t\t\t\treturn moment(valueOrElement, this.formatString);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalueOrElement = +valueOrElement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (F.is.number(valueOrElement)){\r\n\t\t\t\treturn moment(valueOrElement);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied the value retrieved from the {@link FooTable.DateColumn#parser} function and must return a string, HTMLElement or jQuery object.\r\n\t\t * The return value from this function is what is displayed in the cell in the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {*} value - The value to format.\r\n\t\t * @param {object} options - The current plugin options.\r\n\t\t * @param {object} rowData - An object containing the current row data.\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t * @this FooTable.DateColumn\r\n\t\t */\r\n\t\tformatter: function(value, options, rowData){\r\n\t\t\treturn F.is.object(value) && F.is.boolean(value._isAMomentObject) && value.isValid() ? value.format(this.formatString) : '';\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the cell value or jQuery object to parse. A string value must be returned from this method and will be used during filtering operations.\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {string}\r\n\t\t * @this FooTable.DateColumn\r\n\t\t */\r\n\t\tfilterValue: function(valueOrElement){\r\n\t\t\t// if we have an element or a jQuery object use jQuery to get the value\r\n\t\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)) valueOrElement = $(valueOrElement).data('filterValue') || $(valueOrElement).text();\r\n\t\t\t// if options are supplied with the value\r\n\t\t\tif (F.is.hash(valueOrElement) && F.is.hash(valueOrElement.options)){\r\n\t\t\t\tif (F.is.string(valueOrElement.options.filterValue)) valueOrElement = valueOrElement.options.filterValue;\r\n\t\t\t\tif (F.is.defined(valueOrElement.value)) valueOrElement = valueOrElement.value;\r\n\t\t\t}\r\n\t\t\t// if the value is a moment object just return the formatted value\r\n\t\t\tif (F.is.object(valueOrElement) && F.is.boolean(valueOrElement._isAMomentObject)) return valueOrElement.format(this.formatString);\r\n\t\t\t// if its a string\r\n\t\t\tif (F.is.string(valueOrElement)){\r\n\t\t\t\t// if its not a number return it\r\n\t\t\t\tif (isNaN(valueOrElement)){\r\n\t\t\t\t\treturn valueOrElement;\r\n\t\t\t\t} else { // otherwise convert it and carry on\r\n\t\t\t\t\tvalueOrElement = +valueOrElement;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if the value is a number or date convert to a moment object and return the formatted result.\r\n\t\t\tif (F.is.number(valueOrElement) || F.is.date(valueOrElement)){\r\n\t\t\t\treturn moment(valueOrElement).format(this.formatString);\r\n\t\t\t}\r\n\t\t\t// try use the native toString of the value if its not undefined or null\r\n\t\t\tif (F.is.defined(valueOrElement) && valueOrElement != null) return valueOrElement+'';\r\n\t\t\treturn ''; // otherwise we have no value so return an empty string\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns.register('date', F.DateColumn);\r\n\r\n})(jQuery, FooTable);\r\n\r\n(function($, F){\r\n\r\n\tF.HTMLColumn = F.Column.extend(/** @lends FooTable.HTMLColumn */{\r\n\t\t/**\r\n\t\t * The HTML column class is used to handle any raw HTML columns.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Column\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this column belongs to.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t * @returns {FooTable.HTMLColumn}\r\n\t\t */\r\n\t\tconstruct: function(instance, definition){\r\n\t\t\tthis._super(instance, definition, 'html');\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the cell value or jQuery object to parse. Any value can be returned from this method and will be provided to the {@link FooTable.HTMLColumn#format} function\r\n\t\t * to generate the cell contents.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {(jQuery|null)}\r\n\t\t * @this FooTable.HTMLColumn\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.string(valueOrElement)) valueOrElement = $($.trim(valueOrElement));\r\n\t\t\tif (F.is.element(valueOrElement)) valueOrElement = $(valueOrElement);\r\n\t\t\tif (F.is.jq(valueOrElement)){\r\n\t\t\t\tvar tagName = valueOrElement.prop('tagName').toLowerCase();\r\n\t\t\t\tif (tagName == 'td' || tagName == 'th'){\r\n\t\t\t\t\tvar data = valueOrElement.data('value');\r\n\t\t\t\t\treturn F.is.defined(data) ? data : valueOrElement.contents();\r\n\t\t\t\t}\r\n\t\t\t\treturn valueOrElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns.register('html', F.HTMLColumn);\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.NumberColumn = F.Column.extend(/** @lends FooTable.NumberColumn */{\r\n\t\t/**\r\n\t\t * The number column class is used to handle simple number columns.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Column\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this column belongs to.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t * @returns {FooTable.NumberColumn}\r\n\t\t */\r\n\t\tconstruct: function(instance, definition){\r\n\t\t\tthis._super(instance, definition, 'number');\r\n\t\t\tthis.decimalSeparator = F.is.string(definition.decimalSeparator) ? definition.decimalSeparator : '.';\r\n\t\t\tthis.thousandSeparator = F.is.string(definition.thousandSeparator) ? definition.thousandSeparator : ',';\r\n\t\t\tthis.decimalSeparatorRegex = new RegExp(F.str.escapeRegExp(this.decimalSeparator), 'g');\r\n\t\t\tthis.thousandSeparatorRegex = new RegExp(F.str.escapeRegExp(this.thousandSeparator), 'g');\r\n\t\t\tthis.cleanRegex = new RegExp('[^\\-0-9' + F.str.escapeRegExp(this.decimalSeparator) + ']', 'g');\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the cell value or jQuery object to parse. Any value can be returned from this method and will be provided to the {@link FooTable.Column#formatter} function\r\n\t\t * to generate the cell contents.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {(number|null)}\r\n\t\t * @this FooTable.NumberColumn\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){\r\n\t\t\t\tvar data = $(valueOrElement).data('value');\r\n\t\t\t\tvalueOrElement = F.is.defined(data) ? data : $(valueOrElement).text().replace(this.cleanRegex, '');\r\n\t\t\t}\r\n\t\t\tif (F.is.string(valueOrElement)){\r\n\t\t\t\tvalueOrElement = valueOrElement.replace(this.thousandSeparatorRegex, '').replace(this.decimalSeparatorRegex, '.');\r\n\t\t\t\tvalueOrElement = parseFloat(valueOrElement);\r\n\t\t\t}\r\n\t\t\tif (F.is.number(valueOrElement)) return valueOrElement;\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied the value retrieved from the {@link FooTable.NumberColumn#parse} function and must return a string, HTMLElement or jQuery object.\r\n\t\t * The return value from this function is what is displayed in the cell in the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {number} value - The value to format.\r\n\t\t * @param {object} options - The current plugin options.\r\n\t\t * @param {object} rowData - An object containing the current row data.\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t * @this FooTable.NumberColumn\r\n\t\t */\r\n\t\tformatter: function(value, options, rowData){\r\n\t\t\tif (value == null) return '';\r\n\t\t\tvar s = (value + '').split('.');\r\n\t\t\tif (s.length == 2 && s[0].length > 3) {\r\n\t\t\t\ts[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, this.thousandSeparator);\r\n\t\t\t}\r\n\t\t\treturn s.join(this.decimalSeparator);\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns.register('number', F.NumberColumn);\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.ObjectColumn = F.Column.extend(/** @lends FooTable.ObjectColumn */{\r\n\t\t/**\r\n\t\t * @summary A column to handle Object values.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Column\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this column belongs to.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t */\r\n\t\tconstruct: function(instance, definition) {\r\n\t\t\tthis._super(instance, definition, 'object');\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Parses the supplied value or element to retrieve a column value.\r\n\t\t * @description This is supplied either the cell value or jQuery object to parse. This method will return either the Object containing the values or null.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {(object|null)}\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){ // use jQuery to get the value\r\n\t\t\t\tvar $el = $(valueOrElement), data = $el.data('value'); // .data() will automatically convert a JSON string to an object\r\n\t\t\t\tif (F.is.object(data)) return data;\r\n\t\t\t\tdata = $el.html();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tdata = null;\r\n\t\t\t\t}\r\n\t\t\t\treturn F.is.object(data) ? data : null; // if we have an object return it\r\n\t\t\t}\r\n\t\t\tif (F.is.object(valueOrElement)) return valueOrElement; // if we have an object return it\r\n\t\t\treturn null; // otherwise we have no value so return null\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Formats the column value and creates the HTML seen within a cell.\r\n\t\t * @description This is supplied the value retrieved from the {@link FooTable.ObjectColumn#parser} function and must return a string, HTMLElement or jQuery object.\r\n\t\t * The return value from this function is what is displayed in the cell in the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {*} value - The value to format.\r\n\t\t * @param {object} options - The current plugin options.\r\n\t\t * @param {object} rowData - An object containing the current row data.\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\tformatter: function(value, options, rowData){\r\n\t\t\treturn F.is.object(value) ? JSON.stringify(value) : '';\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns.register('object', F.ObjectColumn);\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\tF.Breakpoint = F.Class.extend(/** @lends FooTable.Breakpoint */{\r\n\t\t/**\r\n\t\t * The breakpoint class containing the name and maximum width for the breakpoint.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {string} name - The name of the breakpoint. Must contain no spaces or special characters.\r\n\t\t * @param {number} width - The width of the breakpoint in pixels.\r\n\t\t * @returns {FooTable.Breakpoint}\r\n\t\t */\r\n\t\tconstruct: function(name, width){\r\n\t\t\t/**\r\n\t\t\t * The name of the breakpoint.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.name = name;\r\n\t\t\t/**\r\n\t\t\t * The maximum width of the breakpoint in pixels.\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.width = width;\r\n\t\t}\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\tF.Breakpoints = F.Component.extend(/** @lends FooTable.Breakpoints */{\r\n\t\t/**\r\n\t\t * Contains the logic to calculate and apply breakpoints for the plugin.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table -  The parent {@link FooTable.Table} this component belongs to.\r\n\t\t * @returns {FooTable.Breakpoints}\r\n\t\t */\r\n\t\tconstruct: function(table){\r\n\t\t\t// call the base class constructor\r\n\t\t\tthis._super(table, true);\r\n\r\n\t\t\t/* PROTECTED */\r\n\t\t\t/**\r\n\t\t\t * This provides a shortcut to the {@link FooTable.Table#options} object.\r\n\t\t\t * @protected\r\n\t\t\t * @type {FooTable.Table#options}\r\n\t\t\t */\r\n\t\t\tthis.o = table.o;\r\n\r\n\t\t\t/* PUBLIC */\r\n\t\t\t/**\r\n\t\t\t * The current breakpoint.\r\n\t\t\t * @type {FooTable.Breakpoint}\r\n\t\t\t */\r\n\t\t\tthis.current = null;\r\n\t\t\t/**\r\n\t\t\t * An array of {@link FooTable.Breakpoint} objects created from parsing the options.\r\n\t\t\t * @type {Array.<FooTable.Breakpoint>}\r\n\t\t\t */\r\n\t\t\tthis.array = [];\r\n\t\t\t/**\r\n\t\t\t * Whether or not breakpoints cascade. When set to true all breakpoints larger than the current will be hidden along with it.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.cascade = this.o.cascade;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to calculate breakpoints on the width of the parent element rather than the viewport.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.useParentWidth = this.o.useParentWidth;\r\n\t\t\t/**\r\n\t\t\t * This value is updated each time the current breakpoint changes and contains a space delimited string of the names of the current breakpoint and all those smaller than it.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.hidden = null;\r\n\r\n\t\t\t/* PRIVATE */\r\n\t\t\t/**\r\n\t\t\t * This value is set once when the {@link FooTable.Breakpoints#array} is generated and contains a space delimited string of all the breakpoint class names.\r\n\t\t\t * @type {string}\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\tthis._classNames = '';\r\n\r\n\t\t\t// check if a function was supplied to override the default getWidth\r\n\t\t\tthis.getWidth = F.checkFnValue(this, this.o.getWidth, this.getWidth);\r\n\t\t},\r\n\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * Checks the supplied data and options for the breakpoints component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the parent table.\r\n\t\t * @fires FooTable.Breakpoints#\"preinit.ft.breakpoints\"\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.breakpoints event is raised before any UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Breakpoints#\"preinit.ft.breakpoints\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\treturn this.ft.raise('preinit.ft.breakpoints', [data]).then(function(){\r\n\t\t\t\tself.cascade = F.is.boolean(data.cascade) ? data.cascade : self.cascade;\r\n\t\t\t\tself.o.breakpoints = F.is.hash(data.breakpoints) ? data.breakpoints : self.o.breakpoints;\r\n\t\t\t\tself.getWidth = F.checkFnValue(self, data.getWidth, self.getWidth);\r\n\t\t\t\tif (self.o.breakpoints == null) self.o.breakpoints = { \"xs\": 480, \"sm\": 768, \"md\": 992, \"lg\": 1200 };\r\n\t\t\t\t// Create a nice friendly array to work with out of the breakpoints object.\r\n\t\t\t\tfor (var name in self.o.breakpoints) {\r\n\t\t\t\t\tif (!self.o.breakpoints.hasOwnProperty(name)) continue;\r\n\t\t\t\t\tself.array.push(new F.Breakpoint(name, self.o.breakpoints[name]));\r\n\t\t\t\t\tself._classNames += 'breakpoint-' + name + ' ';\r\n\t\t\t\t}\r\n\t\t\t\t// Sort the breakpoints so the largest is checked first\r\n\t\t\t\tself.array.sort(function (a, b) {\r\n\t\t\t\t\treturn b.width - a.width;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the class parsing the options into a sorted array of {@link FooTable.Breakpoint} objects.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Breakpoints#\"init.ft.breakpoints\"\r\n\t\t */\r\n\t\tinit: function(){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The init.ft.breakpoints event is raised before any UI is generated.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Breakpoints#\"init.ft.breakpoints\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\treturn this.ft.raise('init.ft.breakpoints').then(function(){\r\n\t\t\t\tself.current = self.get();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Whenever the table is drawn this ensures the correct breakpoint class is applied to the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tdraw: function(){\r\n\t\t\tthis.ft.$el.removeClass(this._classNames).addClass('breakpoint-' + this.current.name);\r\n\t\t},\r\n\r\n\t\t/* PUBLIC */\r\n\t\t/**\r\n\t\t * Calculates the current breakpoint from the {@link FooTable.Breakpoints#array} and sets the {@link FooTable.Breakpoints#current} property.\r\n\t\t * @instance\r\n\t\t * @returns {FooTable.Breakpoint}\r\n\t\t */\r\n\t\tcalculate: function(){\r\n\t\t\tvar self = this, current = null, hidden = [], breakpoint, prev = null, width = self.getWidth();\r\n\t\t\tfor (var i = 0, len = self.array.length; i < len; i++) {\r\n\t\t\t\tbreakpoint = self.array[i];\r\n\t\t\t\t// if the width is smaller than the smallest breakpoint set the smallest as the current.\r\n\t\t\t\t// if the width is larger than the largest breakpoint set the largest as the current.\r\n\t\t\t\t// otherwise if the width is somewhere in between check all breakpoints testing if the width\r\n\t\t\t\t// is greater than the current but smaller than the previous.\r\n\t\t\t\tif ((!current && i == len -1)\r\n\t\t\t\t\t|| (width >= breakpoint.width && (prev instanceof F.Breakpoint ? width < prev.width : true))) {\r\n\t\t\t\t\tcurrent = breakpoint;\r\n\t\t\t\t}\r\n\t\t\t\tif (!current) hidden.push(breakpoint.name);\r\n\t\t\t\tprev = breakpoint;\r\n\t\t\t}\r\n\t\t\thidden.push(current.name);\r\n\t\t\tself.hidden = hidden.join(' ');\r\n\t\t\treturn current;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Supplied a columns breakpoints this returns a boolean value indicating whether or not the column is visible.\r\n\t\t * @param {string} breakpoints - A space separated string of breakpoint names.\r\n\t\t * @returns {boolean}\r\n\t\t */\r\n\t\tvisible: function(breakpoints){\r\n\t\t\tif (F.is.emptyString(breakpoints)) return true;\r\n\t\t\tif (breakpoints === 'all') return false;\r\n\t\t\tvar parts = breakpoints.split(' '), i = 0, len = parts.length;\r\n\t\t\tfor (; i < len; i++){\r\n\t\t\t\tif (this.cascade ? F.str.containsWord(this.hidden, parts[i]) : parts[i] == this.current.name) return false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs a check between the current breakpoint and the previous breakpoint and performs a redraw if they differ.\r\n\t\t * @instance\r\n\t\t * @fires FooTable.Breakpoints#\"before.ft.breakpoints\"\r\n\t\t * @fires FooTable.Breakpoints#\"after.ft.breakpoints\"\r\n\t\t */\r\n\t\tcheck: function(){\r\n\t\t\tvar self = this, bp = self.get();\r\n\t\t\tif (!(bp instanceof F.Breakpoint)\r\n\t\t\t\t|| bp == self.current)\r\n\t\t\t\treturn;\r\n\r\n\t\t\t/**\r\n\t\t\t * The before.ft.breakpoints event is raised if the breakpoint has changed but before the UI is redrawn and is supplied both the current breakpoint\r\n\t\t\t * and the next \"new\" one that is about to be applied.\r\n\t\t\t * Calling preventDefault on this event will prevent the next breakpoint from being applied.\r\n\t\t\t * @event FooTable.Breakpoints#\"before.ft.breakpoints\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {FooTable.Breakpoint} current - The current breakpoint.\r\n\t\t\t * @param {FooTable.Breakpoint} next - The breakpoint that is about to be applied.\r\n\t\t\t */\r\n\t\t\tself.ft.raise('before.ft.breakpoints', [self.current, bp]).then(function(){\r\n\t\t\t\tvar previous = self.current;\r\n\t\t\t\tself.current = bp;\r\n\t\t\t\treturn self.ft.draw().then(function(){\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * The after.ft.breakpoints event is raised after the breakpoint has changed and the UI is redrawn and is supplied both the \"new\" current breakpoint\r\n\t\t\t\t\t * and the previous one that was replaced.\r\n\t\t\t\t\t * @event FooTable.Breakpoints#\"after.ft.breakpoints\"\r\n\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t * @param {FooTable.Breakpoint} current - The current breakpoint.\r\n\t\t\t\t\t * @param {FooTable.Breakpoint} previous - The breakpoint that was just replaced.\r\n\t\t\t\t\t */\r\n\t\t\t\t\tself.ft.raise('after.ft.breakpoints', [self.current, previous]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Attempts to return a {@link FooTable.Breakpoint} instance when passed a {@link FooTable.Breakpoint},\r\n\t\t * the {@link FooTable.Breakpoint#name} string or if nothing is supplied the current breakpoint.\r\n\t\t * @instance\r\n\t\t * @param {(FooTable.Breakpoint|string|number)} [breakpoint] - The breakpoint to retrieve.\r\n\t\t * @returns {FooTable.Breakpoint}\r\n\t\t */\r\n\t\tget: function(breakpoint){\r\n\t\t\tif (F.is.undef(breakpoint)) return this.calculate();\r\n\t\t\tif (breakpoint instanceof F.Breakpoint) return breakpoint;\r\n\t\t\tif (F.is.string(breakpoint)) return F.arr.first(this.array, function (bp) { return bp.name == breakpoint; });\r\n\t\t\tif (F.is.number(breakpoint)) return breakpoint >= 0 && breakpoint < this.array.length ? this.array[breakpoint] : null;\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets the width used to determine breakpoints whether it be from the viewport, parent or a custom function.\r\n\t\t * @instance\r\n\t\t * @returns {number}\r\n\t\t */\r\n\t\tgetWidth: function(){\r\n\t\t\tif (F.is.fn(this.o.getWidth)) return this.o.getWidth(this.ft);\r\n\t\t\tif (this.useParentWidth == true) return this.getParentWidth();\r\n\t\t\treturn this.getViewportWidth();\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets the tables direct parents width.\r\n\t\t * @instance\r\n\t\t * @returns {number}\r\n\t\t */\r\n\t\tgetParentWidth: function(){\r\n\t\t\treturn this.ft.$el.parent().width();\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets the current viewport width.\r\n\t\t * @instance\r\n\t\t * @returns {number}\r\n\t\t */\r\n\t\tgetViewportWidth: function(){\r\n\t\t\treturn Math.max(document.documentElement.clientWidth, window.innerWidth, 0);\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('breakpoints', F.Breakpoints, 1000);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * A space delimited string of breakpoint names that specify when the column will be hidden. You can also specify \"all\" to make a column permanently display in an expandable detail row.\r\n\t * @type {string}\r\n\t * @default null\r\n\t * @example <caption>The below shows how this value would be set</caption>\r\n\t * breakpoints: \"md\"\r\n\t */\r\n\tF.Column.prototype.breakpoints = null;\r\n\r\n\tF.Column.prototype.__breakpoints_define__ = function(definition){\r\n\t\tthis.breakpoints = F.is.emptyString(definition.breakpoints) ? null : definition.breakpoints;\r\n\t};\r\n\r\n\tF.Column.extend('define', function(definition){\r\n\t\tthis._super(definition);\r\n\t\tthis.__breakpoints_define__(definition);\r\n\t});\r\n})(FooTable);\r\n(function(F){\r\n\t/**\r\n\t * An object containing the breakpoints for the plugin.\r\n\t * @type {object.<string, number>}\r\n\t * @default { \"xs\": 480, \"sm\": 768, \"md\": 992, \"lg\": 1200 }\r\n\t */\r\n\tF.Defaults.prototype.breakpoints = null;\r\n\r\n\t/**\r\n\t * Whether or not breakpoints cascade. When set to true all breakpoints larger than the current will also be hidden along with it.\r\n\t * @type {boolean}\r\n\t * @default false\r\n\t */\r\n\tF.Defaults.prototype.cascade = false;\r\n\r\n\t/**\r\n\t * Whether or not to calculate breakpoints on the width of the parent element rather than the viewport.\r\n\t * @type {boolean}\r\n\t * @default false\r\n\t */\r\n\tF.Defaults.prototype.useParentWidth = false;\r\n\r\n\t/**\r\n\t * A function used to override the default getWidth function with a custom one.\r\n\t * @type {function}\r\n\t * @default null\r\n\t * @example <caption>The below shows what the default getWidth function would look like.</caption>\r\n\t * getWidth: function(instance){\r\n\t * \tif (instance.o.useParentWidth == true) return instance.$el.parent().width();\r\n\t * \treturn instance.breakpoints.getViewportWidth();\r\n\t * }\r\n\t */\r\n\tF.Defaults.prototype.getWidth = null;\r\n})(FooTable);\r\n(function($, F){\r\n\tF.Columns = F.Component.extend(/** @lends FooTable.Columns */{\r\n\t\t/**\r\n\t\t * The columns class contains all the logic for handling columns.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table -  The parent {@link FooTable.Table} this component belongs to.\r\n\t\t * @returns {FooTable.Columns}\r\n\t\t */\r\n\t\tconstruct: function(table){\r\n\t\t\t// call the base class constructor\r\n\t\t\tthis._super(table, true);\r\n\r\n\t\t\t/* PROTECTED */\r\n\t\t\t/**\r\n\t\t\t * This provides a shortcut to the {@link FooTable.Table#options} object.\r\n\t\t\t * @protected\r\n\t\t\t * @type {FooTable.Table#options}\r\n\t\t\t */\r\n\t\t\tthis.o = table.o;\r\n\r\n\t\t\t/* PUBLIC */\r\n\t\t\t/**\r\n\t\t\t * An array of {@link FooTable.Column} objects created from parsing the options and/or DOM.\r\n\t\t\t * @type {Array.<FooTable.Column>}\r\n\t\t\t */\r\n\t\t\tthis.array = [];\r\n\t\t\t/**\r\n\t\t\t * The jQuery header row object.\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$header = null;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to display the header row.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.showHeader = table.o.showHeader;\r\n\r\n\t\t\tthis._fromHTML = F.is.emptyArray(table.o.columns) && !F.is.promise(table.o.columns);\r\n\t\t},\r\n\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * This parses the columns from either the tables rows or the supplied options.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The tables jQuery data object.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @this FooTable.Columns\r\n\t\t */\r\n\t\tparse: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\treturn $.Deferred(function(d){\r\n\t\t\t\tfunction merge(cols1, cols2){\r\n\t\t\t\t\tvar merged = [];\r\n\t\t\t\t\t// check if either of the arrays is empty as it can save us having to merge them by index.\r\n\t\t\t\t\tif (cols1.length == 0 || cols2.length == 0){\r\n\t\t\t\t\t\tmerged = cols1.concat(cols2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// at this point we have two arrays of column definitions, we now need to merge them based on there index properties\r\n\t\t\t\t\t\t// first figure out the highest column index provided so we can loop that many times to merge all columns and provide\r\n\t\t\t\t\t\t// defaults where nothing was specified (fill in the gaps in the array as it were).\r\n\t\t\t\t\t\tvar highest = 0;\r\n\t\t\t\t\t\tF.arr.each(cols1.concat(cols2), function(c){\r\n\t\t\t\t\t\t\tif (c.index > highest) highest = c.index;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\thighest++;\r\n\t\t\t\t\t\tfor (var i = 0, cols1_c, cols2_c; i < highest; i++){\r\n\t\t\t\t\t\t\tcols1_c = {};\r\n\t\t\t\t\t\t\tF.arr.each(cols1, function(c){\r\n\t\t\t\t\t\t\t\tif (c.index == i){\r\n\t\t\t\t\t\t\t\t\tcols1_c = c;\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tcols2_c = {};\r\n\t\t\t\t\t\t\tF.arr.each(cols2, function(c){\r\n\t\t\t\t\t\t\t\tif (c.index == i){\r\n\t\t\t\t\t\t\t\t\tcols2_c = c;\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tmerged.push($.extend(true, {}, cols1_c, cols2_c));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn merged;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar json = [], html = [];\r\n\t\t\t\t// get the column options from the content\r\n\t\t\t\tvar $header = self.ft.$el.find('tr.footable-header, thead > tr:last:has([data-breakpoints]), tbody > tr:first:has([data-breakpoints]), thead > tr:last, tbody > tr:first').first(), $cell, cdata;\r\n\t\t\t\tif ($header.length > 0){\r\n\t\t\t\t\tvar virtual = $header.parent().is('tbody') && $header.children().length == $header.children('td').length;\r\n\t\t\t\t\tif (!virtual) self.$header = $header.addClass('footable-header');\r\n\t\t\t\t\t$header.children('td,th').each(function(i, cell){\r\n\t\t\t\t\t\t$cell = $(cell);\r\n\t\t\t\t\t\tcdata = $cell.data();\r\n\t\t\t\t\t\tcdata.index = i;\r\n\t\t\t\t\t\tcdata.$el = $cell;\r\n\t\t\t\t\t\tcdata.virtual = virtual;\r\n\t\t\t\t\t\thtml.push(cdata);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (virtual) self.showHeader = false;\r\n\t\t\t\t}\r\n\t\t\t\t// get the supplied column options\r\n\t\t\t\tif (F.is.array(self.o.columns) && !F.is.emptyArray(self.o.columns)){\r\n\t\t\t\t\tF.arr.each(self.o.columns, function(c, i){\r\n\t\t\t\t\t\tc.index = i;\r\n\t\t\t\t\t\tjson.push(c);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tself.parseFinalize(d, merge(json, html));\r\n\t\t\t\t} else if (F.is.promise(self.o.columns)){\r\n\t\t\t\t\tself.o.columns.then(function(cols){\r\n\t\t\t\t\t\tF.arr.each(cols, function(c, i){\r\n\t\t\t\t\t\t\tc.index = i;\r\n\t\t\t\t\t\t\tjson.push(c);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.parseFinalize(d, merge(json, html));\r\n\t\t\t\t\t}, function(xhr){\r\n\t\t\t\t\t\td.reject(Error('Columns ajax request error: ' + xhr.status + ' (' + xhr.statusText + ')'));\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.parseFinalize(d, merge(json, html));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Used to finalize the parsing of columns it is supplied the parse deferred object which must be resolved with an array of {@link FooTable.Column} objects\r\n\t\t * or rejected with an error.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {jQuery.Deferred} deferred - The deferred object used for parsing.\r\n\t\t * @param {Array.<object>} cols - An array of all merged column definitions.\r\n\t\t */\r\n\t\tparseFinalize: function(deferred, cols){\r\n\t\t\t// we now have a merged array of all column definitions supplied to the plugin, time to make the objects.\r\n\t\t\tvar self = this, columns = [], column;\r\n\t\t\tF.arr.each(cols, function(def){\r\n\t\t\t\t// if we have a column registered using the definition type then create an instance of that column otherwise just create a default text column.\r\n\t\t\t\tif (column = F.columns.contains(def.type) ? F.columns.make(def.type, self.ft, def) : new F.Column(self.ft, def))\r\n\t\t\t\t\tcolumns.push(column);\r\n\t\t\t});\r\n\t\t\tif (F.is.emptyArray(columns)){\r\n\t\t\t\tdeferred.reject(Error(\"No columns supplied.\"));\r\n\t\t\t} else {\r\n\t\t\t\t// make sure to sort by the column index as the merge process may have mixed them up\r\n\t\t\t\tcolumns.sort(function(a, b){ return a.index - b.index; });\r\n\t\t\t\tdeferred.resolve(columns);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * The columns preinit method is used to parse and check the column options supplied from both static content and through the constructor.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the root table element.\r\n\t\t * @this FooTable.Columns\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.columns event is raised before any UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Columns#\"preinit.ft.columns\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('preinit.ft.columns', [data]).then(function(){\r\n\t\t\t\treturn self.parse(data).then(function(columns){\r\n\t\t\t\t\tself.array = columns;\r\n\t\t\t\t\tself.showHeader = F.is.boolean(data.showHeader) ? data.showHeader : self.showHeader;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the columns creating the table header if required.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Columns#\"init.ft.columns\"\r\n\t\t * @this FooTable.Columns\r\n\t\t */\r\n\t\tinit: function(){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The init.ft.columns event is raised after the header row is created/parsed for column data.\r\n\t\t\t * @event FooTable.Columns#\"init.ft.columns\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} instance - The instance of the plugin raising the event.\r\n\t\t\t * @param {Array.<FooTable.Column>} columns - The array of {@link FooTable.Column} objects parsed from the options and/or DOM.\r\n\t\t\t */\r\n\t\t\treturn this.ft.raise('init.ft.columns', [ self.array ]).then(function(){\r\n\t\t\t\tself.$create();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys the columns component removing any UI generated from the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Columns#\"destroy.ft.columns\"\r\n\t\t */\r\n\t\tdestroy: function(){\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.columns event is raised before its UI is removed.\r\n\t\t\t * Calling preventDefault on this event will prevent the component from being destroyed.\r\n\t\t\t * @event FooTable.Columns#\"destroy.ft.columns\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('destroy.ft.columns').then(function(){\r\n\t\t\t\tif (!self._fromHTML) self.$header.remove();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * The predraw method called from within the {@link FooTable.Table#draw} method.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Columns\r\n\t\t */\r\n\t\tpredraw: function(){\r\n\t\t\tvar self = this, first = true;\r\n\t\t\tself.visibleColspan = 0;\r\n\t\t\tself.firstVisibleIndex = 0;\r\n\t\t\tself.lastVisibleIndex = 0;\r\n\t\t\tself.hasHidden = false;\r\n\t\t\tF.arr.each(self.array, function(col){\r\n\t\t\t\tcol.hidden = !self.ft.breakpoints.visible(col.breakpoints);\r\n\t\t\t\tif (!col.hidden && col.visible){\r\n\t\t\t\t\tif (first){\r\n\t\t\t\t\t\tself.firstVisibleIndex = col.index;\r\n\t\t\t\t\t\tfirst = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.lastVisibleIndex = col.index;\r\n\t\t\t\t\tself.visibleColspan++;\r\n\t\t\t\t}\r\n\t\t\t\tif (col.hidden) self.hasHidden = true;\r\n\t\t\t});\r\n\t\t\tself.ft.$el.toggleClass('breakpoint', self.hasHidden);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the actual drawing of the columns, hiding or displaying them depending on there breakpoints.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Columns\r\n\t\t */\r\n\t\tdraw: function(){\r\n\t\t\tF.arr.each(this.array, function(col){\r\n\t\t\t\tcol.$el.css('display', (col.hidden || !col.visible  ? 'none' : 'table-cell'));\r\n\t\t\t});\r\n\t\t\tif (!this.showHeader && F.is.jq(this.$header.parent())){\r\n\t\t\t\tthis.$header.detach();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the header row for the table from the parsed column definitions.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Columns\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\tvar self = this;\r\n\t\t\tself.$header = F.is.jq(self.$header) ? self.$header : $('<tr/>', {'class': 'footable-header'});\r\n\t\t\tself.$header.children('th,td').detach();\r\n\t\t\tF.arr.each(self.array, function(col){\r\n\t\t\t\tself.$header.append(col.$el);\r\n\t\t\t});\r\n\t\t\tif (self.showHeader && !F.is.jq(self.$header.parent())){\r\n\t\t\t\tself.ft.$el.children('thead').append(self.$header);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Attempts to return a {@link FooTable.Column} instance when passed the {@link FooTable.Column} instance, the {@link FooTable.Column#name} string or the {@link FooTable.Column#index} number.\r\n\t\t * If supplied a function this will return an array by iterating all columns passing the index and column itself to the supplied callback as arguments.\r\n\t\t * Returning true in the callback will include the column in the result.\r\n\t\t * @instance\r\n\t\t * @param {(FooTable.Column|string|number|function)} column - The column to retrieve.\r\n\t\t * @returns {(Array.<FooTable.Column>|FooTable.Column|null)} The column if one is found otherwise it returns NULL.\r\n\t\t * @example <caption>This example shows retrieving a column by name assuming a column called \"id\" exists. The <code>columns</code> object is an instance of {@link FooTable.Columns}.</caption>\r\n\t\t * var column = columns.get('id');\r\n\t\t * if (column instanceof FooTable.Column){\r\n\t\t * \t// found the \"id\" column\r\n\t\t * } else {\r\n\t\t * \t// no column with a name of \"id\" exists\r\n\t\t * }\r\n\t\t * // to get an array of all hidden columns\r\n\t\t * var columns = columns.get(function(col){\r\n\t\t *  return col.hidden;\r\n\t\t * });\r\n\t\t */\r\n\t\tget: function(column){\r\n\t\t\tif (column instanceof F.Column) return column;\r\n\t\t\tif (F.is.string(column)) return F.arr.first(this.array, function (col) { return col.name == column; });\r\n\t\t\tif (F.is.number(column)) return F.arr.first(this.array, function (col) { return col.index == column; });\r\n\t\t\tif (F.is.fn(column)) return F.arr.get(this.array, column);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Takes an array of column names, index's or actual {@link FooTable.Column} and ensures that an array of only {@link FooTable.Column} is returned.\r\n\t\t * @instance\r\n\t\t * @param {(Array.<string>|Array.<number>|Array.<FooTable.Column>)} columns - The array of column names, index's or {@link FooTable.Column} to check.\r\n\t\t * @returns {Array.<FooTable.Column>}\r\n\t\t */\r\n\t\tensure: function(columns){\r\n\t\t\tvar self = this, result = [];\r\n\t\t\tif (!F.is.array(columns)) return result;\r\n\t\t\tF.arr.each(columns, function(name){\r\n\t\t\t\tresult.push(self.get(name));\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('columns', F.Columns, 900);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * An array containing the column options or a jQuery promise that resolves returning the columns. The index of the definitions must match the index of each column as it should appear in the table. For more information on the options available see the {@link FooTable.Column} object.\r\n\t * @type {(Array.<object>|jQuery.Promise)}\r\n\t * @default []\r\n\t * @example <caption>The below shows column definitions for a row defined as <code>{ id: Number, name: String, age: Number }</code>. The ID column has a fixed width, the table is initially sorted on the Name column and the Age column will be hidden on phones.</caption>\r\n\t * columns: [\r\n\t * \t{ name: 'id', title: 'ID', type: 'number' },\r\n\t *\t{ name: 'name', title: 'Name', sorted: true, direction: 'ASC' }\r\n\t *\t{ name: 'age', title: 'Age', type: 'number', breakpoints: 'xs' }\r\n\t * ]\r\n\t */\r\n\tF.Defaults.prototype.columns = [];\r\n\r\n\t/**\r\n\t * Specifies whether or not the column headers should be displayed.\r\n\t * @type {boolean}\r\n\t * @default true\r\n\t */\r\n\tF.Defaults.prototype.showHeader = true;\r\n})(FooTable);\r\n(function ($, F) {\r\n\tF.Rows = F.Component.extend(/** @lends FooTable.Rows */{\r\n\t\t/**\r\n\t\t * The rows class contains all the logic for handling rows.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table -  The parent {@link FooTable.Table} this component belongs to.\r\n\t\t * @returns {FooTable.Rows}\r\n\t\t */\r\n\t\tconstruct: function (table) {\r\n\t\t\t// call the base class constructor\r\n\t\t\tthis._super(table, true);\r\n\r\n\t\t\t/**\r\n\t\t\t * This provides a shortcut to the {@link FooTable.Table#options} object.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {FooTable.Table#options}\r\n\t\t\t */\r\n\t\t\tthis.o = table.o;\r\n\t\t\t/**\r\n\t\t\t * The current working array of {@link FooTable.Row} objects.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {Array.<FooTable.Row>}\r\n\t\t\t * @default []\r\n\t\t\t */\r\n\t\t\tthis.array = [];\r\n\t\t\t/**\r\n\t\t\t * The base array of rows parsed from either the DOM or the constructor options.\r\n\t\t\t * The {@link FooTable.Rows#current} member is populated with a shallow clone of this array\r\n\t\t\t * during the predraw operation before any core or custom components are executed.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {Array.<FooTable.Row>}\r\n\t\t\t * @default []\r\n\t\t\t */\r\n\t\t\tthis.all = [];\r\n\t\t\t/**\r\n\t\t\t * Whether or not to display a toggle in each row when it contains hidden columns.\r\n\t\t\t * @type {boolean}\r\n\t\t\t * @default true\r\n\t\t\t */\r\n\t\t\tthis.showToggle = table.o.showToggle;\r\n\t\t\t/**\r\n\t\t\t * The CSS selector used to filter row click events. If the event.target property matches the selector the row will be toggled.\r\n\t\t\t * @type {string}\r\n\t\t\t * @default \"tr,td,.footable-toggle\"\r\n\t\t\t */\r\n\t\t\tthis.toggleSelector = table.o.toggleSelector;\r\n\t\t\t/**\r\n\t\t\t * Specifies which column the row toggle is appended to. Supports only two values; \"first\" and \"last\"\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.toggleColumn = table.o.toggleColumn;\r\n\t\t\t/**\r\n\t\t\t * The text to display when the table has no rows.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.emptyString = table.o.empty;\r\n\t\t\t/**\r\n\t\t\t * Whether or not the first rows details are expanded by default when displayed on a device that hides any columns.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.expandFirst = table.o.expandFirst;\r\n\t\t\t/**\r\n\t\t\t * Whether or not all row details are expanded by default when displayed on a device that hides any columns.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.expandAll = table.o.expandAll;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object that contains the empty row control.\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$empty = null;\r\n\t\t\tthis._fromHTML = F.is.emptyArray(table.o.rows) && !F.is.promise(table.o.rows);\r\n\t\t},\r\n\t\t/**\r\n\t\t * This parses the rows from either the tables rows or the supplied options.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t */\r\n\t\tparse: function(){\r\n\t\t\tvar self = this;\r\n\t\t\treturn $.Deferred(function(d){\r\n\t\t\t\tvar $rows = self.ft.$el.children('tbody').children('tr');\r\n\t\t\t\tif (F.is.array(self.o.rows) && self.o.rows.length > 0){\r\n\t\t\t\t\tself.parseFinalize(d, self.o.rows);\r\n\t\t\t\t} else if (F.is.promise(self.o.rows)){\r\n\t\t\t\t\tself.o.rows.then(function(rows){\r\n\t\t\t\t\t\tself.parseFinalize(d, rows);\r\n\t\t\t\t\t}, function(xhr){\r\n\t\t\t\t\t\td.reject(Error('Rows ajax request error: ' + xhr.status + ' (' + xhr.statusText + ')'));\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (F.is.jq($rows)){\r\n\t\t\t\t\tself.parseFinalize(d, $rows);\r\n\t\t\t\t\t$rows.detach();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.parseFinalize(d, []);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Used to finalize the parsing of rows it is supplied the parse deferred object which must be resolved with an array of {@link FooTable.Row} objects\r\n\t\t * or rejected with an error.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {jQuery.Deferred} deferred - The deferred object used for parsing.\r\n\t\t * @param {(Array.<object>|jQuery)} rows - An array of row values and options or the jQuery object containing all rows.\r\n\t\t */\r\n\t\tparseFinalize: function(deferred, rows){\r\n\t\t\tvar self = this, result = $.map(rows, function(r){\r\n\t\t\t\treturn new F.Row(self.ft, self.ft.columns.array, r);\r\n\t\t\t});\r\n\t\t\tdeferred.resolve(result);\r\n\t\t},\r\n\t\t/**\r\n\t\t * The columns preinit method is used to parse and check the column options supplied from both static content and through the constructor.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the root table element.\r\n\t\t * @fires FooTable.Rows#\"preinit.ft.rows\"\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.rows event is raised before any UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Rows#\"preinit.ft.rows\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('preinit.ft.rows', [data]).then(function(){\r\n\t\t\t\treturn self.parse().then(function(rows){\r\n\t\t\t\t\tself.all = rows;\r\n\t\t\t\t\tself.array = self.all.slice(0);\r\n\t\t\t\t\tself.showToggle = F.is.boolean(data.showToggle) ? data.showToggle : self.showToggle;\r\n\t\t\t\t\tself.toggleSelector = F.is.string(data.toggleSelector) ? data.toggleSelector : self.toggleSelector;\r\n\t\t\t\t\tself.toggleColumn = F.is.string(data.toggleColumn) ? data.toggleColumn : self.toggleColumn;\r\n\t\t\t\t\tif (self.toggleColumn != \"first\" && self.toggleColumn != \"last\") self.toggleColumn = \"first\";\r\n\t\t\t\t\tself.emptyString = F.is.string(data.empty) ? data.empty : self.emptyString;\r\n\t\t\t\t\tself.expandFirst = F.is.boolean(data.expandFirst) ? data.expandFirst : self.expandFirst;\r\n\t\t\t\t\tself.expandAll = F.is.boolean(data.expandAll) ? data.expandAll : self.expandAll;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the rows class using the supplied table and options.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Rows#\"init.ft.rows\"\r\n\t\t */\r\n\t\tinit: function () {\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The init.ft.rows event is raised after the the rows are parsed from either the DOM or the options.\r\n\t\t\t * Calling preventDefault on this event will disable the entire plugin.\r\n\t\t\t * @event FooTable.Rows#\"init.ft.rows\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} instance - The instance of the plugin raising the event.\r\n\t\t\t * @param {Array.<FooTable.Row>} rows - The array of {@link FooTable.Row} objects parsed from the DOM or the options.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('init.ft.rows', [self.all]).then(function(){\r\n\t\t\t\tself.$create();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys the rows component removing any UI generated from the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Rows#\"destroy.ft.rows\"\r\n\t\t */\r\n\t\tdestroy: function(){\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.rows event is raised before its UI is removed.\r\n\t\t\t * Calling preventDefault on this event will prevent the component from being destroyed.\r\n\t\t\t * @event FooTable.Rows#\"destroy.ft.rows\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('destroy.ft.rows').then(function(){\r\n\t\t\t\tF.arr.each(self.array, function(row){\r\n\t\t\t\t\trow.predraw(!self._fromHTML);\r\n\t\t\t\t});\r\n\t\t\t\tself.all = self.array = [];\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the predraw operations that are required including creating the shallow clone of the {@link FooTable.Rows#array} to work with.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tpredraw: function(){\r\n\t\t\tF.arr.each(this.array, function(row){\r\n\t\t\t\trow.predraw();\r\n\t\t\t});\r\n\t\t\tthis.array = this.all.slice(0);\r\n\t\t},\r\n\t\t$create: function(){\r\n\t\t\tthis.$empty = $('<tr/>', { 'class': 'footable-empty' }).append($('<td/>').text(this.emptyString));\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the actual drawing of the table rows.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tdraw: function(){\r\n\t\t\tvar self = this, $tbody = self.ft.$el.children('tbody'), first = true;\r\n\t\t\t// if we have rows\r\n\t\t\tif (self.array.length > 0){\r\n\t\t\t\tself.$empty.detach();\r\n\t\t\t\t// loop through them appending to the tbody and then drawing\r\n\t\t\t\tF.arr.each(self.array, function(row){\r\n\t\t\t\t\tif ((self.expandFirst && first) || self.expandAll){\r\n\t\t\t\t\t\trow.expanded = true;\r\n\t\t\t\t\t\tfirst = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\trow.draw($tbody);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// otherwise display the $empty row\r\n\t\t\t\tself.$empty.children('td').attr('colspan', self.ft.columns.visibleColspan);\r\n\t\t\t\t$tbody.append(self.$empty);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Loads a JSON array of row objects into the table\r\n\t\t * @instance\r\n\t\t * @param {Array.<object>} data - An array of row objects to load.\r\n\t\t * @param {boolean} [append=false] - Whether or not to append the new rows to the current rows array or to replace them entirely.\r\n\t\t */\r\n\t\tload: function(data, append){\r\n\t\t\tvar self = this, rows = $.map(data, function(r){\r\n\t\t\t\treturn new F.Row(self.ft, self.ft.columns.array, r);\r\n\t\t\t});\r\n\t\t\tF.arr.each(this.array, function(row){\r\n\t\t\t\trow.predraw();\r\n\t\t\t});\r\n\t\t\tthis.all = (F.is.boolean(append) ? append : false) ? this.all.concat(rows) : rows;\r\n\t\t\tthis.array = this.all.slice(0);\r\n\t\t\tthis.ft.draw();\r\n\t\t},\r\n\t\t/**\r\n\t\t * Expands all visible rows.\r\n\t\t * @instance\r\n\t\t */\r\n\t\texpand: function(){\r\n\t\t\tF.arr.each(this.array, function(row){\r\n\t\t\t\trow.expand();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Collapses all visible rows.\r\n\t\t * @instance\r\n\t\t */\r\n\t\tcollapse: function(){\r\n\t\t\tF.arr.each(this.array, function(row){\r\n\t\t\t\trow.collapse();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('rows', F.Rows, 800);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * An array of JSON objects containing the row data or a jQuery promise that resolves returning the row data.\r\n\t * @type {(Array.<object>|jQuery.Promise)}\r\n\t * @default []\r\n\t */\r\n\tF.Defaults.prototype.rows = [];\r\n\r\n\t/**\r\n\t * A string to display when there are no rows in the table.\r\n\t * @type {string}\r\n\t * @default \"No results\"\r\n\t */\r\n\tF.Defaults.prototype.empty = 'No results';\r\n\r\n\t/**\r\n\t * Whether or not the toggle is appended to each row.\r\n\t * @type {boolean}\r\n\t * @default true\r\n\t */\r\n\tF.Defaults.prototype.showToggle = true;\r\n\r\n\t/**\r\n\t * The CSS selector used to filter row click events. If the event.target property matches the selector the row will be toggled.\r\n\t * @type {string}\r\n\t * @default \"tr,td,.footable-toggle\"\r\n\t */\r\n\tF.Defaults.prototype.toggleSelector = 'tr,td,.footable-toggle';\r\n\r\n\t/**\r\n\t * Specifies which column to display the row toggle in. The only supported values are \"first\" or \"last\".\r\n\t * @type {string}\r\n\t * @default \"first\"\r\n\t */\r\n\tF.Defaults.prototype.toggleColumn = 'first';\r\n\r\n\t/**\r\n\t * Whether or not the first rows details are expanded by default when displayed on a device that hides any columns.\r\n\t * @type {boolean}\r\n\t */\r\n\tF.Defaults.prototype.expandFirst = false;\r\n\r\n\t/**\r\n\t * Whether or not all row details are expanded by default when displayed on a device that hides any columns.\r\n\t * @type {boolean}\r\n\t */\r\n\tF.Defaults.prototype.expandAll = false;\r\n})(FooTable);\r\n(function(F){\r\n\t/**\r\n\t * Loads a JSON array of row objects into the table\r\n\t * @param {Array.<object>} data - An array of row objects to load.\r\n\t * @param {boolean} [append=false] - Whether or not to append the new rows to the current rows array or to replace them entirely.\r\n\t */\r\n\tF.Table.prototype.loadRows = function(data, append){\r\n\t\tthis.rows.load(data, append);\r\n\t};\r\n})(FooTable);\r\n(function(F){\r\n\tF.Filter = F.Class.extend(/** @lends FooTable.Filter */{\r\n\t\t/**\r\n\t\t * The filter object contains the query to filter by and the columns to apply it to.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {string} name - The name for the filter.\r\n\t\t * @param {(string|FooTable.Query)} query - The query for the filter.\r\n\t\t * @param {Array.<FooTable.Column>} columns - The columns to apply the query to.\r\n\t\t * @param {string} [space=\"AND\"] - How the query treats space chars.\r\n\t\t * @param {boolean} [connectors=true] - Whether or not to replace phrase connectors (+.-_) with spaces.\r\n\t\t * @param {boolean} [ignoreCase=true] - Whether or not ignore case when matching.\r\n\t\t * @param {boolean} [hidden=true] - Whether or not this is a hidden filter.\r\n\t\t * @returns {FooTable.Filter}\r\n\t\t */\r\n\t\tconstruct: function(name, query, columns, space, connectors, ignoreCase, hidden){\r\n\t\t\t/**\r\n\t\t\t * The name of the filter.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.name = name;\r\n\t\t\t/**\r\n\t\t\t * A string specifying how the filter treats space characters. Can be either \"OR\" or \"AND\".\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.space = F.is.string(space) && (space == 'OR' || space == 'AND') ? space : 'AND';\r\n\t\t\t/**\r\n\t\t\t * Whether or not to replace phrase connectors (+.-_) with spaces before executing the query.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.connectors = F.is.boolean(connectors) ? connectors : true;\r\n\t\t\t/**\r\n\t\t\t * Whether or not ignore case when matching.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.ignoreCase = F.is.boolean(ignoreCase) ? ignoreCase : true;\r\n\t\t\t/**\r\n\t\t\t * Whether or not this is a hidden filter.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.hidden = F.is.boolean(hidden) ? hidden : false;\r\n\t\t\t/**\r\n\t\t\t * The query for the filter.\r\n\t\t\t * @instance\r\n\t\t\t * @type {(string|FooTable.Query)}\r\n\t\t\t */\r\n\t\t\tthis.query = query instanceof F.Query ? query : new F.Query(query, this.space, this.connectors, this.ignoreCase);\r\n\t\t\t/**\r\n\t\t\t * The columns to apply the query to.\r\n\t\t\t * @instance\r\n\t\t\t * @type {Array.<FooTable.Column>}\r\n\t\t\t */\r\n\t\t\tthis.columns = columns;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Checks if the current filter matches the supplied string.\r\n\t\t * If the current query property is a string it will be auto converted to a {@link FooTable.Query} object to perform the match.\r\n\t\t * @instance\r\n\t\t * @param {string} str - The string to check.\r\n\t\t * @returns {boolean}\r\n\t\t */\r\n\t\tmatch: function(str){\r\n\t\t\tif (!F.is.string(str)) return false;\r\n\t\t\tif (F.is.string(this.query)){\r\n\t\t\t\tthis.query = new F.Query(this.query, this.space, this.connectors, this.ignoreCase);\r\n\t\t\t}\r\n\t\t\treturn this.query instanceof F.Query ? this.query.match(str) : false;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Checks if the current filter matches the supplied {@link FooTable.Row}.\r\n\t\t * @instance\r\n\t\t * @param {FooTable.Row} row - The row to check.\r\n\t\t * @returns {boolean}\r\n\t\t */\r\n\t\tmatchRow: function(row){\r\n\t\t\tvar self = this, text = F.arr.map(row.cells, function(cell){\r\n\t\t\t\treturn F.arr.contains(self.columns, cell.column) ? cell.filterValue : null;\r\n\t\t\t}).join(' ');\r\n\t\t\treturn self.match(text);\r\n\t\t}\r\n\t});\r\n\r\n})(FooTable);\r\n(function ($, F) {\r\n\tF.Filtering = F.Component.extend(/** @lends FooTable.Filtering */{\r\n\t\t/**\r\n\t\t * The filtering component adds a search input and column selector dropdown to the table allowing users to filter the using space delimited queries.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table - The parent {@link FooTable.Table} object for the component.\r\n\t\t * @returns {FooTable.Filtering}\r\n\t\t */\r\n\t\tconstruct: function (table) {\r\n\t\t\t// call the constructor of the base class\r\n\t\t\tthis._super(table, table.o.filtering.enabled);\r\n\r\n\t\t\t/* PUBLIC */\r\n\t\t\t/**\r\n\t\t\t * The filters to apply to the current {@link FooTable.Rows#array}.\r\n\t\t\t * @instance\r\n\t\t\t * @type {Array.<FooTable.Filter>}\r\n\t\t\t */\r\n\t\t\tthis.filters = table.o.filtering.filters;\r\n\t\t\t/**\r\n\t\t\t * The delay in milliseconds before the query is auto applied after a change.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.delay = table.o.filtering.delay;\r\n\t\t\t/**\r\n\t\t\t * The minimum number of characters allowed in the search input before it is auto applied.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.min = table.o.filtering.min;\r\n\t\t\t/**\r\n\t\t\t * Specifies how whitespace in a filter query is handled.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.space = table.o.filtering.space;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to replace phrase connectors (+.-_) with spaces before executing the query.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.connectors = table.o.filtering.connectors;\r\n\t\t\t/**\r\n\t\t\t * Whether or not ignore case when matching.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.ignoreCase = table.o.filtering.ignoreCase;\r\n\t\t\t/**\r\n\t\t\t * Whether or not search queries are treated as phrases when matching.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.exactMatch = table.o.filtering.exactMatch;\r\n\t\t\t/**\r\n\t\t\t * The placeholder text to display within the search $input.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.placeholder = table.o.filtering.placeholder;\r\n\t\t\t/**\r\n\t\t\t * The title to display at the top of the search input column select.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.dropdownTitle = table.o.filtering.dropdownTitle;\r\n\t\t\t/**\r\n\t\t\t * The position of the $search input within the filtering rows cell.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.position = table.o.filtering.position;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to focus the search input after the search/clear button is clicked or after auto applying the search input query.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.focus = table.o.filtering.focus;\r\n\t\t\t/**\r\n\t\t\t * A selector specifying where to place the filtering components form, if null the form is displayed within a row in the head of the table.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.container = table.o.filtering.container;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object of the element containing the entire filtering form.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$container = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery row object that contains all the filtering specific elements.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$row = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery cell object that contains the search input and column selector.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$cell = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery form object of the form that contains the search input and column selector.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$form = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object of the column selector dropdown.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$dropdown = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object of the search input.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$input = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object of the search button.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$button = null;\r\n\r\n\t\t\t/* PRIVATE */\r\n\t\t\t/**\r\n\t\t\t * The timeout ID for the filter changed event.\r\n\t\t\t * @instance\r\n\t\t\t * @private\r\n\t\t\t * @type {?number}\r\n\t\t\t */\r\n\t\t\tthis._filterTimeout = null;\r\n\t\t\t/**\r\n\t\t\t * The regular expression used to check for encapsulating quotations.\r\n\t\t\t * @instance\r\n\t\t\t * @private\r\n\t\t\t * @type {RegExp}\r\n\t\t\t */\r\n\t\t\tthis._exactRegExp = /^\"(.*?)\"$/;\r\n\t\t},\r\n\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * Checks the supplied data and options for the filtering component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the parent table.\r\n\t\t * @fires FooTable.Filtering#\"preinit.ft.filtering\"\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.filtering event is raised before the UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Filtering#\"preinit.ft.filtering\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('preinit.ft.filtering').then(function(){\r\n\t\t\t\t// first check if filtering is enabled via the class being applied\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-filtering'))\r\n\t\t\t\t\tself.enabled = true;\r\n\t\t\t\t// then check if the data-filtering-enabled attribute has been set\r\n\t\t\t\tself.enabled = F.is.boolean(data.filtering)\r\n\t\t\t\t\t? data.filtering\r\n\t\t\t\t\t: self.enabled;\r\n\r\n\t\t\t\t// if filtering is not enabled exit early as we don't need to do anything else\r\n\t\t\t\tif (!self.enabled) return;\r\n\r\n\t\t\t\tself.space = F.is.string(data.filterSpace)\r\n\t\t\t\t\t? data.filterSpace\r\n\t\t\t\t\t: self.space;\r\n\r\n\t\t\t\tself.min = F.is.number(data.filterMin)\r\n\t\t\t\t\t? data.filterMin\r\n\t\t\t\t\t: self.min;\r\n\r\n\t\t\t\tself.connectors = F.is.boolean(data.filterConnectors)\r\n\t\t\t\t\t? data.filterConnectors\r\n\t\t\t\t\t: self.connectors;\r\n\r\n\t\t\t\tself.ignoreCase = F.is.boolean(data.filterIgnoreCase)\r\n\t\t\t\t\t? data.filterIgnoreCase\r\n\t\t\t\t\t: self.ignoreCase;\r\n\r\n\t\t\t\tself.exactMatch = F.is.boolean(data.filterExactMatch)\r\n\t\t\t\t\t? data.filterExactMatch\r\n\t\t\t\t\t: self.exactMatch;\r\n\r\n\t\t\t\tself.focus = F.is.boolean(data.filterFocus)\r\n\t\t\t\t\t? data.filterFocus\r\n\t\t\t\t\t: self.focus;\r\n\r\n\t\t\t\tself.delay = F.is.number(data.filterDelay)\r\n\t\t\t\t\t? data.filterDelay\r\n\t\t\t\t\t: self.delay;\r\n\r\n\t\t\t\tself.placeholder = F.is.string(data.filterPlaceholder)\r\n\t\t\t\t\t? data.filterPlaceholder\r\n\t\t\t\t\t: self.placeholder;\r\n\r\n\t\t\t\tself.dropdownTitle = F.is.string(data.filterDropdownTitle)\r\n\t\t\t\t\t? data.filterDropdownTitle\r\n\t\t\t\t\t: self.dropdownTitle;\r\n\r\n\t\t\t\tself.container = F.is.string(data.filterContainer)\r\n\t\t\t\t\t? data.filterContainer\r\n\t\t\t\t\t: self.container;\r\n\r\n\t\t\t\tself.filters = F.is.array(data.filterFilters)\r\n\t\t\t\t\t? self.ensure(data.filterFilters)\r\n\t\t\t\t\t: self.ensure(self.filters);\r\n\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-filtering-left'))\r\n\t\t\t\t\tself.position = 'left';\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-filtering-center'))\r\n\t\t\t\t\tself.position = 'center';\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-filtering-right'))\r\n\t\t\t\t\tself.position = 'right';\r\n\r\n\t\t\t\tself.position = F.is.string(data.filterPosition)\r\n\t\t\t\t\t? data.filterPosition\r\n\t\t\t\t\t: self.position;\r\n\t\t\t},function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the filtering component for the plugin.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Filtering#\"init.ft.filtering\"\r\n\t\t */\r\n\t\tinit: function () {\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The init.ft.filtering event is raised before its UI is generated.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Filtering#\"init.ft.filtering\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('init.ft.filtering').then(function(){\r\n\t\t\t\tself.$create();\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys the filtering component removing any UI from the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Filtering#\"destroy.ft.filtering\"\r\n\t\t */\r\n\t\tdestroy: function () {\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.filtering event is raised before its UI is removed.\r\n\t\t\t * Calling preventDefault on this event will prevent the component from being destroyed.\r\n\t\t\t * @event FooTable.Filtering#\"destroy.ft.filtering\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('destroy.ft.filtering').then(function(){\r\n\t\t\t\tself.ft.$el.removeClass('footable-filtering')\r\n\t\t\t\t\t.find('thead > tr.footable-filtering').remove();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the filtering UI from the current options setting the various jQuery properties of this component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Filtering\r\n\t\t */\r\n\t\t$create: function () {\r\n\t\t\tvar self = this;\r\n\t\t\t// generate the cell that actually contains all the UI.\r\n\t\t\tvar $form_grp = $('<div/>', {'class': 'form-group footable-filtering-search'})\r\n\t\t\t\t\t.append($('<label/>', {'class': 'sr-only', text: 'Search'})),\r\n\t\t\t\t$input_grp = $('<div/>', {'class': 'input-group'}).appendTo($form_grp),\r\n\t\t\t\t$input_grp_btn = $('<div/>', {'class': 'input-group-btn'}),\r\n\t\t\t\t$dropdown_toggle = $('<button/>', {type: 'button', 'class': 'btn btn-default dropdown-toggle'})\r\n\t\t\t\t\t.on('click', { self: self }, self._onDropdownToggleClicked)\r\n\t\t\t\t\t.append($('<span/>', {'class': 'caret'})),\r\n\t\t\t\tposition;\r\n\r\n\t\t\tswitch (self.position){\r\n\t\t\t\tcase 'left': position = 'footable-filtering-left'; break;\r\n\t\t\t\tcase 'center': position = 'footable-filtering-center'; break;\r\n\t\t\t\tdefault: position = 'footable-filtering-right'; break;\r\n\t\t\t}\r\n\t\t\tself.ft.$el.addClass('footable-filtering').addClass(position);\r\n\r\n\t\t\tself.$container = self.container === null ? $() : $(self.container).first();\r\n\t\t\tif (!self.$container.length){\r\n\t\t\t\t// add it to a row and then populate it with the search input and column selector dropdown.\r\n\t\t\t\tself.$row = $('<tr/>', {'class': 'footable-filtering'}).prependTo(self.ft.$el.children('thead'));\r\n\t\t\t\tself.$cell = $('<th/>').attr('colspan', self.ft.columns.visibleColspan).appendTo(self.$row);\r\n\t\t\t\tself.$container = self.$cell;\r\n\t\t\t} else {\r\n\t\t\t\tself.$container.addClass('footable-filtering-external').addClass(position);\r\n\t\t\t}\r\n\t\t\tself.$form = $('<form/>', {'class': 'form-inline'}).append($form_grp).appendTo(self.$container);\r\n\r\n\t\t\tself.$input = $('<input/>', {type: 'text', 'class': 'form-control', placeholder: self.placeholder});\r\n\r\n\t\t\tself.$button = $('<button/>', {type: 'button', 'class': 'btn btn-primary'})\r\n\t\t\t\t.on('click', { self: self }, self._onSearchButtonClicked)\r\n\t\t\t\t.append($('<span/>', {'class': 'fooicon fooicon-search'}));\r\n\r\n\t\t\tself.$dropdown = $('<ul/>', {'class': 'dropdown-menu dropdown-menu-right'});\r\n\t\t\tif (!F.is.emptyString(self.dropdownTitle)){\r\n\t\t\t\tself.$dropdown.append($('<li/>', {'class': 'dropdown-header','text': self.dropdownTitle}));\r\n\t\t\t}\r\n\t\t\tself.$dropdown.append(\r\n\t\t\t\tF.arr.map(self.ft.columns.array, function (col) {\r\n\t\t\t\t\treturn col.filterable ? $('<li/>').append(\r\n\t\t\t\t\t\t$('<a/>', {'class': 'checkbox'}).append(\r\n\t\t\t\t\t\t\t$('<label/>', {html: col.title}).prepend(\r\n\t\t\t\t\t\t\t\t$('<input/>', {type: 'checkbox', checked: true}).data('__FooTableColumn__', col)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : null;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tif (self.delay > 0){\r\n\t\t\t\tself.$input.on('keypress keyup paste', { self: self }, self._onSearchInputChanged);\r\n\t\t\t\tself.$dropdown.on('click', 'input[type=\"checkbox\"]', {self: self}, self._onSearchColumnClicked);\r\n\t\t\t}\r\n\r\n\t\t\t$input_grp_btn.append(self.$button, $dropdown_toggle, self.$dropdown);\r\n\t\t\t$input_grp.append(self.$input, $input_grp_btn);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the filtering of rows before they are appended to the page.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tpredraw: function(){\r\n\t\t\tif (F.is.emptyArray(this.filters))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tself.ft.rows.array = $.grep(self.ft.rows.array, function(r){\r\n\t\t\t\treturn r.filtered(self.filters);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * As the rows are drawn by the {@link FooTable.Rows#draw} method this simply updates the colspan for the UI.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tdraw: function(){\r\n\t\t\tif (F.is.jq(this.$cell)){\r\n\t\t\t\tthis.$cell.attr('colspan', this.ft.columns.visibleColspan);\r\n\t\t\t}\r\n\t\t\tvar search = this.find('search');\r\n\t\t\tif (search instanceof F.Filter){\r\n\t\t\t\tvar query = search.query.val();\r\n\t\t\t\tif (this.exactMatch && this._exactRegExp.test(query)){\r\n\t\t\t\t\tquery = query.replace(this._exactRegExp, '$1');\r\n\t\t\t\t}\r\n\t\t\t\tthis.$input.val(query);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$input.val(null);\r\n\t\t\t}\r\n\t\t\tthis.setButton(!F.arr.any(this.filters, function(f){ return !f.hidden; }));\r\n\t\t},\r\n\r\n\t\t/* PUBLIC */\r\n\t\t/**\r\n\t\t * Adds or updates the filter using the supplied name, query and columns.\r\n\t\t * @instance\r\n\t\t * @param {(string|FooTable.Filter|object)} nameOrFilter - The name for the filter or the actual filter object itself.\r\n\t\t * @param {(string|FooTable.Query)} [query] - The query for the filter. This is only optional when the first parameter is a filter object.\r\n\t\t * @param {(Array.<number>|Array.<string>|Array.<FooTable.Column>)} [columns] - The columns to apply the filter to.\r\n\t\t * \tIf not supplied the filter will be applied to all selected columns in the search input dropdown.\r\n\t\t * @param {boolean} [ignoreCase=true] - Whether or not ignore case when matching.\r\n\t\t * @param {boolean} [connectors=true] - Whether or not to replace phrase connectors (+.-_) with spaces.\r\n\t\t * @param {string} [space=\"AND\"] - How the query treats space chars.\r\n\t\t * @param {boolean} [hidden=true] - Whether or not this is a hidden filter.\r\n\t\t */\r\n\t\taddFilter: function(nameOrFilter, query, columns, ignoreCase, connectors, space, hidden){\r\n\t\t\tvar f = this.createFilter(nameOrFilter, query, columns, ignoreCase, connectors, space, hidden);\r\n\t\t\tif (f instanceof F.Filter){\r\n\t\t\t\tthis.removeFilter(f.name);\r\n\t\t\t\tthis.filters.push(f);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Removes the filter using the supplied name if it exists.\r\n\t\t * @instance\r\n\t\t * @param {string} name - The name of the filter to remove.\r\n\t\t */\r\n\t\tremoveFilter: function(name){\r\n\t\t\tF.arr.remove(this.filters, function(f){ return f.name == name; });\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the required steps to handle filtering including the raising of the {@link FooTable.Filtering#\"before.ft.filtering\"} and {@link FooTable.Filtering#\"after.ft.filtering\"} events.\r\n\t\t * @instance\r\n\t\t * @param {boolean} [focus=false] - Whether or not to set the focus to the input once filtering is complete.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Filtering#\"before.ft.filtering\"\r\n\t\t * @fires FooTable.Filtering#\"after.ft.filtering\"\r\n\t\t */\r\n\t\tfilter: function(focus){\r\n\t\t\tvar self = this;\r\n\t\t\tself.filters = self.ensure(self.filters);\r\n\t\t\t/**\r\n\t\t\t * The before.ft.filtering event is raised before a filter is applied and allows listeners to modify the filter or cancel it completely by calling preventDefault on the jQuery.Event object.\r\n\t\t\t * @event FooTable.Filtering#\"before.ft.filtering\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {Array.<FooTable.Filter>} filters - The filters that are about to be applied.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('before.ft.filtering', [self.filters]).then(function(){\r\n\t\t\t\tself.filters = self.ensure(self.filters);\r\n\t\t\t\tif (focus){\r\n\t\t\t\t\tvar start = self.$input.prop('selectionStart'),\r\n\t\t\t\t\t\tend = self.$input.prop('selectionEnd');\r\n\t\t\t\t}\r\n\t\t\t\treturn self.ft.draw().then(function(){\r\n\t\t\t\t\tif (focus){\r\n\t\t\t\t\t\tself.$input.focus().prop({\r\n\t\t\t\t\t\t\tselectionStart: start,\r\n\t\t\t\t\t\t\tselectionEnd: end\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * The after.ft.filtering event is raised after a filter has been applied.\r\n\t\t\t\t\t * @event FooTable.Filtering#\"after.ft.filtering\"\r\n\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t * @param {FooTable.Filter} filter - The filters that were applied.\r\n\t\t\t\t\t */\r\n\t\t\t\t\tself.ft.raise('after.ft.filtering', [self.filters]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Removes the current search filter.\r\n\t\t * @instance\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Filtering#\"before.ft.filtering\"\r\n\t\t * @fires FooTable.Filtering#\"after.ft.filtering\"\r\n\t\t */\r\n\t\tclear: function(){\r\n\t\t\tthis.filters = F.arr.get(this.filters, function(f){ return f.hidden; });\r\n\t\t\treturn this.filter(this.focus);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Toggles the button icon between the search and clear icons based on the supplied value.\r\n\t\t * @instance\r\n\t\t * @param {boolean} search - Whether or not to display the search icon.\r\n\t\t */\r\n\t\tsetButton: function(search){\r\n\t\t\tif (!search){\r\n\t\t\t\tthis.$button.children('.fooicon').removeClass('fooicon-search').addClass('fooicon-remove');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$button.children('.fooicon').removeClass('fooicon-remove').addClass('fooicon-search');\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Finds a filter by name.\r\n\t\t * @param {string} name - The name of the filter to find.\r\n\t\t * @returns {(FooTable.Filter|null)}\r\n\t\t */\r\n\t\tfind: function(name){\r\n\t\t\treturn F.arr.first(this.filters, function(f){ return f.name == name; });\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets an array of {@link FooTable.Column} to apply the search filter to. This also doubles as the default columns for filters which do not specify any columns.\r\n\t\t * @instance\r\n\t\t * @returns {Array.<FooTable.Column>}\r\n\t\t */\r\n\t\tcolumns: function(){\r\n\t\t\tif (F.is.jq(this.$dropdown)){\r\n\t\t\t\t// if we have a dropdown containing the column names get the selected columns from there\r\n\t\t\t\treturn this.$dropdown.find('input:checked').map(function(){\r\n\t\t\t\t\treturn $(this).data('__FooTableColumn__');\r\n\t\t\t\t}).get();\r\n\t\t\t} else {\r\n\t\t\t\t// otherwise find all columns that are set to be filterable.\r\n\t\t\t\treturn this.ft.columns.get(function(c){ return c.filterable; });\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Takes an array of plain objects containing the filter values or actual {@link FooTable.Filter} objects and ensures that an array of only {@link FooTable.Filter} is returned.\r\n\t\t * If supplied a plain object that object must contain a name, query and columns properties which are used to create a new {@link FooTable.Filter}.\r\n\t\t * @instance\r\n\t\t * @param {({name: string, query: (string|FooTable.Query), columns: (Array.<string>|Array.<number>|Array.<FooTable.Column>)}|Array.<FooTable.Filter>)} filters - The array of filters to check.\r\n\t\t * @returns {Array.<FooTable.Filter>}\r\n\t\t */\r\n\t\tensure: function(filters){\r\n\t\t\tvar self = this, parsed = [], filterable = self.columns();\r\n\t\t\tif (!F.is.emptyArray(filters)){\r\n\t\t\t\tF.arr.each(filters, function(f){\r\n\t\t\t\t\tf = self._ensure(f, filterable);\r\n\t\t\t\t\tif (f instanceof F.Filter) parsed.push(f);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn parsed;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Creates a new filter using the supplied object or individual parameters to populate it.\r\n\t\t * @instance\r\n\t\t * @param {(string|FooTable.Filter|object)} nameOrObject - The name for the filter or the actual filter object itself.\r\n\t\t * @param {(string|FooTable.Query)} [query] - The query for the filter. This is only optional when the first parameter is a filter object.\r\n\t\t * @param {(Array.<number>|Array.<string>|Array.<FooTable.Column>)} [columns] - The columns to apply the filter to.\r\n\t\t * \tIf not supplied the filter will be applied to all selected columns in the search input dropdown.\r\n\t\t * @param {boolean} [ignoreCase=true] - Whether or not ignore case when matching.\r\n\t\t * @param {boolean} [connectors=true] - Whether or not to replace phrase connectors (+.-_) with spaces.\r\n\t\t * @param {string} [space=\"AND\"] - How the query treats space chars.\r\n\t\t * @param {boolean} [hidden=true] - Whether or not this is a hidden filter.\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tcreateFilter: function(nameOrObject, query, columns, ignoreCase, connectors, space, hidden){\r\n\t\t\tif (F.is.string(nameOrObject)){\r\n\t\t\t\tnameOrObject = {name: nameOrObject, query: query, columns: columns, ignoreCase: ignoreCase, connectors: connectors, space: space, hidden: hidden};\r\n\t\t\t}\r\n\t\t\treturn this._ensure(nameOrObject, this.columns());\r\n\t\t},\r\n\r\n\t\t/* PRIVATE */\r\n\t\t_ensure: function(filter, selectedColumns){\r\n\t\t\tif ((F.is.hash(filter) || filter instanceof F.Filter) && !F.is.emptyString(filter.name) && (!F.is.emptyString(filter.query) || filter.query instanceof F.Query)){\r\n\t\t\t\tfilter.columns = F.is.emptyArray(filter.columns) ? selectedColumns : this.ft.columns.ensure(filter.columns);\r\n\t\t\t\tfilter.ignoreCase = F.is.boolean(filter.ignoreCase) ? filter.ignoreCase : this.ignoreCase;\r\n\t\t\t\tfilter.connectors = F.is.boolean(filter.connectors) ? filter.connectors : this.connectors;\r\n\t\t\t\tfilter.hidden = F.is.boolean(filter.hidden) ? filter.hidden : false;\r\n\t\t\t\tfilter.space = F.is.string(filter.space) && (filter.space === 'AND' || filter.space === 'OR') ? filter.space : this.space;\r\n\t\t\t\tfilter.query = F.is.string(filter.query) ? new F.Query(filter.query, filter.space, filter.connectors, filter.ignoreCase) : filter.query;\r\n\t\t\t\treturn (filter instanceof F.Filter)\r\n\t\t\t\t\t? filter\r\n\t\t\t\t\t: new F.Filter(filter.name, filter.query, filter.columns, filter.space, filter.connectors, filter.ignoreCase, filter.hidden);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the change event for the {@link FooTable.Filtering#$input}.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onSearchInputChanged: function (e) {\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tvar alpha = e.type == 'keypress' && !F.is.emptyString(String.fromCharCode(e.charCode)),\r\n\t\t\t\tctrl = e.type == 'keyup' && (e.which == 8 || e.which == 46),\r\n\t\t\t\tpaste = e.type == 'paste'; // backspace & delete\r\n\r\n\t\t\t// if alphanumeric characters or specific control characters\r\n\t\t\tif(alpha || ctrl || paste) {\r\n\t\t\t\tif (e.which == 13) e.preventDefault();\r\n\t\t\t\tif (self._filterTimeout != null) clearTimeout(self._filterTimeout);\r\n\t\t\t\tself._filterTimeout = setTimeout(function(){\r\n\t\t\t\t\tself._filterTimeout = null;\r\n\t\t\t\t\tvar query = self.$input.val();\r\n\t\t\t\t\tif (query.length >= self.min){\r\n\t\t\t\t\t\tif (self.exactMatch && !self._exactRegExp.test(query)){\r\n\t\t\t\t\t\t\tquery = '\"' + query + '\"';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.addFilter('search', query);\r\n\t\t\t\t\t\tself.filter(self.focus);\r\n\t\t\t\t\t} else if (F.is.emptyString(query)){\r\n\t\t\t\t\t\tself.clear();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, self.delay);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the click event for the {@link FooTable.Filtering#$button}.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onSearchButtonClicked: function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tif (self._filterTimeout != null) clearTimeout(self._filterTimeout);\r\n\t\t\tvar $icon = self.$button.children('.fooicon');\r\n\t\t\tif ($icon.hasClass('fooicon-remove')) self.clear();\r\n\t\t\telse {\r\n\t\t\t\tvar query = self.$input.val();\r\n\t\t\t\tif (query.length >= self.min){\r\n\t\t\t\t\tif (self.exactMatch && !self._exactRegExp.test(query)){\r\n\t\t\t\t\t\tquery = '\"' + query + '\"';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.addFilter('search', query);\r\n\t\t\t\t\tself.filter(self.focus);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the click event for the column checkboxes in the {@link FooTable.Filtering#$dropdown}.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onSearchColumnClicked: function (e) {\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tif (self._filterTimeout != null) clearTimeout(self._filterTimeout);\r\n\t\t\tself._filterTimeout = setTimeout(function(){\r\n\t\t\t\tself._filterTimeout = null;\r\n\t\t\t\tvar $icon = self.$button.children('.fooicon');\r\n\t\t\t\tif ($icon.hasClass('fooicon-remove')){\r\n\t\t\t\t\t$icon.removeClass('fooicon-remove').addClass('fooicon-search');\r\n\t\t\t\t\tself.addFilter('search', self.$input.val());\r\n\t\t\t\t\tself.filter();\r\n\t\t\t\t}\r\n\t\t\t}, self.delay);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the click event for the {@link FooTable.Filtering#$dropdown} toggle.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onDropdownToggleClicked: function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\tvar self = e.data.self;\r\n\t\t\tself.$dropdown.parent().toggleClass('open');\r\n\t\t\tif (self.$dropdown.parent().hasClass('open')) $(document).on('click.footable', { self: self }, self._onDocumentClicked);\r\n\t\t\telse $(document).off('click.footable', self._onDocumentClicked);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Checks all click events when the dropdown is visible and closes the menu if the target is not the dropdown.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onDocumentClicked: function(e){\r\n\t\t\tif ($(e.target).closest('.dropdown-menu').length == 0){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar self = e.data.self;\r\n\t\t\t\tself.$dropdown.parent().removeClass('open');\r\n\t\t\t\t$(document).off('click.footable', self._onDocumentClicked);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('filtering', F.Filtering, 500);\r\n\r\n})(jQuery, FooTable);\r\n\r\n(function(F){\r\n\tF.Query = F.Class.extend(/** @lends FooTable.Query */{\r\n\t\t/**\r\n\t\t * The query object is used to parse and test the filtering component's queries\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {string} query - The string value of the query.\r\n\t\t * @param {string} [space=\"AND\"] - How the query treats whitespace.\r\n\t\t * @param {boolean} [connectors=true] - Whether or not to replace phrase connectors (+.-_) with spaces.\r\n\t\t * @param {boolean} [ignoreCase=true] - Whether or not ignore case when matching.\r\n\t\t * @returns {FooTable.Query}\r\n\t\t */\r\n\t\tconstruct: function(query, space, connectors, ignoreCase){\r\n\t\t\t/* PRIVATE */\r\n\t\t\t/**\r\n\t\t\t * Holds the previous value of the query and is used internally in the {@link FooTable.Query#val} method.\r\n\t\t\t * @type {string}\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\tthis._original = null;\r\n\t\t\t/**\r\n\t\t\t * Holds the value for the query. Access to this variable is provided through the {@link FooTable.Query#val} method.\r\n\t\t\t * @type {string}\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\tthis._value = null;\r\n\t\t\t/* PUBLIC */\r\n\t\t\t/**\r\n\t\t\t * A string specifying how the query treats whitespace. Can be either \"OR\" or \"AND\".\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.space = F.is.string(space) && (space == 'OR' || space == 'AND') ? space : 'AND';\r\n\t\t\t/**\r\n\t\t\t * Whether or not to replace phrase connectors (+.-_) with spaces before executing the query.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.connectors = F.is.boolean(connectors) ? connectors : true;\r\n\t\t\t/**\r\n\t\t\t * Whether or not ignore case when matching.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.ignoreCase = F.is.boolean(ignoreCase) ? ignoreCase : true;\r\n\t\t\t/**\r\n\t\t\t * The left side of the query if one exists. OR takes precedence over AND.\r\n\t\t\t * @type {FooTable.Query}\r\n\t\t\t * @example <caption>The below shows what is meant by the \"left\" side of a query</caption>\r\n\t\t\t * query = \"Dave AND Mary\" - \"Dave\" is the left side of the query.\r\n\t\t\t * query = \"Dave AND Mary OR John\" - \"Dave and Mary\" is the left side of the query.\r\n\t\t\t */\r\n\t\t\tthis.left = null;\r\n\t\t\t/**\r\n\t\t\t * The right side of the query if one exists. OR takes precedence over AND.\r\n\t\t\t * @type {FooTable.Query}\r\n\t\t\t * @example <caption>The below shows what is meant by the \"right\" side of a query</caption>\r\n\t\t\t * query = \"Dave AND Mary\" - \"Mary\" is the right side of the query.\r\n\t\t\t * query = \"Dave AND Mary OR John\" - \"John\" is the right side of the query.\r\n\t\t\t */\r\n\t\t\tthis.right = null;\r\n\t\t\t/**\r\n\t\t\t * The parsed parts of the query. This contains the information used to actually perform a match against a string.\r\n\t\t\t * @type {Array}\r\n\t\t\t */\r\n\t\t\tthis.parts = [];\r\n\t\t\t/**\r\n\t\t\t * The type of operand to apply to the results of the individual parts of the query.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.operator = null;\r\n\t\t\tthis.val(query);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets or sets the value for the query. During set the value is parsed setting all properties as required.\r\n\t\t * @param {string} [value] - If supplied the value to set for this query.\r\n\t\t * @returns {(string|undefined)}\r\n\t\t */\r\n\t\tval: function(value){\r\n\t\t\t// get\r\n\t\t\tif (F.is.emptyString(value)) return this._value;\r\n\r\n\t\t\t// set\r\n\t\t\tif (F.is.emptyString(this._original)) this._original = value;\r\n\t\t\telse if (this._original == value) return;\r\n\r\n\t\t\tthis._value = value;\r\n\t\t\tthis._parse();\r\n\t\t},\r\n\t\t/**\r\n\t\t * Tests the supplied string against the query.\r\n\t\t * @param {string} str - The string to test.\r\n\t\t * @returns {boolean}\r\n\t\t */\r\n\t\tmatch: function(str){\r\n\t\t\tif (F.is.emptyString(this.operator) || this.operator === 'OR')\r\n\t\t\t\treturn this._left(str, false) || this._match(str, false) || this._right(str, false);\r\n\t\t\tif (this.operator === 'AND')\r\n\t\t\t\treturn this._left(str, true) && this._match(str, true) && this._right(str, true);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Matches this queries parts array against the supplied string.\r\n\t\t * @param {string} str - The string to test.\r\n\t\t * @param {boolean} def - The default value to return based on the operand.\r\n\t\t * @returns {boolean}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_match: function(str, def){\r\n\t\t\tvar self = this, result = false, empty = F.is.emptyString(str);\r\n\t\t\tif (F.is.emptyArray(self.parts) && self.left instanceof F.Query) return def;\r\n\t\t\tif (F.is.emptyArray(self.parts)) return result;\r\n\t\t\tif (self.space === 'OR'){\r\n\t\t\t\t// with OR we give the str every part to test and if any match it is a success, we do exit early if a negated match occurs\r\n\t\t\t\tF.arr.each(self.parts, function(p){\r\n\t\t\t\t\tif (p.empty && empty){\r\n\t\t\t\t\t\tresult = true;\r\n\t\t\t\t\t\tif (p.negate){\r\n\t\t\t\t\t\t\tresult = false;\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar match = (p.exact ? F.str.containsExact : F.str.contains)(str, p.query, self.ignoreCase);\r\n\t\t\t\t\t\tif (match && !p.negate) result = true;\r\n\t\t\t\t\t\tif (match && p.negate) {\r\n\t\t\t\t\t\t\tresult = false;\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// otherwise with AND we check until the first failure and then exit\r\n\t\t\t\tresult = true;\r\n\t\t\t\tF.arr.each(self.parts, function(p){\r\n\t\t\t\t\tif (p.empty){\r\n\t\t\t\t\t\tif ((!empty && !p.negate) || (empty && p.negate)) result = false;\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar match = (p.exact ? F.str.containsExact : F.str.contains)(str, p.query, self.ignoreCase);\r\n\t\t\t\t\t\tif ((!match && !p.negate) || (match && p.negate)) result = false;\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Matches the left side of the query if one exists with the supplied string.\r\n\t\t * @param {string} str - The string to test.\r\n\t\t * @param {boolean} def - The default value to return based on the operand.\r\n\t\t * @returns {boolean}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_left: function(str, def){\r\n\t\t\treturn (this.left instanceof F.Query) ? this.left.match(str) : def;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Matches the right side of the query if one exists with the supplied string.\r\n\t\t * @param {string} str - The string to test.\r\n\t\t * @param {boolean} def - The default value to return based on the operand.\r\n\t\t * @returns {boolean}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_right: function(str, def){\r\n\t\t\treturn (this.right instanceof F.Query) ? this.right.match(str) : def;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Parses the private {@link FooTable.Query#_value} property and populates the object.\r\n\t\t * @private\r\n\t\t */\r\n\t\t_parse: function(){\r\n\t\t\tif (F.is.emptyString(this._value)) return;\r\n\t\t\t// OR takes precedence so test for it first\r\n\t\t\tif (/\\sOR\\s/.test(this._value)){\r\n\t\t\t\t// we have an OR so split the value on the first occurrence of OR to get the left and right sides of the statement\r\n\t\t\t\tthis.operator = 'OR';\r\n\t\t\t\tvar or = this._value.split(/(?:\\sOR\\s)(.*)?/);\r\n\t\t\t\tthis.left = new F.Query(or[0], this.space, this.connectors, this.ignoreCase);\r\n\t\t\t\tthis.right = new F.Query(or[1], this.space, this.connectors, this.ignoreCase);\r\n\t\t\t} else if (/\\sAND\\s/.test(this._value)) {\r\n\t\t\t\t// there are no more OR's so start with AND\r\n\t\t\t\tthis.operator = 'AND';\r\n\t\t\t\tvar and = this._value.split(/(?:\\sAND\\s)(.*)?/);\r\n\t\t\t\tthis.left = new F.Query(and[0], this.space, this.connectors, this.ignoreCase);\r\n\t\t\t\tthis.right = new F.Query(and[1], this.space, this.connectors, this.ignoreCase);\r\n\t\t\t} else {\r\n\t\t\t\t// we have no more statements to parse so set the parts array by parsing each part of the remaining query\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tthis.parts = F.arr.map(this._value.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g), function(str){\r\n\t\t\t\t\treturn self._part(str);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Parses a single part of a query into an object to use during matching.\r\n\t\t * @param {string} str - The string representation of the part.\r\n\t\t * @returns {{query: string, negate: boolean, phrase: boolean, exact: boolean}}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_part: function(str){\r\n\t\t\tvar p = {\r\n\t\t\t\tquery: str,\r\n\t\t\t\tnegate: false,\r\n\t\t\t\tphrase: false,\r\n\t\t\t\texact: false,\r\n\t\t\t\tempty: false\r\n\t\t\t};\r\n\t\t\t// support for NEGATE operand - (minus sign). Remove this first so we can get onto phrase checking\r\n\t\t\tif (F.str.startsWith(p.query, '-')){\r\n\t\t\t\tp.query = F.str.from(p.query, '-');\r\n\t\t\t\tp.negate = true;\r\n\t\t\t}\r\n\t\t\t// support for PHRASES (exact matches)\r\n\t\t\tif (/^\"(.*?)\"$/.test(p.query)){ // if surrounded in quotes strip them and nothing else\r\n\t\t\t\tp.query = p.query.replace(/^\"(.*?)\"$/, '$1');\r\n\t\t\t\tp.phrase = true;\r\n\t\t\t\tp.exact = true;\r\n\t\t\t} else if (this.connectors && /(?:\\w)+?([-_\\+\\.])(?:\\w)+?/.test(p.query)) { // otherwise replace supported phrase connectors (-_+.) with spaces\r\n\t\t\t\tp.query = p.query.replace(/(?:\\w)+?([-_\\+\\.])(?:\\w)+?/g, function(match, p1){\r\n\t\t\t\t\treturn match.replace(p1, ' ');\r\n\t\t\t\t});\r\n\t\t\t\tp.phrase = true;\r\n\t\t\t}\r\n\t\t\tp.empty = p.phrase && F.is.emptyString(p.query);\r\n\t\t\treturn p;\r\n\t\t}\r\n\t});\r\n\r\n})(FooTable);\r\n(function(F){\r\n\r\n\t/**\r\n\t * The value used by the filtering component during filter operations. Must be a string and can be set using the data-filter-value attribute on the cell itself.\r\n\t * If this is not supplied it is set to the result of the toString method called on the value for the cell. Added by the {@link FooTable.Filtering} component.\r\n\t * @type {string}\r\n\t * @default null\r\n\t */\r\n\tF.Cell.prototype.filterValue = null;\r\n\r\n\t// this is used to define the filtering specific properties on cell creation\r\n\tF.Cell.prototype.__filtering_define__ = function(valueOrElement){\r\n\t\tthis.filterValue = this.column.filterValue.call(this.column, valueOrElement);\r\n\t};\r\n\r\n\t// this is used to update the filterValue property whenever the cell value is changed\r\n\tF.Cell.prototype.__filtering_val__ = function(value){\r\n\t\tif (F.is.defined(value)){\r\n\t\t\t// set only\r\n\t\t\tthis.filterValue = this.column.filterValue.call(this.column, value);\r\n\t\t}\r\n\t};\r\n\r\n\t// overrides the public define method and replaces it with our own\r\n\tF.Cell.extend('define', function(valueOrElement){\r\n\t\tthis._super(valueOrElement);\r\n\t\tthis.__filtering_define__(valueOrElement);\r\n\t});\r\n\t// overrides the public val method and replaces it with our own\r\n\tF.Cell.extend('val', function(value, redraw, redrawSelf){\r\n\t\tvar val = this._super(value, redraw, redrawSelf);\r\n\t\tthis.__filtering_val__(value);\r\n\t\treturn val;\r\n\t});\r\n})(FooTable);\r\n(function($, F){\r\n\t/**\r\n\t * Whether or not the column can be used during filtering. Added by the {@link FooTable.Filtering} component.\r\n\t * @type {boolean}\r\n\t * @default true\r\n\t */\r\n\tF.Column.prototype.filterable = true;\r\n\r\n\t/**\r\n\t * This is supplied either the cell value or jQuery object to parse. A string value must be returned from this method and will be used during filtering operations.\r\n\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t * @returns {string}\r\n\t * @this FooTable.Column\r\n\t */\r\n\tF.Column.prototype.filterValue = function(valueOrElement){\r\n\t\t// if we have an element or a jQuery object use jQuery to get the value\r\n\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){\r\n\t\t\tvar data = $(valueOrElement).data('filterValue');\r\n\t\t\treturn F.is.defined(data) ? ''+data : $(valueOrElement).text();\r\n\t\t}\r\n\t\t// if options are supplied with the value\r\n\t\tif (F.is.hash(valueOrElement) && F.is.hash(valueOrElement.options)){\r\n\t\t\tif (F.is.string(valueOrElement.options.filterValue)) return valueOrElement.options.filterValue;\r\n\t\t\tif (F.is.defined(valueOrElement.value)) valueOrElement = valueOrElement.value;\r\n\t\t}\r\n\t\tif (F.is.defined(valueOrElement) && valueOrElement != null) return valueOrElement+''; // use the native toString of the value\r\n\t\treturn ''; // otherwise we have no value so return an empty string\r\n\t};\r\n\r\n\t// this is used to define the filtering specific properties on column creation\r\n\tF.Column.prototype.__filtering_define__ = function(definition){\r\n\t\tthis.filterable = F.is.boolean(definition.filterable) ? definition.filterable : this.filterable;\r\n\t\tthis.filterValue = F.checkFnValue(this, definition.filterValue, this.filterValue);\r\n\t};\r\n\r\n\t// overrides the public define method and replaces it with our own\r\n\tF.Column.extend('define', function(definition){\r\n\t\tthis._super(definition); // call the base so we don't have to redefine any previously set properties\r\n\t\tthis.__filtering_define__(definition); // then call our own\r\n\t});\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * An object containing the filtering options for the plugin. Added by the {@link FooTable.Filtering} component.\r\n\t * @type {object}\r\n\t * @prop {boolean} enabled=false - Whether or not to allow filtering on the table.\r\n\t * @prop {({name: string, query: (string|FooTable.Query), columns: (Array.<string>|Array.<number>|Array.<FooTable.Column>)}|Array.<FooTable.Filter>)} filters - The filters to apply to the current {@link FooTable.Rows#array}.\r\n\t * @prop {number} delay=1200 - The delay in milliseconds before the query is auto applied after a change (any value equal to or less than zero will disable this).\r\n\t * @prop {number} min=1 - The minimum number of characters allowed in the search input before it is auto applied.\r\n\t * @prop {string} space=\"AND\" - Specifies how whitespace in a filter query is handled.\r\n\t * @prop {string} placeholder=\"Search\" - The string used as the placeholder for the search input.\r\n\t * @prop {string} dropdownTitle=null - The title to display at the top of the search input column select.\r\n\t * @prop {string} position=\"right\" - The string used to specify the alignment of the search input.\r\n\t * @prop {string} connectors=true - Whether or not to replace phrase connectors (+.-_) with space before executing the query.\r\n\t * @prop {boolean} ignoreCase=true - Whether or not ignore case when matching.\r\n\t * @prop {boolean} exactMatch=false - Whether or not search queries are treated as phrases when matching.\r\n\t * @prop {boolean} focus=true - Whether or not to focus the search input after the search/clear button is clicked or after auto applying the search input query.\r\n\t * @prop {string} container=null - A selector specifying where to place the filtering components form, if null the form is displayed within a row in the head of the table.\r\n\t */\r\n\tF.Defaults.prototype.filtering = {\r\n\t\tenabled: false,\r\n\t\tfilters: [],\r\n\t\tdelay: 1200,\r\n\t\tmin: 1,\r\n\t\tspace: 'AND',\r\n\t\tplaceholder: 'Search',\r\n\t\tdropdownTitle: null,\r\n\t\tposition: 'right',\r\n\t\tconnectors: true,\r\n\t\tignoreCase: true,\r\n\t\texactMatch: false,\r\n\t\tfocus: true,\r\n\t\tcontainer: null\r\n\t};\r\n})(FooTable);\r\n(function(F){\r\n\t/**\r\n\t * Checks if the row is filtered using the supplied filters.\r\n\t * @this FooTable.Row\r\n\t * @param {Array.<FooTable.Filter>} filters - The filters to apply.\r\n\t * @returns {boolean}\r\n\t */\r\n\tF.Row.prototype.filtered = function(filters){\r\n\t\tvar result = true, self = this;\r\n\t\tF.arr.each(filters, function(f){\r\n\t\t\tif ((result = f.matchRow(self)) == false) return false;\r\n\t\t});\r\n\t\treturn result;\r\n\t};\r\n})(FooTable);\r\n(function($, F){\r\n\r\n\tF.Sorter = F.Class.extend(/** @lends FooTable.Sorter */{\r\n\t\t/**\r\n\t\t * The sorter object contains the column and direction to sort by.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {FooTable.Column} column - The column to sort.\r\n\t\t * @param {string} direction - The direction to sort by.\r\n\t\t * @returns {FooTable.Sorter}\r\n\t\t */\r\n\t\tconstruct: function(column, direction){\r\n\t\t\t/**\r\n\t\t\t * The column to sort.\r\n\t\t\t * @type {FooTable.Column}\r\n\t\t\t */\r\n\t\t\tthis.column = column;\r\n\t\t\t/**\r\n\t\t\t * The direction to sort by.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.direction = direction;\r\n\t\t}\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n(function ($, F) {\r\n\tF.Sorting = F.Component.extend(/** @lends FooTable.Sorting */{\r\n\t\t/**\r\n\t\t * The sorting component adds a small sort button to specified column headers allowing users to sort those columns in the table.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table - The parent {@link FooTable.Table} object for the component.\r\n\t\t * @returns {FooTable.Sorting}\r\n\t\t */\r\n\t\tconstruct: function (table) {\r\n\t\t\t// call the constructor of the base class\r\n\t\t\tthis._super(table, table.o.sorting.enabled);\r\n\r\n\t\t\t/* PROTECTED */\r\n\t\t\t/**\r\n\t\t\t * This provides a shortcut to the {@link FooTable.Table#options}.[sorting]{@link FooTable.Defaults#sorting} object.\r\n\t\t\t * @instance\r\n\t\t\t * @protected\r\n\t\t\t * @type {object}\r\n\t\t\t */\r\n\t\t\tthis.o = table.o.sorting;\r\n\t\t\t/**\r\n\t\t\t * The current sorted column.\r\n\t\t\t * @instance\r\n\t\t\t * @type {FooTable.Column}\r\n\t\t\t */\r\n\t\t\tthis.column = null;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to allow sorting to occur, should be set using the {@link FooTable.Sorting#toggleAllowed} method.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.allowed = true;\r\n\t\t\t/**\r\n\t\t\t * The initial sort state of the table, this value is used for determining if the sorting has occurred or to reset the state to default.\r\n\t\t\t * @instance\r\n\t\t\t * @type {{isset: boolean, rows: Array.<FooTable.Row>, column: string, direction: ?string}}\r\n\t\t\t */\r\n\t\t\tthis.initial = null;\r\n\t\t},\r\n\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * Checks the supplied data and options for the sorting component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the parent table.\r\n\t\t * @fires FooTable.Sorting#\"preinit.ft.sorting\"\r\n\t\t * @this FooTable.Sorting\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.sorting event is raised before the UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Sorting#\"preinit.ft.sorting\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\tthis.ft.raise('preinit.ft.sorting', [data]).then(function(){\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-sorting'))\r\n\t\t\t\t\tself.enabled = true;\r\n\t\t\t\tself.enabled = F.is.boolean(data.sorting)\r\n\t\t\t\t\t? data.sorting\r\n\t\t\t\t\t: self.enabled;\r\n\t\t\t\tif (!self.enabled) return;\r\n\t\t\t\tself.column = F.arr.first(self.ft.columns.array, function(col){ return col.sorted; });\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the sorting component for the plugin using the supplied table and options.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Sorting#\"init.ft.sorting\"\r\n\t\t * @this FooTable.Sorting\r\n\t\t */\r\n\t\tinit: function () {\r\n\t\t\t/**\r\n\t\t\t * The init.ft.sorting event is raised before its UI is generated.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Sorting#\"init.ft.sorting\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('init.ft.sorting').then(function(){\r\n\t\t\t\tif (!self.initial){\r\n\t\t\t\t\tvar isset = !!self.column;\r\n\t\t\t\t\tself.initial = {\r\n\t\t\t\t\t\tisset: isset,\r\n\t\t\t\t\t\t// grab a shallow copy of the rows array prior to sorting - allows us to reset without an initial sort\r\n\t\t\t\t\t\trows: self.ft.rows.all.slice(0),\r\n\t\t\t\t\t\t// if there is a sorted column store its name and direction\r\n\t\t\t\t\t\tcolumn: isset ? self.column.name : null,\r\n\t\t\t\t\t\tdirection: isset ? self.column.direction : null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tF.arr.each(self.ft.columns.array, function(col){\r\n\t\t\t\t\tif (col.sortable){\r\n\t\t\t\t\t\tcol.$el.addClass('footable-sortable').append($('<span/>', {'class': 'fooicon fooicon-sort'}));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tself.ft.$el.on('click.footable', '.footable-sortable', { self: self }, self._onSortClicked);\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys the sorting component removing any UI generated from the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Sorting#\"destroy.ft.sorting\"\r\n\t\t */\r\n\t\tdestroy: function () {\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.sorting event is raised before its UI is removed.\r\n\t\t\t * Calling preventDefault on this event will prevent the component from being destroyed.\r\n\t\t\t * @event FooTable.Sorting#\"destroy.ft.sorting\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('destroy.ft.paging').then(function(){\r\n\t\t\t\tself.ft.$el.off('click.footable', '.footable-sortable', self._onSortClicked);\r\n\t\t\t\tself.ft.$el.children('thead').children('tr.footable-header')\r\n\t\t\t\t\t.children('.footable-sortable').removeClass('footable-sortable footable-asc footable-desc')\r\n\t\t\t\t\t.find('span.fooicon').remove();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the actual sorting against the {@link FooTable.Rows#current} array.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tpredraw: function () {\r\n\t\t\tif (!this.column) return;\r\n\t\t\tvar self = this, col = self.column;\r\n\t\t\tself.ft.rows.array.sort(function (a, b) {\r\n\t\t\t\treturn col.direction == 'DESC'\r\n\t\t\t\t\t\t? col.sorter(b.cells[col.index].sortValue, a.cells[col.index].sortValue)\r\n\t\t\t\t\t\t: col.sorter(a.cells[col.index].sortValue, b.cells[col.index].sortValue);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Updates the sorting UI setting the state of the sort buttons.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tdraw: function () {\r\n\t\t\tif (!this.column) return;\r\n\t\t\tvar self = this,\r\n\t\t\t\t$sortable = self.ft.$el.find('thead > tr > .footable-sortable'),\r\n\t\t\t\t$active = self.column.$el;\r\n\r\n\t\t\t$sortable.removeClass('footable-asc footable-desc').children('.fooicon').removeClass('fooicon-sort fooicon-sort-asc fooicon-sort-desc');\r\n\t\t\t$sortable.not($active).children('.fooicon').addClass('fooicon-sort');\r\n\t\t\t$active.addClass(self.column.direction == 'DESC' ? 'footable-desc' : 'footable-asc')\r\n\t\t\t\t.children('.fooicon').addClass(self.column.direction == 'DESC' ? 'fooicon-sort-desc' : 'fooicon-sort-asc');\r\n\t\t},\r\n\r\n\t\t/* PUBLIC */\r\n\t\t/**\r\n\t\t * Sets the sorting options and calls the {@link FooTable.Table#draw} method to perform the actual sorting.\r\n\t\t * @instance\r\n\t\t * @param {(string|number|FooTable.Column)} column - The column name, index or the actual {@link FooTable.Column} object to sort by.\r\n\t\t * @param {string} [direction=\"ASC\"] - The direction to sort by, either ASC or DESC.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Sorting#\"before.ft.sorting\"\r\n\t\t * @fires FooTable.Sorting#\"after.ft.sorting\"\r\n\t\t */\r\n\t\tsort: function(column, direction){\r\n\t\t\treturn this._sort(column, direction);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Toggles whether or not sorting is currently allowed.\r\n\t\t * @param {boolean} [state] - You can optionally specify the state you want it to be, if not supplied the current value is flipped.\r\n\t\t */\r\n\t\ttoggleAllowed: function(state){\r\n\t\t\tstate = F.is.boolean(state) ? state : !this.allowed;\r\n\t\t\tthis.allowed = state;\r\n\t\t\tthis.ft.$el.toggleClass('footable-sorting-disabled', !this.allowed);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Checks whether any sorting has occurred for the table.\r\n\t\t * @returns {boolean}\r\n\t\t */\r\n\t\thasChanged: function(){\r\n\t\t\treturn !(!this.initial || !this.column ||\r\n\t\t\t\t(this.column.name === this.initial.column &&\r\n\t\t\t\t\t(this.column.direction === this.initial.direction || (this.initial.direction === null && this.column.direction === 'ASC')))\r\n\t\t\t);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Resets the table sorting to the initial state recorded in the components init method.\r\n\t\t */\r\n\t\treset: function(){\r\n\t\t\tif (!!this.initial){\r\n\t\t\t\tif (this.initial.isset){\r\n\t\t\t\t\t// if the initial value specified a column, sort by it\r\n\t\t\t\t\tthis.sort(this.initial.column, this.initial.direction);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// if there was no initial column then we need to reset the rows to there original order\r\n\t\t\t\t\tif (!!this.column){\r\n\t\t\t\t\t\t// if there is a currently sorted column remove the asc/desc classes and set it to null.\r\n\t\t\t\t\t\tthis.column.$el.removeClass('footable-asc footable-desc');\r\n\t\t\t\t\t\tthis.column = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// replace the current all rows array with the one stored in the initial value\r\n\t\t\t\t\tthis.ft.rows.all = this.initial.rows;\r\n\t\t\t\t\t// force the table to redraw itself using the updated rows array\r\n\t\t\t\t\tthis.ft.draw();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/* PRIVATE */\r\n\t\t/**\r\n\t\t * Performs the required steps to handle sorting including the raising of the {@link FooTable.Sorting#\"before.ft.sorting\"} and {@link FooTable.Sorting#\"after.ft.sorting\"} events.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {(string|number|FooTable.Column)} column - The column name, index or the actual {@link FooTable.Column} object to sort by.\r\n\t\t * @param {string} [direction=\"ASC\"] - The direction to sort by, either ASC or DESC.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Sorting#\"before.ft.sorting\"\r\n\t\t * @fires FooTable.Sorting#\"after.ft.sorting\"\r\n\t\t */\r\n\t\t_sort: function(column, direction){\r\n\t\t\tif (!this.allowed) return $.Deferred().reject('sorting disabled');\r\n\t\t\tvar self = this;\r\n\t\t\tvar sorter = new F.Sorter(self.ft.columns.get(column), F.Sorting.dir(direction));\r\n\t\t\t/**\r\n\t\t\t * The before.ft.sorting event is raised before a sort is applied and allows listeners to modify the sorter or cancel it completely by calling preventDefault on the jQuery.Event object.\r\n\t\t\t * @event FooTable.Sorting#\"before.ft.sorting\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {FooTable.Sorter} sorter - The sorter that is about to be applied.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('before.ft.sorting', [sorter]).then(function(){\r\n\t\t\t\tF.arr.each(self.ft.columns.array, function(col){\r\n\t\t\t\t\tif (col != self.column) col.direction = null;\r\n\t\t\t\t});\r\n\t\t\t\tself.column = self.ft.columns.get(sorter.column);\r\n\t\t\t\tif (self.column) self.column.direction = F.Sorting.dir(sorter.direction);\r\n\t\t\t\treturn self.ft.draw().then(function(){\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * The after.ft.sorting event is raised after a sorter has been applied.\r\n\t\t\t\t\t * @event FooTable.Sorting#\"after.ft.sorting\"\r\n\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t * @param {FooTable.Sorter} sorter - The sorter that has been applied.\r\n\t\t\t\t\t */\r\n\t\t\t\t\tself.ft.raise('after.ft.sorting', [sorter]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the sort button clicked event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onSortClicked: function (e) {\r\n\t\t\tvar self = e.data.self, $header = $(this).closest('th,td'),\r\n\t\t\t\tdirection = $header.is('.footable-asc, .footable-desc')\r\n\t\t\t\t\t? ($header.hasClass('footable-desc') ? 'ASC' : 'DESC')\r\n\t\t\t\t\t: 'ASC';\r\n\t\t\tself._sort($header.index(), direction);\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * Checks the supplied string is a valid direction and if not returns ASC as default.\r\n\t * @static\r\n\t * @protected\r\n\t * @param {string} str - The string to check.\r\n\t */\r\n\tF.Sorting.dir = function(str){\r\n\t\treturn F.is.string(str) && (str == 'ASC' || str == 'DESC') ? str : 'ASC';\r\n\t};\r\n\r\n\tF.components.register('sorting', F.Sorting, 600);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\r\n\t/**\r\n\t * The value used by the sorting component during sort operations. Can be set using the data-sort-value attribute on the cell itself.\r\n\t * If this is not supplied it is set to the result of the toString method called on the value for the cell. Added by the {@link FooTable.Sorting} component.\r\n\t * @type {string}\r\n\t * @default null\r\n\t */\r\n\tF.Cell.prototype.sortValue = null;\r\n\r\n\t// this is used to define the sorting specific properties on cell creation\r\n\tF.Cell.prototype.__sorting_define__ = function(valueOrElement){\r\n\t\tthis.sortValue = this.column.sortValue.call(this.column, valueOrElement);\r\n\t};\r\n\r\n\t// this is used to update the sortValue property whenever the cell value is changed\r\n\tF.Cell.prototype.__sorting_val__ = function(value){\r\n\t\tif (F.is.defined(value)){\r\n\t\t\t// set only\r\n\t\t\tthis.sortValue = this.column.sortValue.call(this.column, value);\r\n\t\t}\r\n\t};\r\n\r\n\t// overrides the public define method and replaces it with our own\r\n\tF.Cell.extend('define', function(valueOrElement){\r\n\t\tthis._super(valueOrElement);\r\n\t\tthis.__sorting_define__(valueOrElement);\r\n\t});\r\n\t// overrides the public val method and replaces it with our own\r\n\tF.Cell.extend('val', function(value, redraw, redrawSelf){\r\n\t\tvar val = this._super(value, redraw, redrawSelf);\r\n\t\tthis.__sorting_val__(value);\r\n\t\treturn val;\r\n\t});\r\n})(FooTable);\r\n(function($, F){\r\n\t/**\r\n\t * The direction to sort if the {@link FooTable.Column#sorted} property is set to true. Can be \"ASC\", \"DESC\" or NULL. Added by the {@link FooTable.Sorting} component.\r\n\t * @type {string}\r\n\t * @default null\r\n\t */\r\n\tF.Column.prototype.direction = null;\r\n\t/**\r\n\t * Whether or not the column can be sorted. Added by the {@link FooTable.Sorting} component.\r\n\t * @type {boolean}\r\n\t * @default true\r\n\t */\r\n\tF.Column.prototype.sortable = true;\r\n\t/**\r\n\t * Whether or not the column is sorted. Added by the {@link FooTable.Sorting} component.\r\n\t * @type {boolean}\r\n\t * @default false\r\n\t */\r\n\tF.Column.prototype.sorted = false;\r\n\r\n\t/**\r\n\t * This is supplied two values from the column for a comparison to be made and the result returned. Added by the {@link FooTable.Sorting} component.\r\n\t * @param {*} a - The first value to be compared.\r\n\t * @param {*} b - The second value to compare to the first.\r\n\t * @returns {number}\r\n\t * @example <caption>This example shows using pseudo code what a sort function would look like.</caption>\r\n\t * \"sorter\": function(a, b){\r\n\t * \tif (a is less than b by some ordering criterion) {\r\n\t * \t\treturn -1;\r\n\t * \t}\r\n\t * \tif (a is greater than b by the ordering criterion) {\r\n\t * \t\treturn 1;\r\n\t * \t}\r\n\t * \t// a must be equal to b\r\n\t * \treturn 0;\r\n\t * }\r\n\t */\r\n\tF.Column.prototype.sorter = function(a, b){\r\n\t\tif (typeof a === 'string') a = a.toLowerCase();\r\n\t\tif (typeof b === 'string') b = b.toLowerCase();\r\n\t\tif (a === b) return 0;\r\n\t\tif (a < b) return -1;\r\n\t\treturn 1;\r\n\t};\r\n\r\n\t/**\r\n\t * This is supplied either the cell value or jQuery object to parse. A value must be returned from this method and will be used during sorting operations.\r\n\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t * @returns {*}\r\n\t * @this FooTable.Column\r\n\t */\r\n\tF.Column.prototype.sortValue = function(valueOrElement){\r\n\t\t// if we have an element or a jQuery object use jQuery to get the value\r\n\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){\r\n\t\t\tvar data = $(valueOrElement).data('sortValue');\r\n\t\t\treturn F.is.defined(data) ? data : this.parser(valueOrElement);\r\n\t\t}\r\n\t\t// if options are supplied with the value\r\n\t\tif (F.is.hash(valueOrElement) && F.is.hash(valueOrElement.options)){\r\n\t\t\tif (F.is.string(valueOrElement.options.sortValue)) return valueOrElement.options.sortValue;\r\n\t\t\tif (F.is.defined(valueOrElement.value)) valueOrElement = valueOrElement.value;\r\n\t\t}\r\n\t\tif (F.is.defined(valueOrElement) && valueOrElement != null) return valueOrElement;\r\n\t\treturn null;\r\n\t};\r\n\r\n\t// this is used to define the sorting specific properties on column creation\r\n\tF.Column.prototype.__sorting_define__ = function(definition){\r\n\t\tthis.sorter = F.checkFnValue(this, definition.sorter, this.sorter);\r\n\t\tthis.direction = F.is.type(definition.direction, 'string') ? F.Sorting.dir(definition.direction) : null;\r\n\t\tthis.sortable = F.is.boolean(definition.sortable) ? definition.sortable : true;\r\n\t\tthis.sorted = F.is.boolean(definition.sorted) ? definition.sorted : false;\r\n\t\tthis.sortValue = F.checkFnValue(this, definition.sortValue, this.sortValue);\r\n\t};\r\n\r\n\t// overrides the public define method and replaces it with our own\r\n\tF.Column.extend('define', function(definition){\r\n\t\tthis._super(definition);\r\n\t\tthis.__sorting_define__(definition);\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * An object containing the sorting options for the plugin. Added by the {@link FooTable.Sorting} component.\r\n\t * @type {object}\r\n\t * @prop {boolean} enabled=false - Whether or not to allow sorting on the table.\r\n\t */\r\n\tF.Defaults.prototype.sorting = {\r\n\t\tenabled: false\r\n\t};\r\n})(FooTable);\r\n(function($, F){\r\n\r\n\tF.HTMLColumn.extend('__sorting_define__', function(definition){\r\n\t\tthis._super(definition);\r\n\t\tthis.sortUse = F.is.string(definition.sortUse) && $.inArray(definition.sortUse, ['html','text']) !== -1 ? definition.sortUse : 'html';\r\n\t});\r\n\r\n\t/**\r\n\t * This is supplied either the cell value or jQuery object to parse. A value must be returned from this method and will be used during sorting operations.\r\n\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t * @returns {*}\r\n\t * @this FooTable.HTMLColumn\r\n\t */\r\n\tF.HTMLColumn.prototype.sortValue = function(valueOrElement){\r\n\t\t// if we have an element or a jQuery object use jQuery to get the data value or pass it off to the parser\r\n\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){\r\n\t\t\tvar data = $(valueOrElement).data('sortValue');\r\n\t\t\treturn F.is.defined(data) ? data : this.parser(valueOrElement);\r\n\t\t}\r\n\t\t// if options are supplied with the value\r\n\t\tif (F.is.hash(valueOrElement) && F.is.hash(valueOrElement.options)){\r\n\t\t\tif (F.is.string(valueOrElement.options.sortValue)) return valueOrElement.options.sortValue;\r\n\t\t\tif (F.is.defined(valueOrElement.value)) valueOrElement = valueOrElement.value;\r\n\t\t}\r\n\t\tif (F.is.defined(valueOrElement) && valueOrElement != null) return valueOrElement;\r\n\t\treturn null;\r\n\t};\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\t/**\r\n\t * This is supplied either the cell value or jQuery object to parse. A value must be returned from this method and will be used during sorting operations.\r\n\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t * @returns {*}\r\n\t */\r\n\tF.NumberColumn.prototype.sortValue = function(valueOrElement){\r\n\t\t// if we have an element or a jQuery object use jQuery to get the data value or pass it off to the parser\r\n\t\tif (F.is.element(valueOrElement) || F.is.jq(valueOrElement)){\r\n\t\t\tvar data = $(valueOrElement).data('sortValue');\r\n\t\t\treturn F.is.number(data) ? data : this.parser(valueOrElement);\r\n\t\t}\r\n\t\t// if options are supplied with the value\r\n\t\tif (F.is.hash(valueOrElement) && F.is.hash(valueOrElement.options)){\r\n\t\t\tif (F.is.string(valueOrElement.options.sortValue)) return this.parser(valueOrElement);\r\n\t\t\tif (F.is.number(valueOrElement.options.sortValue)) return valueOrElement.options.sortValue;\r\n\t\t\tif (F.is.number(valueOrElement.value)) return valueOrElement.value;\r\n\t\t}\r\n\t\tif (F.is.string(valueOrElement)) return this.parser(valueOrElement);\r\n\t\tif (F.is.number(valueOrElement)) return valueOrElement;\r\n\t\treturn null;\r\n\t};\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * Sort the table using the specified column and direction. Added by the {@link FooTable.Sorting} component.\r\n\t * @instance\r\n\t * @param {(string|number|FooTable.Column)} column - The column name, index or the actual {@link FooTable.Column} object to sort by.\r\n\t * @param {string} [direction=\"ASC\"] - The direction to sort by, either ASC or DESC.\r\n\t * @returns {jQuery.Promise}\r\n\t * @fires FooTable.Sorting#\"change.ft.sorting\"\r\n\t * @fires FooTable.Sorting#\"changed.ft.sorting\"\r\n\t * @see FooTable.Sorting#sort\r\n\t */\r\n\tF.Table.prototype.sort = function(column, direction){\r\n\t\treturn this.use(F.Sorting).sort(column, direction);\r\n\t};\r\n})(FooTable);\r\n(function($, F){\r\n\r\n\tF.Pager = F.Class.extend(/** @lends FooTable.Pager */{\r\n\t\t/**\r\n\t\t * The pager object contains the page number and direction to page to.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Class\r\n\t\t * @param {number} total - The total number of pages available.\r\n\t\t * @param {number} current - The current page number.\r\n\t\t * @param {number} size - The number of rows per page.\r\n\t\t * @param {number} page - The page number to goto.\r\n\t\t * @param {boolean} forward - A boolean indicating the direction of paging, TRUE = forward, FALSE = back.\r\n\t\t * @returns {FooTable.Pager}\r\n\t\t */\r\n\t\tconstruct: function(total, current, size, page, forward){\r\n\t\t\t/**\r\n\t\t\t * The total number of pages available.\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.total = total;\r\n\t\t\t/**\r\n\t\t\t * The current page number.\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.current = current;\r\n\t\t\t/**\r\n\t\t\t * The number of rows per page.\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.size = size;\r\n\t\t\t/**\r\n\t\t\t * The page number to goto.\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.page = page;\r\n\t\t\t/**\r\n\t\t\t * A boolean indicating the direction of paging, TRUE = forward, FALSE = back.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.forward = forward;\r\n\t\t}\r\n\t});\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\tF.Paging = F.Component.extend(/** @lends FooTable.Paging */{\r\n\t\t/**\r\n\t\t * The paging component adds a pagination control to the table allowing users to navigate table rows via pages.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table - The parent {@link FooTable.Table} object for the component.\r\n\t\t * @returns {FooTable.Filtering}\r\n\t\t */\r\n\t\tconstruct: function(table){\r\n\t\t\t// call the base constructor\r\n\t\t\tthis._super(table, table.o.paging.enabled);\r\n\r\n\t\t\t/* PROTECTED */\r\n\t\t\t/**\r\n\t\t\t * An object containing the strings used by the paging buttons.\r\n\t\t\t * @type {{ first: string, prev: string, next: string, last: string }}\r\n\t\t\t */\r\n\t\t\tthis.strings = table.o.paging.strings;\r\n\r\n\t\t\t/* PUBLIC */\r\n\t\t\t/**\r\n\t\t\t * The current page number to display.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.current = table.o.paging.current;\r\n\t\t\t/**\r\n\t\t\t * The number of rows to display per page.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.size = table.o.paging.size;\r\n\t\t\t/**\r\n\t\t\t * The maximum number of page links to display at once.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.limit = table.o.paging.limit;\r\n\t\t\t/**\r\n\t\t\t * The position of the pagination control within the paging rows cell.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.position = table.o.paging.position;\r\n\t\t\t/**\r\n\t\t\t * The format string used to generate the text displayed under the pagination control.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.countFormat = table.o.paging.countFormat;\r\n\t\t\t/**\r\n\t\t\t * A selector specifying where to place the paging components UI, if null the UI is displayed within a row in the foot of the table.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.container = table.o.paging.container;\r\n\t\t\t\t/**\r\n\t\t\t * The total number of pages.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.total = -1;\r\n\t\t\t/**\r\n\t\t\t * The number of rows in the {@link FooTable.Rows#array} before paging is applied.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.totalRows = 0;\r\n\t\t\t/**\r\n\t\t\t * A number indicating the previous page displayed.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tthis.previous = -1;\r\n\t\t\t/**\r\n\t\t\t * The count string generated using the {@link FooTable.Filtering#countFormat} option. This value is only set after the first call to the {@link FooTable.Filtering#predraw} method.\r\n\t\t\t * @instance\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.formattedCount = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object of the element containing the entire paging UI.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$container = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object of the element wrapping all the paging UI elements.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$wrapper = null;\r\n\t\t\t/** +\r\n\t\t\t * The jQuery row object that contains all the paging specific elements.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$row = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery cell object that contains the pagination control and total count.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$cell = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object that contains the links for the pagination control.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$pagination = null;\r\n\t\t\t/**\r\n\t\t\t * The jQuery object that contains the row count.\r\n\t\t\t * @instance\r\n\t\t\t * @type {jQuery}\r\n\t\t\t */\r\n\t\t\tthis.$count = null;\r\n\t\t\t/**\r\n\t\t\t * Whether or not the pagination row is detached from the table.\r\n\t\t\t * @instance\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.detached = true;\r\n\r\n\t\t\t/* PRIVATE */\r\n\t\t\t/**\r\n\t\t\t * Used to hold the number of page links created.\r\n\t\t\t * @instance\r\n\t\t\t * @type {number}\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\tthis._createdLinks = 0;\r\n\t\t},\r\n\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * Checks the supplied data and options for the paging component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the parent table.\r\n\t\t * @fires FooTable.Paging#\"preinit.ft.paging\"\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.paging event is raised before the UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Paging#\"preinit.ft.paging\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\tthis.ft.raise('preinit.ft.paging', [data]).then(function(){\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-paging'))\r\n\t\t\t\t\tself.enabled = true;\r\n\t\t\t\tself.enabled = F.is.boolean(data.paging)\r\n\t\t\t\t\t? data.paging\r\n\t\t\t\t\t: self.enabled;\r\n\r\n\t\t\t\tif (!self.enabled) return;\r\n\r\n\t\t\t\tself.size = F.is.number(data.pagingSize)\r\n\t\t\t\t\t? data.pagingSize\r\n\t\t\t\t\t: self.size;\r\n\r\n\t\t\t\tself.current = F.is.number(data.pagingCurrent)\r\n\t\t\t\t\t? data.pagingCurrent\r\n\t\t\t\t\t: self.current;\r\n\r\n\t\t\t\tself.limit = F.is.number(data.pagingLimit)\r\n\t\t\t\t\t? data.pagingLimit\r\n\t\t\t\t\t: self.limit;\r\n\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-paging-left'))\r\n\t\t\t\t\tself.position = 'left';\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-paging-center'))\r\n\t\t\t\t\tself.position = 'center';\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-paging-right'))\r\n\t\t\t\t\tself.position = 'right';\r\n\r\n\t\t\t\tself.position = F.is.string(data.pagingPosition)\r\n\t\t\t\t\t? data.pagingPosition\r\n\t\t\t\t\t: self.position;\r\n\r\n\t\t\t\tself.countFormat = F.is.string(data.pagingCountFormat)\r\n\t\t\t\t\t? data.pagingCountFormat\r\n\t\t\t\t\t: self.countFormat;\r\n\r\n\t\t\t\tself.container = F.is.string(data.pagingContainer)\r\n\t\t\t\t\t? data.pagingContainer\r\n\t\t\t\t\t: self.container;\r\n\r\n\t\t\t\tself.total = Math.ceil(self.ft.rows.all.length / self.size);\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the paging component for the plugin using the supplied table and options.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Paging#\"init.ft.paging\"\r\n\t\t */\r\n\t\tinit: function(){\r\n\t\t\t/**\r\n\t\t\t * The init.ft.paging event is raised before its UI is generated.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Paging#\"init.ft.paging\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('init.ft.paging').then(function(){\r\n\t\t\t\tself.$create();\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys the paging component removing any UI generated from the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Paging#\"destroy.ft.paging\"\r\n\t\t */\r\n\t\tdestroy: function () {\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.paging event is raised before its UI is removed.\r\n\t\t\t * Calling preventDefault on this event will prevent the component from being destroyed.\r\n\t\t\t * @event FooTable.Paging#\"destroy.ft.paging\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('destroy.ft.paging').then(function(){\r\n\t\t\t\tself.ft.$el.removeClass('footable-paging')\r\n\t\t\t\t\t.find('tfoot > tr.footable-paging').remove();\r\n\t\t\t\tself.detached = true;\r\n\t\t\t\tself._createdLinks = 0;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the actual paging against the {@link FooTable.Rows#current} array removing all rows that are not on the current visible page.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tpredraw: function(){\r\n\t\t\tthis.total = Math.ceil(this.ft.rows.array.length / this.size);\r\n\t\t\tthis.current = this.current > this.total ? this.total : (this.current < 1 ? 1 : this.current);\r\n\t\t\tthis.totalRows = this.ft.rows.array.length;\r\n\t\t\tif (this.totalRows > this.size){\r\n\t\t\t\tthis.ft.rows.array = this.ft.rows.array.splice((this.current - 1) * this.size, this.size);\r\n\t\t\t}\r\n\t\t\tthis.formattedCount = this.format(this.countFormat);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Updates the paging UI setting the state of the pagination control.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\tdraw: function(){\r\n\t\t\tif (this.total <= 1){\r\n\t\t\t\tif (!this.detached){\r\n\t\t\t\t\tif (this.$row){\r\n\t\t\t\t\t\tthis.$row.detach();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$wrapper.detach();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.detached = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.detached){\r\n\t\t\t\t\tif (this.$row){\r\n\t\t\t\t\t\tvar $tfoot = this.ft.$el.children('tfoot');\r\n\t\t\t\t\t\tif ($tfoot.length == 0){\r\n\t\t\t\t\t\t\t$tfoot = $('<tfoot/>');\r\n\t\t\t\t\t\t\tthis.ft.$el.append($tfoot);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$row.appendTo($tfoot);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$wrapper.appendTo(this.$container);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.detached = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (F.is.jq(this.$cell)){\r\n\t\t\t\t\tthis.$cell.attr('colspan', this.ft.columns.visibleColspan);\r\n\t\t\t\t}\r\n\t\t\t\tthis._createLinks();\r\n\t\t\t\tthis._setVisible(this.current, this.current > this.previous);\r\n\t\t\t\tthis._setNavigation(true);\r\n\t\t\t\tthis.$count.text(this.formattedCount);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the paging UI from the current options setting the various jQuery properties of this component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\tthis._createdLinks = 0;\r\n\t\t\tvar position = 'footable-paging-center';\r\n\t\t\tswitch (this.position){\r\n\t\t\t\tcase 'left': position = 'footable-paging-left'; break;\r\n\t\t\t\tcase 'right': position = 'footable-paging-right'; break;\r\n\t\t\t}\r\n\t\t\tthis.ft.$el.addClass('footable-paging').addClass(position);\r\n\r\n\t\t\tthis.$container = this.container === null ? null : $(this.container).first();\r\n\t\t\tif (!F.is.jq(this.$container)){\r\n\t\t\t\tvar $tfoot = this.ft.$el.children('tfoot');\r\n\t\t\t\tif ($tfoot.length == 0){\r\n\t\t\t\t\t$tfoot = $('<tfoot/>');\r\n\t\t\t\t\tthis.ft.$el.append($tfoot);\r\n\t\t\t\t}\r\n\t\t\t\t// add it to a row and then populate it with the search input and column selector dropdown.\r\n\t\t\t\tthis.$row = $('<tr/>', {'class': 'footable-paging'}).prependTo($tfoot);\r\n\t\t\t\tthis.$container = this.$cell = $('<td/>').attr('colspan', this.ft.columns.visibleColspan).appendTo(this.$row);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$container.addClass('footable-paging-external').addClass(position);\r\n\t\t\t}\r\n\t\t\tthis.$wrapper = $('<div/>', {'class': 'footable-pagination-wrapper'}).appendTo(this.$container);\r\n\t\t\tthis.$pagination = $('<ul/>', { 'class': 'pagination' }).on('click.footable', 'a.footable-page-link', { self: this }, this._onPageClicked);\r\n\t\t\tthis.$count = $('<span/>', { 'class': 'label label-default' });\r\n\t\t\tthis.$wrapper.append(this.$pagination, $('<div/>', {'class': 'divider'}), this.$count);\r\n\t\t\tthis.detached = false;\r\n\t\t},\r\n\r\n\t\t/* PUBLIC */\r\n\t\t/**\r\n\t\t * @summary Uses the supplied format string and replaces the placeholder strings with the current values.\r\n\t\t * @description This method is used to generate the short description label for the pagination control. i.e. Showing X of Y records. The placeholders for this string are the following:\r\n\t\t * * {CP} - The current page number.\r\n\t\t * * {TP} - The total number of pages.\r\n\t\t * * {PF} - The first row of the current page.\r\n\t\t * * {PL} - The last row of the current page.\r\n\t\t * * {TR} - The total rows available.\r\n\t\t * These placeholders can be supplied in a string like; \"Showing {PF} to {PL} of {TR} rows.\"\r\n\t\t * @param {string} formatString - The string to be formatted with the paging specific variables.\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tformat: function(formatString){\r\n\t\t\tvar firstRow = (this.size * (this.current - 1)) + 1,\r\n\t\t\t\tlastRow = this.size * this.current;\r\n\t\t\tif (this.ft.rows.array.length == 0){\r\n\t\t\t\tfirstRow = 0;\r\n\t\t\t\tlastRow = 0;\r\n\t\t\t} else {\r\n\t\t\t\tlastRow = lastRow > this.totalRows ? this.totalRows : lastRow;\r\n\t\t\t}\r\n\t\t\treturn formatString.replace(/\\{CP}/g, this.current)\r\n\t\t\t\t.replace(/\\{TP}/g, this.total)\r\n\t\t\t\t.replace(/\\{PF}/g, firstRow)\r\n\t\t\t\t.replace(/\\{PL}/g, lastRow)\r\n\t\t\t\t.replace(/\\{TR}/g, this.totalRows);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Pages to the first page.\r\n\t\t * @instance\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Paging#\"before.ft.paging\"\r\n\t\t * @fires FooTable.Paging#\"after.ft.paging\"\r\n\t\t */\r\n\t\tfirst: function(){\r\n\t\t\treturn this._set(1);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Pages to the previous page.\r\n\t\t * @instance\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Paging#\"before.ft.paging\"\r\n\t\t * @fires FooTable.Paging#\"after.ft.paging\"\r\n\t\t */\r\n\t\tprev: function(){\r\n\t\t\treturn this._set(this.current - 1 > 0 ? this.current - 1 : 1);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Pages to the next page.\r\n\t\t * @instance\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Paging#\"before.ft.paging\"\r\n\t\t * @fires FooTable.Paging#\"after.ft.paging\"\r\n\t\t */\r\n\t\tnext: function(){\r\n\t\t\treturn this._set(this.current + 1 < this.total ? this.current + 1 : this.total);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Pages to the last page.\r\n\t\t * @instance\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Paging#\"before.ft.paging\"\r\n\t\t * @fires FooTable.Paging#\"after.ft.paging\"\r\n\t\t */\r\n\t\tlast: function(){\r\n\t\t\treturn this._set(this.total);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Pages to the specified page.\r\n\t\t * @instance\r\n\t\t * @param {number} page - The page number to go to.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Paging#\"before.ft.paging\"\r\n\t\t * @fires FooTable.Paging#\"after.ft.paging\"\r\n\t\t */\r\n\t\tgoto: function(page){\r\n\t\t\treturn this._set(page > this.total ? this.total : (page < 1 ? 1 : page));\r\n\t\t},\r\n\t\t/**\r\n\t\t * Shows the previous X number of pages in the pagination control where X is the value set by the {@link FooTable.Defaults#paging} - limit option value.\r\n\t\t * @instance\r\n\t\t */\r\n\t\tprevPages: function(){\r\n\t\t\tvar page = this.$pagination.children('li.footable-page.visible:first').data('page') - 1;\r\n\t\t\tthis._setVisible(page, true);\r\n\t\t\tthis._setNavigation(false);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Shows the next X number of pages in the pagination control where X is the value set by the {@link FooTable.Defaults#paging} - limit option value.\r\n\t\t * @instance\r\n\t\t */\r\n\t\tnextPages: function(){\r\n\t\t\tvar page = this.$pagination.children('li.footable-page.visible:last').data('page') + 1;\r\n\t\t\tthis._setVisible(page, false);\r\n\t\t\tthis._setNavigation(false);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets or sets the current page size.\r\n\t\t * @instance\r\n\t\t * @param {(number|string)} [value] - The new page size to use, this value is supplied to `parseInt` so strings can be used. If not supplied or an invalid valid the current page size is returned.\r\n\t\t * @returns {(number|undefined)}\r\n\t\t */\r\n\t\tpageSize: function(value){\r\n\t\t\tvalue = parseInt(value);\r\n\t\t\tif (isNaN(value)){\r\n\t\t\t\treturn this.size;\r\n\t\t\t}\r\n\t\t\tthis.size = value;\r\n\t\t\tthis.total = Math.ceil(this.ft.rows.all.length / this.size);\r\n\t\t\tif (F.is.jq(this.$wrapper)){\r\n\t\t\t\tif (this.$container.is(\"td\")){\r\n\t\t\t\t\tthis.$row.remove();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$wrapper.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.$create();\r\n\t\t\tthis.ft.draw();\r\n\t\t},\r\n\r\n\t\t/* PRIVATE */\r\n\t\t/**\r\n\t\t * Performs the required steps to handle paging including the raising of the {@link FooTable.Paging#\"before.ft.paging\"} and {@link FooTable.Paging#\"after.ft.paging\"} events.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {number} page - The page to set.\r\n\t\t * @returns {jQuery.Promise}\r\n\t\t * @fires FooTable.Paging#\"before.ft.paging\"\r\n\t\t * @fires FooTable.Paging#\"after.ft.paging\"\r\n\t\t */\r\n\t\t_set: function(page){\r\n\t\t\tvar self = this,\r\n\t\t\t\tpager = new F.Pager(self.total, self.current, self.size, page, page > self.current);\r\n\t\t\t/**\r\n\t\t\t * The before.ft.paging event is raised before a sort is applied and allows listeners to modify the pager or cancel it completely by calling preventDefault on the jQuery.Event object.\r\n\t\t\t * @event FooTable.Paging#\"before.ft.paging\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {FooTable.Pager} pager - The pager that is about to be applied.\r\n\t\t\t */\r\n\t\t\treturn self.ft.raise('before.ft.paging', [pager]).then(function(){\r\n\t\t\t\tpager.page = pager.page > pager.total ? pager.total\t: pager.page;\r\n\t\t\t\tpager.page = pager.page < 1 ? 1 : pager.page;\r\n\t\t\t\tif (self.current == page) return $.when();\r\n\t\t\t\tself.previous = self.current;\r\n\t\t\t\tself.current = pager.page;\r\n\t\t\t\treturn self.ft.draw().then(function(){\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * The after.ft.paging event is raised after a pager has been applied.\r\n\t\t\t\t\t * @event FooTable.Paging#\"after.ft.paging\"\r\n\t\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t\t * @param {FooTable.Pager} pager - The pager that has been applied.\r\n\t\t\t\t\t */\r\n\t\t\t\t\tself.ft.raise('after.ft.paging', [pager]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the pagination links using the current state of the plugin. If the total number of pages is the same as\r\n\t\t * the last time this function was executed it does nothing.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t */\r\n\t\t_createLinks: function(){\r\n\t\t\tif (this._createdLinks === this.total) return;\r\n\t\t\tvar self = this,\r\n\t\t\t\tmultiple = self.total > 1,\r\n\t\t\t\tlink = function(attr, html, klass){\r\n\t\t\t\t\treturn $('<li/>', {\r\n\t\t\t\t\t\t'class': klass\r\n\t\t\t\t\t}).attr('data-page', attr)\r\n\t\t\t\t\t\t.append($('<a/>', {\r\n\t\t\t\t\t\t\t'class': 'footable-page-link',\r\n\t\t\t\t\t\t\thref: '#'\r\n\t\t\t\t\t\t}).data('page', attr).html(html));\r\n\t\t\t\t};\r\n\t\t\tself.$pagination.empty();\r\n\t\t\tif (multiple) {\r\n\t\t\t\tself.$pagination.append(link('first', self.strings.first, 'footable-page-nav'));\r\n\t\t\t\tself.$pagination.append(link('prev', self.strings.prev, 'footable-page-nav'));\r\n\t\t\t\tif (self.limit > 0 && self.limit < self.total){\r\n\t\t\t\t\tself.$pagination.append(link('prev-limit', self.strings.prevPages, 'footable-page-nav'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (var i = 0, $li; i < self.total; i++){\r\n\t\t\t\t$li = link(i + 1, i + 1, 'footable-page');\r\n\t\t\t\tself.$pagination.append($li);\r\n\t\t\t}\r\n\t\t\tif (multiple){\r\n\t\t\t\tif (self.limit > 0 && self.limit < self.total){\r\n\t\t\t\t\tself.$pagination.append(link('next-limit', self.strings.nextPages, 'footable-page-nav'));\r\n\t\t\t\t}\r\n\t\t\t\tself.$pagination.append(link('next', self.strings.next, 'footable-page-nav'));\r\n\t\t\t\tself.$pagination.append(link('last', self.strings.last, 'footable-page-nav'));\r\n\t\t\t}\r\n\t\t\tself._createdLinks = self.total;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Sets the state for the navigation links of the pagination control and optionally sets the active class state on the current page link.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {boolean} active - Whether or not to set the active class state on the individual page links.\r\n\t\t */\r\n\t\t_setNavigation: function(active){\r\n\t\t\tif (this.current == 1) {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"first\"],li[data-page=\"prev\"]').addClass('disabled');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"first\"],li[data-page=\"prev\"]').removeClass('disabled');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.current == this.total) {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"next\"],li[data-page=\"last\"]').addClass('disabled');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"next\"],li[data-page=\"last\"]').removeClass('disabled');\r\n\t\t\t}\r\n\r\n\t\t\tif ((this.$pagination.children('li.footable-page.visible:first').data('page') || 1) == 1) {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"prev-limit\"]').addClass('disabled');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"prev-limit\"]').removeClass('disabled');\r\n\t\t\t}\r\n\r\n\t\t\tif ((this.$pagination.children('li.footable-page.visible:last').data('page') || this.limit) == this.total) {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"next-limit\"]').addClass('disabled');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"next-limit\"]').removeClass('disabled');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.limit > 0 && this.total < this.limit){\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"prev-limit\"],li[data-page=\"next-limit\"]').css('display', 'none');\r\n\t\t\t} else {\r\n\t\t\t\tthis.$pagination.children('li[data-page=\"prev-limit\"],li[data-page=\"next-limit\"]').css('display', '');\r\n\t\t\t}\r\n\r\n\t\t\tif (active){\r\n\t\t\t\tthis.$pagination.children('li.footable-page').removeClass('active').filter('li[data-page=\"' + this.current + '\"]').addClass('active');\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Sets the visible page using the supplied parameters.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {number} page - The page to make visible.\r\n\t\t * @param {boolean} right - If set to true the supplied page will be the right most visible pagination link.\r\n\t\t */\r\n\t\t_setVisible: function(page, right){\r\n\t\t\tif (this.limit > 0 && this.total > this.limit){\r\n\t\t\t\tif (!this.$pagination.children('li.footable-page[data-page=\"'+page+'\"]').hasClass('visible')){\r\n\t\t\t\t\tvar start = 0, end = 0;\r\n\t\t\t\t\tif (right == true){\r\n\t\t\t\t\t\tend = page > this.total ? this.total : page;\r\n\t\t\t\t\t\tstart = end - this.limit;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstart = page < 1 ? 0 : page - 1;\r\n\t\t\t\t\t\tend = start + this.limit;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (start < 0){\r\n\t\t\t\t\t\tstart = 0;\r\n\t\t\t\t\t\tend = this.limit > this.total ? this.total : this.limit;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (end > this.total){\r\n\t\t\t\t\t\tend = this.total;\r\n\t\t\t\t\t\tstart = this.total - this.limit < 0 ? 0 : this.total - this.limit;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$pagination.children('li.footable-page').removeClass('visible').slice(start, end).addClass('visible');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.$pagination.children('li.footable-page').removeClass('visible').slice(0, this.total).addClass('visible');\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the click event for all links in the pagination control.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The event object for the event.\r\n\t\t */\r\n\t\t_onPageClicked: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tif ($(e.target).closest('li').is('.active,.disabled')) return;\r\n\r\n\t\t\tvar self = e.data.self, page = $(this).data('page');\r\n\t\t\tswitch(page){\r\n\t\t\t\tcase 'first': self.first();\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase 'prev': self.prev();\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase 'next': self.next();\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase 'last': self.last();\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase 'prev-limit': self.prevPages();\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase 'next-limit': self.nextPages();\r\n\t\t\t\t\treturn;\r\n\t\t\t\tdefault: self._set(page);\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('paging', F.Paging, 400);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t/**\r\n\t * An object containing the paging options for the plugin. Added by the {@link FooTable.Paging} component.\r\n\t * @type {object}\r\n\t * @prop {boolean} enabled=false - Whether or not to allow paging on the table.\r\n\t * @prop {string} countFormat=\"{CP} of {TP}\" - A string format used to generate the page count text.\r\n\t * @prop {number} current=1 - The page number to display.\r\n\t * @prop {number} limit=5 - The maximum number of page links to display at once.\r\n\t * @prop {string} position=\"center\" - The string used to specify the alignment of the pagination control.\r\n\t * @prop {number} size=10 - The number of rows displayed per page.\r\n\t * @prop {string} container=null - A selector specifying where to place the paging components UI, if null the UI is displayed within a row in the foot of the table.\r\n\t * @prop {object} strings - An object containing the strings used by the paging buttons.\r\n\t * @prop {string} strings.first=\"&laquo;\" - The string used for the 'first' button.\r\n\t * @prop {string} strings.prev=\"&lsaquo;\" - The string used for the 'previous' button.\r\n\t * @prop {string} strings.next=\"&rsaquo;\" - The string used for the 'next' button.\r\n\t * @prop {string} strings.last=\"&raquo;\" - The string used for the 'last' button.\r\n\t * @prop {string} strings.prevPages=\"...\" - The string used for the 'previous X pages' button.\r\n\t * @prop {string} strings.nextPages=\"...\" - The string used for the 'next X pages' button.\r\n\t */\r\n\tF.Defaults.prototype.paging = {\r\n\t\tenabled: false,\r\n\t\tcountFormat: '{CP} of {TP}',\r\n\t\tcurrent: 1,\r\n\t\tlimit: 5,\r\n\t\tposition: 'center',\r\n\t\tsize: 10,\r\n\t\tcontainer: null,\r\n\t\tstrings: {\r\n\t\t\tfirst: '&laquo;',\r\n\t\t\tprev: '&lsaquo;',\r\n\t\t\tnext: '&rsaquo;',\r\n\t\t\tlast: '&raquo;',\r\n\t\t\tprevPages: '...',\r\n\t\t\tnextPages: '...'\r\n\t\t}\r\n\t};\r\n})(FooTable);\r\n(function(F){\r\n\t/**\r\n\t * Navigates to the specified page number. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @param {number} num - The page number to go to.\r\n\t * @returns {jQuery.Promise}\r\n\t * @fires FooTable.Paging#paging_changing\r\n\t * @fires FooTable.Paging#paging_changed\r\n\t * @see FooTable.Paging#goto\r\n\t */\r\n\tF.Table.prototype.gotoPage = function(num){\r\n\t\treturn this.use(F.Paging).goto(num);\r\n\t};\r\n\r\n\t/**\r\n\t * Navigates to the next page. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @returns {jQuery.Promise}\r\n\t * @fires FooTable.Paging#paging_changing\r\n\t * @fires FooTable.Paging#paging_changed\r\n\t * @see FooTable.Paging#next\r\n\t */\r\n\tF.Table.prototype.nextPage = function(){\r\n\t\treturn this.use(F.Paging).next();\r\n\t};\r\n\r\n\t/**\r\n\t * Navigates to the previous page. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @returns {jQuery.Promise}\r\n\t * @fires FooTable.Paging#paging_changing\r\n\t * @fires FooTable.Paging#paging_changed\r\n\t * @see FooTable.Paging#prev\r\n\t */\r\n\tF.Table.prototype.prevPage = function(){\r\n\t\treturn this.use(F.Paging).prev();\r\n\t};\r\n\r\n\t/**\r\n\t * Navigates to the first page. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @returns {jQuery.Promise}\r\n\t * @fires FooTable.Paging#paging_changing\r\n\t * @fires FooTable.Paging#paging_changed\r\n\t * @see FooTable.Paging#first\r\n\t */\r\n\tF.Table.prototype.firstPage = function(){\r\n\t\treturn this.use(F.Paging).first();\r\n\t};\r\n\r\n\t/**\r\n\t * Navigates to the last page. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @returns {jQuery.Promise}\r\n\t * @fires FooTable.Paging#paging_changing\r\n\t * @fires FooTable.Paging#paging_changed\r\n\t * @see FooTable.Paging#last\r\n\t */\r\n\tF.Table.prototype.lastPage = function(){\r\n\t\treturn this.use(F.Paging).last();\r\n\t};\r\n\r\n\t/**\r\n\t * Shows the next X number of pages in the pagination control where X is the value set by the {@link FooTable.Defaults#paging} - limit.size option value. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @see FooTable.Paging#nextPages\r\n\t */\r\n\tF.Table.prototype.nextPages = function(){\r\n\t\treturn this.use(F.Paging).nextPages();\r\n\t};\r\n\r\n\t/**\r\n\t * Shows the previous X number of pages in the pagination control where X is the value set by the {@link FooTable.Defaults#paging} - limit.size option value. Added by the {@link FooTable.Paging} component.\r\n\t * @instance\r\n\t * @see FooTable.Paging#prevPages\r\n\t */\r\n\tF.Table.prototype.prevPages = function(){\r\n\t\treturn this.use(F.Paging).prevPages();\r\n\t};\r\n\r\n\t/**\r\n\t * Gets or sets the current page size\r\n\t * @instance\r\n\t * @param {number} [value] - The new page size to use.\r\n\t * @returns {(number|undefined)}\r\n\t * @see FooTable.Paging#pageSize\r\n\t */\r\n\tF.Table.prototype.pageSize = function(value){\r\n\t\treturn this.use(F.Paging).pageSize(value);\r\n\t};\r\n})(FooTable);\r\n(function($, F){\r\n\r\n\tF.Editing = F.Component.extend(/** @lends FooTable.Editing */{\r\n\t\t/**\r\n\t\t * The editing component adds a column with edit and delete buttons to each row as well as a single add row button in the footer.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table - The parent {@link FooTable.Table} object for the component.\r\n\t\t * @returns {FooTable.Editing}\r\n\t\t */\r\n\t\tconstruct: function(table){\r\n\t\t\t// call the base constructor\r\n\t\t\tthis._super(table, table.o.editing.enabled);\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not to automatically page to a new row when it is added to the table.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.pageToNew = table.o.editing.pageToNew;\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not the editing column and add row button are always visible.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.alwaysShow = table.o.editing.alwaysShow;\r\n\r\n\t\t\t/**\r\n\t\t\t * The options for the editing column. @see {@link FooTable.EditingColumn} for more info.\r\n\t\t\t * @type {object}\r\n\t\t\t * @prop {string} classes=\"footable-editing\" - A space separated string of class names to apply to all cells in the column.\r\n\t\t\t * @prop {string} name=\"editing\" - The name of the column.\r\n\t\t\t * @prop {string} title=\"\" - The title displayed in the header row of the table for the column.\r\n\t\t\t * @prop {boolean} filterable=false - Whether or not the column should be filterable when using the filtering component.\r\n\t\t\t * @prop {boolean} sortable=false - Whether or not the column should be sortable when using the sorting component.\r\n\t\t\t */\r\n\t\t\tthis.column = $.extend(true, {}, table.o.editing.column, {visible: this.alwaysShow});\r\n\r\n\t\t\t/**\r\n\t\t\t * The position of the editing column in the table as well as the alignment of the buttons.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.position = table.o.editing.position;\r\n\r\n\r\n\t\t\t/**\r\n\t\t\t * The text that appears in the show button. This can contain HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.showText = table.o.editing.showText;\r\n\r\n\t\t\t/**\r\n\t\t\t * The text that appears in the hide button. This can contain HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.hideText = table.o.editing.hideText;\r\n\r\n\t\t\t/**\r\n\t\t\t * The text that appears in the add button. This can contain HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.addText = table.o.editing.addText;\r\n\r\n\t\t\t/**\r\n\t\t\t * The text that appears in the edit button. This can contain HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.editText = table.o.editing.editText;\r\n\r\n\t\t\t/**\r\n\t\t\t * The text that appears in the delete button. This can contain HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.deleteText = table.o.editing.deleteText;\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * The text that appears in the view button. This can contain HTML.\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tthis.viewText = table.o.editing.viewText;\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not to show the Add Row button.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.allowAdd = table.o.editing.allowAdd;\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not to show the Edit Row button.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.allowEdit = table.o.editing.allowEdit;\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not to show the Delete Row button.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.allowDelete = table.o.editing.allowDelete;\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not to show the View Row button.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.allowView = table.o.editing.allowView;\r\n\r\n\t\t\t/**\r\n\t\t\t * Caches the row button elements to help with performance.\r\n\t\t\t * @type {(null|jQuery)}\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\tthis._$buttons = null;\r\n\r\n\t\t\t/**\r\n\t\t\t * This object is used to contain the callbacks for the add, edit and delete row buttons.\r\n\t\t\t * @type {object}\r\n\t\t\t * @prop {function} addRow\r\n\t\t\t * @prop {function} editRow\r\n\t\t\t * @prop {function} deleteRow\r\n\t\t\t * @prop {function} viewRow\r\n\t\t\t */\r\n\t\t\tthis.callbacks = {\r\n\t\t\t\taddRow: F.checkFnValue(this, table.o.editing.addRow),\r\n\t\t\t\teditRow: F.checkFnValue(this, table.o.editing.editRow),\r\n\t\t\t\tdeleteRow: F.checkFnValue(this, table.o.editing.deleteRow),\r\n\t\t\t\tviewRow: F.checkFnValue(this, table.o.editing.viewRow)\r\n\t\t\t};\r\n\t\t},\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * Checks the supplied data and options for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the parent table.\r\n\t\t * @fires FooTable.Editing#\"preinit.ft.editing\"\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.editing event is raised before the UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Editing#\"preinit.ft.editing\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\tthis.ft.raise('preinit.ft.editing', [data]).then(function(){\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-editing'))\r\n\t\t\t\t\tself.enabled = true;\r\n\r\n\t\t\t\tself.enabled = F.is.boolean(data.editing)\r\n\t\t\t\t\t? data.editing\r\n\t\t\t\t\t: self.enabled;\r\n\r\n\t\t\t\tif (!self.enabled) return;\r\n\r\n\t\t\t\tself.pageToNew = F.is.boolean(data.editingPageToNew) ? data.editingPageToNew : self.pageToNew;\r\n\r\n\t\t\t\tself.alwaysShow = F.is.boolean(data.editingAlwaysShow) ? data.editingAlwaysShow : self.alwaysShow;\r\n\r\n\t\t\t\tself.position = F.is.string(data.editingPosition) ? data.editingPosition : self.position;\r\n\r\n\t\t\t\tself.showText = F.is.string(data.editingShowText) ? data.editingShowText : self.showText;\r\n\r\n\t\t\t\tself.hideText = F.is.string(data.editingHideText) ? data.editingHideText : self.hideText;\r\n\r\n\t\t\t\tself.addText = F.is.string(data.editingAddText) ? data.editingAddText : self.addText;\r\n\r\n\t\t\t\tself.editText = F.is.string(data.editingEditText) ? data.editingEditText : self.editText;\r\n\r\n\t\t\t\tself.deleteText = F.is.string(data.editingDeleteText) ? data.editingDeleteText : self.deleteText;\r\n\r\n\t\t\t\tself.viewText = F.is.string(data.editingViewText) ? data.editingViewText : self.viewText;\r\n\r\n\t\t\t\tself.allowAdd = F.is.boolean(data.editingAllowAdd) ? data.editingAllowAdd : self.allowAdd;\r\n\r\n\t\t\t\tself.allowEdit = F.is.boolean(data.editingAllowEdit) ? data.editingAllowEdit : self.allowEdit;\r\n\r\n\t\t\t\tself.allowDelete = F.is.boolean(data.editingAllowDelete) ? data.editingAllowDelete : self.allowDelete;\r\n\r\n\t\t\t\tself.allowView = F.is.boolean(data.editingAllowView) ? data.editingAllowView : self.allowView;\r\n\r\n\t\t\t\tself.column = new F.EditingColumn(self.ft, self, $.extend(true, {}, self.column, data.editingColumn, {visible: self.alwaysShow}));\r\n\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-editing-left'))\r\n\t\t\t\t\tself.position = 'left';\r\n\r\n\t\t\t\tif (self.ft.$el.hasClass('footable-editing-right'))\r\n\t\t\t\t\tself.position = 'right';\r\n\r\n\t\t\t\tif (self.position === 'right'){\r\n\t\t\t\t\tself.column.index = self.ft.columns.array.length;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.column.index = 0;\r\n\t\t\t\t\tfor (var i = 0, len = self.ft.columns.array.length; i < len; i++){\r\n\t\t\t\t\t\tself.ft.columns.array[i].index += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself.ft.columns.array.push(self.column);\r\n\t\t\t\tself.ft.columns.array.sort(function(a, b){ return a.index - b.index; });\r\n\r\n\t\t\t\tself.callbacks.addRow = F.checkFnValue(self, data.editingAddRow, self.callbacks.addRow);\r\n\t\t\t\tself.callbacks.editRow = F.checkFnValue(self, data.editingEditRow, self.callbacks.editRow);\r\n\t\t\t\tself.callbacks.deleteRow = F.checkFnValue(self, data.editingDeleteRow, self.callbacks.deleteRow);\r\n\t\t\t\tself.callbacks.viewRow = F.checkFnValue(self, data.editingViewRow, self.callbacks.viewRow);\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Initializes the editing component for the plugin using the supplied table and options.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Editing#\"init.ft.editing\"\r\n\t\t */\r\n\t\tinit: function(){\r\n\t\t\t/**\r\n\t\t\t * The init.ft.editing event is raised before its UI is generated.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.Editing#\"init.ft.editing\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('init.ft.editing').then(function(){\r\n\t\t\t\tself.$create();\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Destroys the editing component removing any UI generated from the table.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @fires FooTable.Editing#\"destroy.ft.editing\"\r\n\t\t */\r\n\t\tdestroy: function () {\r\n\t\t\t/**\r\n\t\t\t * The destroy.ft.editing event is raised before its UI is removed.\r\n\t\t\t * Calling preventDefault on this event will prevent the component from being destroyed.\r\n\t\t\t * @event FooTable.Editing#\"destroy.ft.editing\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tvar self = this;\r\n\t\t\tthis.ft.raise('destroy.ft.editing').then(function(){\r\n\t\t\t\tself.ft.$el.removeClass('footable-editing footable-editing-always-show footable-editing-no-add footable-editing-no-edit footable-editing-no-delete footable-editing-no-view')\r\n\t\t\t\t\t.off('click.ft.editing').find('tfoot > tr.footable-editing').remove();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the editing UI from the current options setting the various jQuery properties of this component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\tvar self = this, position = self.position === 'right' ? 'footable-editing-right' : 'footable-editing-left';\r\n\t\t\tself.ft.$el.addClass('footable-editing').addClass(position)\r\n\t\t\t\t.on('click.ft.editing', '.footable-show', {self: self}, self._onShowClick)\r\n\t\t\t\t.on('click.ft.editing', '.footable-hide', {self: self}, self._onHideClick)\r\n\t\t\t\t.on('click.ft.editing', '.footable-edit', {self: self}, self._onEditClick)\r\n\t\t\t\t.on('click.ft.editing', '.footable-delete', {self: self}, self._onDeleteClick)\r\n\t\t\t\t.on('click.ft.editing', '.footable-view', {self: self}, self._onViewClick)\r\n\t\t\t\t.on('click.ft.editing', '.footable-add', {self: self}, self._onAddClick);\r\n\r\n\t\t\tself.$cell = $('<td/>').attr('colspan', self.ft.columns.visibleColspan).append(self.$buttonShow());\r\n\t\t\tif (self.allowAdd){\r\n\t\t\t\tself.$cell.append(self.$buttonAdd());\r\n\t\t\t}\r\n\t\t\tself.$cell.append(self.$buttonHide());\r\n\r\n\t\t\tif (self.alwaysShow){\r\n\t\t\t\tself.ft.$el.addClass('footable-editing-always-show');\r\n\t\t\t}\r\n\r\n\t\t\tif (!self.allowAdd) self.ft.$el.addClass('footable-editing-no-add');\r\n\t\t\tif (!self.allowEdit) self.ft.$el.addClass('footable-editing-no-edit');\r\n\t\t\tif (!self.allowDelete) self.ft.$el.addClass('footable-editing-no-delete');\r\n\t\t\tif (!self.allowView) self.ft.$el.addClass('footable-editing-no-view');\r\n\r\n\t\t\tvar $tfoot = self.ft.$el.children('tfoot');\r\n\t\t\tif ($tfoot.length == 0){\r\n\t\t\t\t$tfoot = $('<tfoot/>');\r\n\t\t\t\tself.ft.$el.append($tfoot);\r\n\t\t\t}\r\n\t\t\tself.$row = $('<tr/>', { 'class': 'footable-editing' }).append(self.$cell).appendTo($tfoot);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the show button for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$buttonShow: function(){\r\n\t\t\treturn '<button type=\"button\" class=\"btn btn-primary footable-show\">' + this.showText + '</button>';\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the hide button for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$buttonHide: function(){\r\n\t\t\treturn '<button type=\"button\" class=\"btn btn-default footable-hide\">' + this.hideText + '</button>';\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the add button for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$buttonAdd: function(){\r\n\t\t\treturn '<button type=\"button\" class=\"btn btn-primary footable-add\">' + this.addText + '</button> ';\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the edit button for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$buttonEdit: function(){\r\n\t\t\treturn '<button type=\"button\" class=\"btn btn-default footable-edit\">' + this.editText + '</button> ';\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the delete button for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$buttonDelete: function(){\r\n\t\t\treturn '<button type=\"button\" class=\"btn btn-default footable-delete\">' + this.deleteText + '</button>';\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the view button for the editing component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$buttonView: function(){\r\n\t\t\treturn '<button type=\"button\" class=\"btn btn-default footable-view\">' + this.viewText + '</button> ';\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates the button group for the row buttons.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @returns {(string|HTMLElement|jQuery)}\r\n\t\t */\r\n\t\t$rowButtons: function(){\r\n\t\t\tif (F.is.jq(this._$buttons)) return this._$buttons.clone();\r\n\t\t\tthis._$buttons = $('<div class=\"btn-group btn-group-xs\" role=\"group\"></div>');\r\n\t\t\tif (this.allowView) this._$buttons.append(this.$buttonView());\r\n\t\t\tif (this.allowEdit) this._$buttons.append(this.$buttonEdit());\r\n\t\t\tif (this.allowDelete) this._$buttons.append(this.$buttonDelete());\r\n\t\t\treturn this._$buttons;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Performs the drawing of the component.\r\n\t\t */\r\n\t\tdraw: function(){\r\n\t\t\tthis.$cell.attr('colspan', this.ft.columns.visibleColspan);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the edit button click event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t * @fires FooTable.Editing#\"edit.ft.editing\"\r\n\t\t */\r\n\t\t_onEditClick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self, row = $(this).closest('tr').data('__FooTableRow__');\r\n\t\t\tif (row instanceof F.Row){\r\n\t\t\t\t/**\r\n\t\t\t\t * The edit.ft.editing event is raised before its callback is executed.\r\n\t\t\t\t * Calling preventDefault on this event will prevent the callback from being executed.\r\n\t\t\t\t * @event FooTable.Editing#\"edit.ft.editing\"\r\n\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t * @param {FooTable.Row} row - The row to be edited.\r\n\t\t\t\t */\r\n\t\t\t\tself.ft.raise('edit.ft.editing', [row]).then(function(){\r\n\t\t\t\t\tself.callbacks.editRow.call(self.ft, row);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the delete button click event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t * @fires FooTable.Editing#\"delete.ft.editing\"\r\n\t\t */\r\n\t\t_onDeleteClick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self, row = $(this).closest('tr').data('__FooTableRow__');\r\n\t\t\tif (row instanceof F.Row){\r\n\t\t\t\t/**\r\n\t\t\t\t * The delete.ft.editing event is raised before its callback is executed.\r\n\t\t\t\t * Calling preventDefault on this event will prevent the callback from being executed.\r\n\t\t\t\t * @event FooTable.Editing#\"delete.ft.editing\"\r\n\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t * @param {FooTable.Row} row - The row to be deleted.\r\n\t\t\t\t */\r\n\t\t\t\tself.ft.raise('delete.ft.editing', [row]).then(function(){\r\n\t\t\t\t\tself.callbacks.deleteRow.call(self.ft, row);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the view button click event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t * @fires FooTable.Editing#\"view.ft.editing\"\r\n\t\t */\r\n\t\t_onViewClick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self, row = $(this).closest('tr').data('__FooTableRow__');\r\n\t\t\tif (row instanceof F.Row){\r\n\t\t\t\t/**\r\n\t\t\t\t * The view.ft.editing event is raised before its callback is executed.\r\n\t\t\t\t * Calling preventDefault on this event will prevent the callback from being executed.\r\n\t\t\t\t * @event FooTable.Editing#\"view.ft.editing\"\r\n\t\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t\t * @param {FooTable.Row} row - The row to be viewed.\r\n\t\t\t\t */\r\n\t\t\t\tself.ft.raise('view.ft.editing', [row]).then(function(){\r\n\t\t\t\t\tself.callbacks.viewRow.call(self.ft, row);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the add button click event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t * @fires FooTable.Editing#\"add.ft.editing\"\r\n\t\t */\r\n\t\t_onAddClick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self;\r\n\t\t\t/**\r\n\t\t\t * The add.ft.editing event is raised before its callback is executed.\r\n\t\t\t * Calling preventDefault on this event will prevent the callback from being executed.\r\n\t\t\t * @event FooTable.Editing#\"add.ft.editing\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tself.ft.raise('add.ft.editing').then(function(){\r\n\t\t\t\tself.callbacks.addRow.call(self.ft);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the show button click event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t * @fires FooTable.Editing#\"show.ft.editing\"\r\n\t\t */\r\n\t\t_onShowClick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self;\r\n\t\t\t/**\r\n\t\t\t * The show.ft.editing event is raised before its callback is executed.\r\n\t\t\t * Calling preventDefault on this event will prevent the callback from being executed.\r\n\t\t\t * @event FooTable.Editing#\"show.ft.editing\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tself.ft.raise('show.ft.editing').then(function(){\r\n\t\t\t\tself.ft.$el.addClass('footable-editing-show');\r\n\t\t\t\tself.column.visible = true;\r\n\t\t\t\tself.ft.draw();\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Handles the hide button click event.\r\n\t\t * @instance\r\n\t\t * @private\r\n\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t * @fires FooTable.Editing#\"show.ft.editing\"\r\n\t\t */\r\n\t\t_onHideClick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar self = e.data.self;\r\n\t\t\t/**\r\n\t\t\t * The hide.ft.editing event is raised before its callback is executed.\r\n\t\t\t * Calling preventDefault on this event will prevent the callback from being executed.\r\n\t\t\t * @event FooTable.Editing#\"hide.ft.editing\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t */\r\n\t\t\tself.ft.raise('hide.ft.editing').then(function(){\r\n\t\t\t\tself.ft.$el.removeClass('footable-editing-show');\r\n\t\t\t\tself.column.visible = false;\r\n\t\t\t\tself.ft.draw();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('editing', F.Editing, 850);\r\n\r\n})(jQuery, FooTable);\r\n\r\n(function($, F){\r\n\r\n\tF.EditingColumn = F.Column.extend(/** @lends FooTable.EditingColumn */{\r\n\t\t/**\r\n\t\t * The Editing column class is used to create the column containing the editing buttons.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Column\r\n\t\t * @param {FooTable.Table} instance -  The parent {@link FooTable.Table} this column belongs to.\r\n\t\t * @param {FooTable.Editing} editing - The parent {@link FooTable.Editing} component this column is used with.\r\n\t\t * @param {object} definition - An object containing all the properties to set for the column.\r\n\t\t * @returns {FooTable.EditingColumn}\r\n\t\t */\r\n\t\tconstruct: function(instance, editing, definition){\r\n\t\t\tthis._super(instance, definition, 'editing');\r\n\t\t\tthis.editing = editing;\r\n\t\t\tthis.internal = true;\r\n\t\t},\r\n\t\t/**\r\n\t\t * After the column has been defined this ensures that the $el property is a jQuery object by either creating or updating the current value.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @this FooTable.Column\r\n\t\t */\r\n\t\t$create: function(){\r\n\t\t\t(this.$el = !this.virtual && F.is.jq(this.$el) ? this.$el : $('<th/>', {'class': 'footable-editing'})).html(this.title);\r\n\t\t},\r\n\t\t/**\r\n\t\t * This is supplied either the cell value or jQuery object to parse. Any value can be returned from this method and\r\n\t\t * will be provided to the {@link FooTable.EditingColumn#format} function\r\n\t\t * to generate the cell contents.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {(*|jQuery)} valueOrElement - The value or jQuery cell object.\r\n\t\t * @returns {(jQuery)}\r\n\t\t */\r\n\t\tparser: function(valueOrElement){\r\n\t\t\tif (F.is.string(valueOrElement)) valueOrElement = $($.trim(valueOrElement));\r\n\t\t\tif (F.is.element(valueOrElement)) valueOrElement = $(valueOrElement);\r\n\t\t\tif (F.is.jq(valueOrElement)){\r\n\t\t\t\tvar tagName = valueOrElement.prop('tagName').toLowerCase();\r\n\t\t\t\tif (tagName == 'td' || tagName == 'th') return valueOrElement.data('value') || valueOrElement.contents();\r\n\t\t\t\treturn valueOrElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Creates a cell to be used in the supplied row for this column.\r\n\t\t * @param {FooTable.Row} row - The row to create the cell for.\r\n\t\t * @returns {FooTable.Cell}\r\n\t\t */\r\n\t\tcreateCell: function(row){\r\n\t\t\tvar $buttons = this.editing.$rowButtons(), $cell = $('<td/>').append($buttons);\r\n\t\t\tif (F.is.jq(row.$el)){\r\n\t\t\t\tif (this.index === 0){\r\n\t\t\t\t\t$cell.prependTo(row.$el);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$cell.insertAfter(row.$el.children().eq(this.index-1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new F.Cell(this.ft, row, this, $cell || $cell.html());\r\n\t\t}\r\n\t});\r\n\r\n\tF.columns.register('editing', F.EditingColumn);\r\n\r\n})(jQuery, FooTable);\r\n(function($, F) {\r\n\r\n\t/**\r\n\t * An object containing the editing options for the plugin. Added by the {@link FooTable.Editing} component.\r\n\t * @type {object}\r\n\t * @prop {boolean} enabled=false - Whether or not to allow editing on the table.\r\n\t * @prop {boolean} pageToNew=true - Whether or not to automatically page to a new row when it is added to the table.\r\n\t * @prop {string} position=\"right\" - The position of the editing column in the table as well as the alignment of the buttons.\r\n\t * @prop {boolean} alwaysShow=false - Whether or not the editing column and add row button are always visible.\r\n\t * @prop {function} addRow - The callback function to execute when the add row button is clicked.\r\n\t * @prop {function} editRow - The callback function to execute when the edit row button is clicked.\r\n\t * @prop {function} deleteRow - The callback function to execute when the delete row button is clicked.\r\n\t * @prop {function} viewRow - The callback function to execute when the view row button is clicked.\r\n\t * @prop {string} showText - The text that appears in the show button. This can contain HTML.\r\n\t * @prop {string} hideText - The text that appears in the hide button. This can contain HTML.\r\n\t * @prop {string} addText - The text that appears in the add button. This can contain HTML.\r\n\t * @prop {string} editText - The text that appears in the edit button. This can contain HTML.\r\n\t * @prop {string} deleteText - The text that appears in the delete button. This can contain HTML.\r\n\t * @prop {string} viewText - The text that appears in the view button. This can contain HTML.\r\n\t * @prop {boolean} allowAdd - Whether or not to show the Add Row button.\r\n\t * @prop {boolean} allowEdit - Whether or not to show the Edit Row button.\r\n\t * @prop {boolean} allowDelete - Whether or not to show the Delete Row button.\r\n\t * @prop {boolean} allowView - Whether or not to show the View Row button.\r\n\t * @prop {object} column - The options for the editing column. @see {@link FooTable.EditingColumn} for more info.\r\n\t * @prop {string} column.classes=\"footable-editing\" - A space separated string of class names to apply to all cells in the column.\r\n\t * @prop {string} column.name=\"editing\" - The name of the column.\r\n\t * @prop {string} column.title=\"\" - The title displayed in the header row of the table for the column.\r\n\t * @prop {boolean} column.filterable=false - Whether or not the column should be filterable when using the filtering component.\r\n\t * @prop {boolean} column.sortable=false - Whether or not the column should be sortable when using the sorting component.\r\n\t */\r\n\tF.Defaults.prototype.editing = {\r\n\t\tenabled: false,\r\n\t\tpageToNew: true,\r\n\t\tposition: 'right',\r\n\t\talwaysShow: false,\r\n\t\taddRow: function(){},\r\n\t\teditRow: function(row){},\r\n\t\tdeleteRow: function(row){},\r\n\t\tviewRow: function(row){},\r\n\t\tshowText: '<span class=\"fooicon fooicon-pencil\" aria-hidden=\"true\"></span> Edit rows',\r\n\t\thideText: 'Cancel',\r\n\t\taddText: 'New row',\r\n\t\teditText: '<span class=\"fooicon fooicon-pencil\" aria-hidden=\"true\"></span>',\r\n\t\tdeleteText: '<span class=\"fooicon fooicon-trash\" aria-hidden=\"true\"></span>',\r\n\t\tviewText: '<span class=\"fooicon fooicon-stats\" aria-hidden=\"true\"></span>',\r\n\t\tallowAdd: true,\r\n\t\tallowEdit: true,\r\n\t\tallowDelete: true,\r\n\t\tallowView: false,\r\n\t\tcolumn: {\r\n\t\t\tclasses: 'footable-editing',\r\n\t\t\tname: 'editing',\r\n\t\t\ttitle: '',\r\n\t\t\tfilterable: false,\r\n\t\t\tsortable: false\r\n\t\t}\r\n\t};\r\n\r\n})(jQuery, FooTable);\r\n\r\n(function($, F){\r\n\r\n\tif (F.is.defined(F.Paging)){\r\n\t\t/**\r\n\t\t * Holds a shallow clone of the un-paged {@link FooTable.Rows#array} value before paging occurs and superfluous rows are removed. Added by the {@link FooTable.Editing} component.\r\n\t\t * @instance\r\n\t\t * @public\r\n\t\t * @type {Array<FooTable.Row>}\r\n\t\t */\r\n\t\tF.Paging.prototype.unpaged = [];\r\n\r\n\t\t// override the default predraw method with one that sets the unpaged property.\r\n\t\tF.Paging.extend('predraw', function(){\r\n\t\t\tthis.unpaged = this.ft.rows.array.slice(0); // create a shallow clone for later use\r\n\t\t\tthis._super(); // call the original method\r\n\t\t});\r\n\t}\r\n\r\n})(jQuery, FooTable);\r\n(function($, F){\r\n\r\n\t/**\r\n\t * Adds the row to the table.\r\n\t * @param {boolean} [redraw=true] - Whether or not to redraw the table, defaults to true but for bulk operations this\r\n\t * can be set to false and then followed by a call to the {@link FooTable.Table#draw} method.\r\n\t * @returns {jQuery.Deferred}\r\n\t */\r\n\tF.Row.prototype.add = function(redraw){\r\n\t\tredraw = F.is.boolean(redraw) ? redraw : true;\r\n\t\tvar self = this;\r\n\t\treturn $.Deferred(function(d){\r\n\t\t\tvar index = self.ft.rows.all.push(self) - 1;\r\n\t\t\tif (redraw){\r\n\t\t\t\treturn self.ft.draw().then(function(){\r\n\t\t\t\t\td.resolve(index);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\td.resolve(index);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the row from the table.\r\n\t * @param {boolean} [redraw=true] - Whether or not to redraw the table, defaults to true but for bulk operations this\r\n\t * can be set to false and then followed by a call to the {@link FooTable.Table#draw} method.\r\n\t * @returns {jQuery.Deferred}\r\n\t */\r\n\tF.Row.prototype.delete = function(redraw){\r\n\t\tredraw = F.is.boolean(redraw) ? redraw : true;\r\n\t\tvar self = this;\r\n\t\treturn $.Deferred(function(d){\r\n\t\t\tvar index = self.ft.rows.all.indexOf(self);\r\n\t\t\tif (F.is.number(index) && index >= 0 && index < self.ft.rows.all.length){\r\n\t\t\t\tself.ft.rows.all.splice(index, 1);\r\n\t\t\t\tif (redraw){\r\n\t\t\t\t\treturn self.ft.draw().then(function(){\r\n\t\t\t\t\t\td.resolve(self);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\td.resolve(self);\r\n\t\t});\r\n\t};\r\n\r\n\tif (F.is.defined(F.Paging)){\r\n\t\t// override the default add method with one that supports paging\r\n\t\tF.Row.extend('add', function(redraw){\r\n\t\t\tredraw = F.is.boolean(redraw) ? redraw : true;\r\n\t\t\tvar self = this,\r\n\t\t\t\tadded = this._super(redraw),\r\n\t\t\t\tediting = self.ft.use(F.Editing),\r\n\t\t\t\tpaging;\r\n\t\t\tif (editing && editing.pageToNew && (paging = self.ft.use(F.Paging)) && redraw){\r\n\t\t\t\treturn added.then(function(){\r\n\t\t\t\t\tvar index = paging.unpaged.indexOf(self); // find this row in the unpaged array (this array will be sorted and filtered)\r\n\t\t\t\t\tvar page = Math.ceil((index + 1) / paging.size); // calculate the page the new row is on\r\n\t\t\t\t\tif (paging.current !== page){ // goto the page if we need to\r\n\t\t\t\t\t\treturn paging.goto(page);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn added;\r\n\t\t});\r\n\t}\r\n\r\n\tif (F.is.defined(F.Sorting)){\r\n\t\t// override the default val method with one that supports sorting and paging\r\n\t\tF.Row.extend('val', function(data, redraw){\r\n\t\t\tredraw = F.is.boolean(redraw) ? redraw : true;\r\n\t\t\tvar result = this._super(data);\r\n\t\t\tif (!F.is.hash(data)){\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tvar self = this;\r\n\t\t\tif (redraw){\r\n\t\t\t\tself.ft.draw().then(function(){\r\n\t\t\t\t\tvar editing = self.ft.use(F.Editing), paging;\r\n\t\t\t\t\tif (F.is.defined(F.Paging) && editing && editing.pageToNew && (paging = self.ft.use(F.Paging))){\r\n\t\t\t\t\t\tvar index = paging.unpaged.indexOf(self); // find this row in the unpaged array (this array will be sorted and filtered)\r\n\t\t\t\t\t\tvar page = Math.ceil((index + 1) / paging.size); // calculate the page the new row is on\r\n\t\t\t\t\t\tif (paging.current !== page){ // goto the page if we need to\r\n\t\t\t\t\t\t\treturn paging.goto(page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t});\r\n\t}\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\r\n\t/**\r\n\t * Adds a row to the underlying {@link FooTable.Rows#all} array.\r\n\t * @param {(object|FooTable.Row)} dataOrRow - A hash containing the row values or an actual {@link FooTable.Row} object.\r\n\t * @param {boolean} [redraw=true] - Whether or not to redraw the table, defaults to true but for bulk operations this\r\n\t * can be set to false and then followed by a call to the {@link FooTable.Table#draw} method.\r\n\t */\r\n\tF.Rows.prototype.add = function(dataOrRow, redraw){\r\n\t\tvar row = dataOrRow;\r\n\t\tif (F.is.hash(dataOrRow)){\r\n\t\t\trow = new FooTable.Row(this.ft, this.ft.columns.array, dataOrRow);\r\n\t\t}\r\n\t\tif (row instanceof FooTable.Row){\r\n\t\t\trow.add(redraw);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Updates a row in the underlying {@link FooTable.Rows#all} array.\r\n\t * @param {(number|FooTable.Row)} indexOrRow - The index to update or the actual {@link FooTable.Row} object.\r\n\t * @param {object} data - A hash containing the new row values.\r\n\t * @param {boolean} [redraw=true] - Whether or not to redraw the table, defaults to true but for bulk operations this\r\n\t * can be set to false and then followed by a call to the {@link FooTable.Table#draw} method.\r\n\t */\r\n\tF.Rows.prototype.update = function(indexOrRow, data, redraw){\r\n\t\tvar len = this.ft.rows.all.length, \r\n\t\t\trow = indexOrRow;\r\n\t\tif (F.is.number(indexOrRow) && indexOrRow >= 0 && indexOrRow < len){\r\n\t\t\trow = this.ft.rows.all[indexOrRow];\r\n\t\t}\r\n\t\tif (row instanceof FooTable.Row && F.is.hash(data)){\r\n\t\t\trow.val(data, redraw);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Deletes a row from the underlying {@link FooTable.Rows#all} array.\r\n\t * @param {(number|FooTable.Row)} indexOrRow - The index to delete or the actual {@link FooTable.Row} object.\r\n\t * @param {boolean} [redraw=true] - Whether or not to redraw the table, defaults to true but for bulk operations this\r\n\t * can be set to false and then followed by a call to the {@link FooTable.Table#draw} method.\r\n\t */\r\n\tF.Rows.prototype.delete = function(indexOrRow, redraw){\r\n\t\tvar len = this.ft.rows.all.length, \r\n\t\t\trow = indexOrRow;\r\n\t\tif (F.is.number(indexOrRow) && indexOrRow >= 0 && indexOrRow < len){\r\n\t\t\trow = this.ft.rows.all[indexOrRow];\r\n\t\t}\r\n\t\tif (row instanceof FooTable.Row){\r\n\t\t\trow.delete(redraw);\r\n\t\t}\r\n\t};\r\n\r\n})(FooTable);\r\n\r\n(function($, F){\r\n\r\n\t// global int to use if the table has no ID\r\n\tvar _uid = 0,\r\n\t// a hash value for the current url\r\n\t\t_url_hash = (function(str){\r\n\t\t\tvar i, l, hval = 0x811c9dc5;\r\n\t\t\tfor (i = 0, l = str.length; i < l; i++) {\r\n\t\t\t\thval ^= str.charCodeAt(i);\r\n\t\t\t\thval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\r\n\t\t\t}\r\n\t\t\treturn hval >>> 0;\r\n\t\t})(location.origin + location.pathname);\r\n\r\n\tF.State = F.Component.extend(/** @lends FooTable.State */{\r\n\t\t/**\r\n\t\t * The state component adds the ability for the table to remember its basic state for filtering, paging and sorting.\r\n\t\t * @constructs\r\n\t\t * @extends FooTable.Component\r\n\t\t * @param {FooTable.Table} table - The parent {@link FooTable.Table} object for the component.\r\n\t\t * @returns {FooTable.State}\r\n\t\t */\r\n\t\tconstruct: function(table){\r\n\t\t\t// call the constructor of the base class\r\n\t\t\tthis._super(table, table.o.state.enabled);\r\n\t\t\t// Change this value if an update to this component requires any stored data to be reset\r\n\t\t\tthis._key = '1';\r\n\t\t\t/**\r\n\t\t\t * The key to use to store the state for this table.\r\n\t\t\t * @type {(null|string)}\r\n\t\t\t */\r\n\t\t\tthis.key = this._key + (F.is.string(table.o.state.key) ? table.o.state.key : this._uid());\r\n\t\t\t/**\r\n\t\t\t * Whether or not to allow the filtering component to store it's state.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.filtering = F.is.boolean(table.o.state.filtering) ? table.o.state.filtering : true;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to allow the paging component to store it's state.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.paging = F.is.boolean(table.o.state.paging) ? table.o.state.paging : true;\r\n\t\t\t/**\r\n\t\t\t * Whether or not to allow the sorting component to store it's state.\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tthis.sorting = F.is.boolean(table.o.state.sorting) ? table.o.state.sorting : true;\r\n\t\t},\r\n\t\t/* PROTECTED */\r\n\t\t/**\r\n\t\t * Checks the supplied data and options for the state component.\r\n\t\t * @instance\r\n\t\t * @protected\r\n\t\t * @param {object} data - The jQuery data object from the parent table.\r\n\t\t * @fires FooTable.State#\"preinit.ft.state\"\r\n\t\t * @this FooTable.State\r\n\t\t */\r\n\t\tpreinit: function(data){\r\n\t\t\tvar self = this;\r\n\t\t\t/**\r\n\t\t\t * The preinit.ft.state event is raised before the UI is created and provides the tables jQuery data object for additional options parsing.\r\n\t\t\t * Calling preventDefault on this event will disable the component.\r\n\t\t\t * @event FooTable.State#\"preinit.ft.state\"\r\n\t\t\t * @param {jQuery.Event} e - The jQuery.Event object for the event.\r\n\t\t\t * @param {FooTable.Table} ft - The instance of the plugin raising the event.\r\n\t\t\t * @param {object} data - The jQuery data object of the table raising the event.\r\n\t\t\t */\r\n\t\t\tthis.ft.raise('preinit.ft.state', [data]).then(function(){\r\n\r\n\t\t\t\tself.enabled = F.is.boolean(data.state)\r\n\t\t\t\t\t? data.state\r\n\t\t\t\t\t: self.enabled;\r\n\r\n\t\t\t\tif (!self.enabled) return;\r\n\r\n\t\t\t\tself.key = self._key + (F.is.string(data.stateKey) ? data.stateKey : self.key);\r\n\r\n\t\t\t\tself.filtering = F.is.boolean(data.stateFiltering) ? data.stateFiltering : self.filtering;\r\n\r\n\t\t\t\tself.paging = F.is.boolean(data.statePaging) ? data.statePaging : self.paging;\r\n\r\n\t\t\t\tself.sorting = F.is.boolean(data.stateSorting) ? data.stateSorting : self.sorting;\r\n\r\n\t\t\t}, function(){\r\n\t\t\t\tself.enabled = false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Gets the state value for the specified key for this table.\r\n\t\t * @instance\r\n\t\t * @param {string} key - The key to get the value for.\r\n\t\t * @returns {(*|null)}\r\n\t\t */\r\n\t\tget: function(key){\r\n\t\t\treturn JSON.parse(localStorage.getItem(this.key + ':' + key));\r\n\t\t},\r\n\t\t/**\r\n\t\t * Sets the state value for the specified key for this table.\r\n\t\t * @instance\r\n\t\t * @param {string} key - The key to set the value for.\r\n\t\t * @param {*} data - The value to store for the key. This value must be JSON.stringify friendly.\r\n\t\t */\r\n\t\tset: function(key, data){\r\n\t\t\tlocalStorage.setItem(this.key + ':' + key, JSON.stringify(data));\r\n\t\t},\r\n\t\t/**\r\n\t\t * Clears the state value for the specified key for this table.\r\n\t\t * @instance\r\n\t\t * @param {string} key - The key to clear the value for.\r\n\t\t */\r\n\t\tremove: function(key){\r\n\t\t\tlocalStorage.removeItem(this.key + ':' + key);\r\n\t\t},\r\n\t\t/**\r\n\t\t * Executes the {@link FooTable.Component#readState} function on all components.\r\n\t\t * @instance\r\n\t\t */\r\n\t\tread: function(){\r\n\t\t\tthis.ft.execute(false, true, 'readState');\r\n\t\t},\r\n\t\t/**\r\n\t\t * Executes the {@link FooTable.Component#writeState} function on all components.\r\n\t\t * @instance\r\n\t\t */\r\n\t\twrite: function(){\r\n\t\t\tthis.ft.execute(false, true, 'writeState');\r\n\t\t},\r\n\t\t/**\r\n\t\t * Executes the {@link FooTable.Component#clearState} function on all components.\r\n\t\t * @instance\r\n\t\t */\r\n\t\tclear: function(){\r\n\t\t\tthis.ft.execute(false, true, 'clearState');\r\n\t\t},\r\n\t\t/**\r\n\t\t * Generates a unique identifier for the current {@link FooTable.Table} if one is not supplied through the options.\r\n\t\t * This value is a combination of the url hash and either the element ID or an incremented global int value.\r\n\t\t * @instance\r\n\t\t * @returns {*}\r\n\t\t * @private\r\n\t\t */\r\n\t\t_uid: function(){\r\n\t\t\tvar id = this.ft.$el.attr('id');\r\n\t\t\treturn _url_hash + '_' + (F.is.string(id) ? id : ++_uid);\r\n\t\t}\r\n\t});\r\n\r\n\tF.components.register('state', F.State, 700);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\r\n\t/**\r\n\t * This method is called from the {@link FooTable.State#read} method and allows a component to retrieve its' stored state.\r\n\t * @instance\r\n\t * @protected\r\n\t * @function\r\n\t */\r\n\tF.Component.prototype.readState = function(){};\r\n\r\n\t/**\r\n\t * This method is called from the {@link FooTable.State#write} method and allows a component to write its' current state to the store.\r\n\t * @instance\r\n\t * @protected\r\n\t * @function\r\n\t */\r\n\tF.Component.prototype.writeState = function(){};\r\n\r\n\t/**\r\n\t * This method is called from the {@link FooTable.State#clear} method and allows a component to clear any stored state.\r\n\t * @instance\r\n\t * @protected\r\n\t * @function\r\n\t */\r\n\tF.Component.prototype.clearState = function(){};\r\n\r\n})(FooTable);\r\n(function(F){\r\n\r\n\t/**\r\n\t * An object containing the state options for the plugin. Added by the {@link FooTable.State} component.\r\n\t * @type {object}\r\n\t * @prop {boolean} enabled=false - Whether or not to allow state to be stored for the table. This overrides the individual component enable options.\r\n\t * @prop {boolean} filtering=true - Whether or not to allow the filtering state to be stored.\r\n\t * @prop {boolean} paging=true - Whether or not to allow the filtering state to be stored.\r\n\t * @prop {boolean} sorting=true - Whether or not to allow the filtering state to be stored.\r\n\t * @prop {string} key=null - The unique key to use to store the table's data.\r\n\t */\r\n\tF.Defaults.prototype.state = {\r\n\t\tenabled: false,\r\n\t\tfiltering: true,\r\n\t\tpaging: true,\r\n\t\tsorting: true,\r\n\t\tkey: null\r\n\t};\r\n\r\n})(FooTable);\r\n(function(F){\r\n\r\n\tif (!F.Filtering) return;\r\n\r\n\t/**\r\n\t * Allows the filtering component to retrieve its' stored state.\r\n\t */\r\n\tF.Filtering.prototype.readState = function(){\r\n\t\tif (this.ft.state.filtering){\r\n\t\t\tvar state = this.ft.state.get('filtering');\r\n\t\t\tif (F.is.hash(state) && !F.is.emptyArray(state.filters)){\r\n\t\t\t\tthis.filters = this.ensure(state.filters);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Allows the filtering component to write its' current state to the store.\r\n\t */\r\n\tF.Filtering.prototype.writeState = function(){\r\n\t\tif (this.ft.state.filtering) {\r\n\t\t\tvar filters = F.arr.map(this.filters, function (f) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: f.name,\r\n\t\t\t\t\tquery: f.query instanceof F.Query ? f.query.val() : f.query,\r\n\t\t\t\t\tcolumns: F.arr.map(f.columns, function (c) {\r\n\t\t\t\t\t\treturn c.name;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\thidden: f.hidden,\r\n\t\t\t\t\tspace: f.space,\r\n\t\t\t\t\tconnectors: f.connectors,\r\n\t\t\t\t\tignoreCase: f.ignoreCase\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tthis.ft.state.set('filtering', {filters: filters});\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Allows the filtering component to clear any stored state.\r\n\t */\r\n\tF.Filtering.prototype.clearState = function(){\r\n\t\tif (this.ft.state.filtering) {\r\n\t\t\tthis.ft.state.remove('filtering');\r\n\t\t}\r\n\t};\r\n\r\n})(FooTable);\r\n(function(F){\r\n\r\n\tif (!F.Paging) return;\r\n\r\n\t/**\r\n\t * Allows the paging component to retrieve its' stored state.\r\n\t */\r\n\tF.Paging.prototype.readState = function(){\r\n\t\tif (this.ft.state.paging) {\r\n\t\t\tvar state = this.ft.state.get('paging');\r\n\t\t\tif (F.is.hash(state)) {\r\n\t\t\t\tthis.current = state.current;\r\n\t\t\t\tthis.size = state.size;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Allows the paging component to write its' current state to the store.\r\n\t */\r\n\tF.Paging.prototype.writeState = function(){\r\n\t\tif (this.ft.state.paging) {\r\n\t\t\tthis.ft.state.set('paging', {\r\n\t\t\t\tcurrent: this.current,\r\n\t\t\t\tsize: this.size\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Allows the paging component to clear any stored state.\r\n\t */\r\n\tF.Paging.prototype.clearState = function(){\r\n\t\tif (this.ft.state.paging) {\r\n\t\t\tthis.ft.state.remove('paging');\r\n\t\t}\r\n\t};\r\n\r\n})(FooTable);\r\n(function(F){\r\n\r\n\tif (!F.Sorting) return;\r\n\r\n\t/**\r\n\t * Allows the sorting component to retrieve its' stored state.\r\n\t */\r\n\tF.Sorting.prototype.readState = function(){\r\n\t\tif (this.ft.state.sorting) {\r\n\t\t\tvar state = this.ft.state.get('sorting');\r\n\t\t\tif (F.is.hash(state)) {\r\n\t\t\t\tvar column = this.ft.columns.get(state.column);\r\n\t\t\t\tif (column instanceof F.Column) {\r\n\t\t\t\t\tthis.column = column;\r\n\t\t\t\t\tthis.column.direction = state.direction;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Allows the sorting component to write its' current state to the store.\r\n\t */\r\n\tF.Sorting.prototype.writeState = function(){\r\n\t\tif (this.ft.state.sorting && this.column instanceof F.Column){\r\n\t\t\tthis.ft.state.set('sorting', {\r\n\t\t\t\tcolumn: this.column.name,\r\n\t\t\t\tdirection: this.column.direction\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Allows the sorting component to clear any stored state.\r\n\t */\r\n\tF.Sorting.prototype.clearState = function(){\r\n\t\tif (this.ft.state.sorting) {\r\n\t\t\tthis.ft.state.remove('sorting');\r\n\t\t}\r\n\t};\r\n\r\n})(FooTable);\r\n(function(F){\r\n\r\n\t// hook into the _construct method so we can add the state property to the table.\r\n\tF.Table.extend('_construct', function(ready){\r\n\t\tthis.state = this.use(FooTable.State);\r\n\t\treturn this._super(ready);\r\n\t});\r\n\r\n\t// hook into the _preinit method so we can trigger a plugin wide read state operation.\r\n\tF.Table.extend('_preinit', function(){\r\n\t\tvar self = this;\r\n\t\treturn self._super().then(function(){\r\n\t\t\tif (self.state.enabled){\r\n\t\t\t\tself.state.read();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// hook into the draw method so we can trigger a plugin wide write state operation.\r\n\tF.Table.extend('draw', function(){\r\n\t\tvar self = this;\r\n\t\treturn self._super().then(function(){\r\n\t\t\tif (self.state.enabled){\r\n\t\t\t\tself.state.write();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n})(FooTable);\r\n(function($, F){\r\n\r\n\tF.Export = F.Component.extend(/** @lends FooTable.Export */{\r\n\t\t/**\r\n\t\t * @summary This component provides some basic export functionality.\r\n\t\t * @memberof FooTable\r\n\t\t * @constructs Export\r\n\t\t * @param {FooTable.Table} table - The current instance of the plugin.\r\n\t\t */\r\n\t\tconstruct: function(table){\r\n\t\t\t// call the constructor of the base class\r\n\t\t\tthis._super(table, true);\r\n\t\t\t/**\r\n\t\t\t * @summary A snapshot of the working set of rows prior to being trimmed by the paging component.\r\n\t\t\t * @memberof FooTable.Export#\r\n\t\t\t * @name snapshot\r\n\t\t\t * @type {FooTable.Row[]}\r\n\t\t\t */\r\n\t\t\tthis.snapshot = [];\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Hooks into the predraw pipeline after sorting and filtering have taken place but prior to paging.\r\n\t\t * @memberof FooTable.Export#\r\n\t\t * @function predraw\r\n\t\t * @description This method allows us to take a snapshot of the working set of rows before they are trimmed by the paging component and is called by the plugin instance.\r\n\t\t */\r\n\t\tpredraw: function(){\r\n\t\t\tthis.snapshot = this.ft.rows.array.slice(0);\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Return the columns as simple JavaScript objects in an array.\r\n\t\t * @memberof FooTable.Export#\r\n\t\t * @function columns\r\n\t\t * @returns {Object[]}\r\n\t\t */\r\n\t\tcolumns: function(){\r\n\t\t\tvar result = [];\r\n\t\t\tF.arr.each(this.ft.columns.array, function(column){\r\n\t\t\t\tif (!column.internal){\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\ttype: column.type,\r\n\t\t\t\t\t\tname: column.name,\r\n\t\t\t\t\t\ttitle: column.title,\r\n\t\t\t\t\t\tvisible: column.visible,\r\n\t\t\t\t\t\thidden: column.hidden,\r\n\t\t\t\t\t\tclasses: column.classes,\r\n\t\t\t\t\t\tstyle: column.style\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Return the rows as simple JavaScript objects in an array.\r\n\t\t * @memberof FooTable.Export#\r\n\t\t * @function rows\r\n\t\t * @param {boolean} [filtered=false] - Whether or not to exclude filtered rows from the result.\r\n\t\t * @returns {Object[]}\r\n\t\t */\r\n\t\trows: function(filtered){\r\n\t\t\tfiltered = F.is.boolean(filtered) ? filtered : false;\r\n\t\t\tvar rows = filtered ? this.ft.rows.all : this.snapshot, result = [];\r\n\t\t\tF.arr.each(rows, function(row){\r\n\t\t\t\tresult.push(row.val());\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Return the columns and rows as a properly formatted JSON object.\r\n\t\t * @memberof FooTable.Export#\r\n\t\t * @function json\r\n\t\t * @param {boolean} [filtered=false] - Whether or not to exclude filtered rows from the result.\r\n\t\t * @returns {Object}\r\n\t\t */\r\n\t\tjson: function(filtered){\r\n\t\t\treturn JSON.parse(JSON.stringify({columns: this.columns(),rows: this.rows(filtered)}));\r\n\t\t},\r\n\t\t/**\r\n\t\t * @summary Return the columns and rows as a properly formatted CSV value.\r\n\t\t * @memberof FooTable.Export#\r\n\t\t * @function csv\r\n\t\t * @param {boolean} [filtered=false] - Whether or not to exclude filtered rows from the result.\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tcsv: function(filtered){\r\n\t\t\tvar csv = \"\", columns = this.columns(), value, escaped;\r\n\t\t\tF.arr.each(columns, function(column, i){\r\n\t\t\t\tescaped = '\"' + column.title.replace(/\"/g, '\"\"') + '\"';\r\n\t\t\t\tcsv += (i === 0 ? escaped : \",\" + escaped);\r\n\t\t\t});\r\n\t\t\tcsv += \"\\n\";\r\n\r\n\t\t\tvar rows = filtered ? this.ft.rows.all : this.snapshot;\r\n\t\t\tF.arr.each(rows, function(row){\r\n\t\t\t\tF.arr.each(row.cells, function(cell, i){\r\n\t\t\t\t\tif (!cell.column.internal){\r\n\t\t\t\t\t\tvalue = cell.column.stringify.call(cell.column, cell.value, cell.ft.o, cell.row.value);\r\n\t\t\t\t\t\tescaped = '\"' + value.replace(/\"/g, '\"\"') + '\"';\r\n\t\t\t\t\t\tcsv += (i === 0 ? escaped : \",\" + escaped);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcsv += \"\\n\";\r\n\t\t\t});\r\n\t\t\treturn csv;\r\n\t\t}\r\n\t});\r\n\r\n\t// register the component using a priority of 490 which falls just after filtering (500) and before paging (400).\r\n\tF.components.register(\"export\", F.Export, 490);\r\n\r\n})(jQuery, FooTable);\r\n(function(F){\r\n\t// this is used to define the filtering specific properties on column creation\r\n\tF.Column.prototype.__export_define__ = function(definition){\r\n\t\tthis.stringify = F.checkFnValue(this, definition.stringify, this.stringify);\r\n\t};\r\n\r\n\t// overrides the public define method and replaces it with our own\r\n\tF.Column.extend('define', function(definition){\r\n\t\tthis._super(definition); // call the base so we don't have to redefine any previously set properties\r\n\t\tthis.__export_define__(definition); // then call our own\r\n\t});\r\n\r\n\t/**\r\n\t * @summary Return the supplied value as a string.\r\n\t * @memberof FooTable.Column#\r\n\t * @function stringify\r\n\t * @returns {string}\r\n\t */\r\n\tF.Column.prototype.stringify = function(value, options, rowData){\r\n\t\treturn value + \"\";\r\n\t};\r\n\r\n\tif (F.is.defined(F.DateColumn)){\r\n\t\t// override the base method for DateColumns\r\n\t\tF.DateColumn.prototype.stringify = function(value, options, rowData){\r\n\t\t\treturn F.is.object(value) && F.is.boolean(value._isAMomentObject) && value.isValid() ? value.format(this.formatString) : '';\r\n\t\t};\r\n\t}\r\n\r\n\t// override the base method for ObjectColumns\r\n\tF.ObjectColumn.prototype.stringify = function(value, options, rowData){\r\n\t\treturn F.is.object(value) ? JSON.stringify(value) : \"\";\r\n\t};\r\n\r\n\t// override the base method for ArrayColumns\r\n\tF.ArrayColumn.prototype.stringify = function(value, options, rowData){\r\n\t\treturn F.is.array(value) ? JSON.stringify(value) : \"\";\r\n\t};\r\n\r\n})(FooTable);\r\n(function(F){\r\n\t/**\r\n\t * @summary Return the columns and rows as a properly formatted JSON object.\r\n\t * @memberof FooTable.Table#\r\n\t * @function toJSON\r\n\t * @param {boolean} [filtered=false] - Whether or not to exclude filtered rows from the result.\r\n\t * @returns {Object}\r\n\t */\r\n\tF.Table.prototype.toJSON = function(filtered){\r\n\t\treturn this.use(F.Export).json(filtered);\r\n\t};\r\n\r\n\t/**\r\n\t * @summary Return the columns and rows as a properly formatted CSV value.\r\n\t * @memberof FooTable.Table#\r\n\t * @function toCSV\r\n\t * @param {boolean} [filtered=false] - Whether or not to exclude filtered rows from the result.\r\n\t * @returns {string}\r\n\t */\r\n\tF.Table.prototype.toCSV = function(filtered){\r\n\t\treturn this.use(F.Export).csv(filtered);\r\n\t};\r\n\r\n})(FooTable);"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../source-map-loader/index.js!../../../../../src/assets/js/bootstrap.min.js":
/***/ (function(module, exports) {

module.exports = "/*!\n * Bootstrap v4.0.0-beta (https://getbootstrap.com)\n * Copyright 2011-2017 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.\");!function(t){var e=jQuery.fn.jquery.split(\" \")[0].split(\".\");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error(\"Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0\")}(),function(){function t(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function e(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){function e(t){return{}.toString.call(t).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function i(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function o(){if(window.QUnit)return!1;var t=document.createElement(\"bootstrap\");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function r(e){var n=this,i=!1;return t(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(n)},e),this}var s=!1,a={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"},l={TRANSITION_END:\"bsTransitionEnd\",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n=e.getAttribute(\"data-target\");n&&\"#\"!==n||(n=e.getAttribute(\"href\")||\"\");try{return t(n).length>0?n:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,i,o){for(var r in o)if(o.hasOwnProperty(r)){var s=o[r],a=i[r],l=a&&n(a)?\"element\":e(a);if(!new RegExp(s).test(l))throw new Error(t.toUpperCase()+': Option \"'+r+'\" provided type \"'+l+'\" but expected type \"'+s+'\".')}}};return s=o(),t.fn.emulateTransitionEnd=r,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=i()),l}(jQuery),s=(function(t){var e=\"alert\",i=t.fn[e],s={DISMISS:'[data-dismiss=\"alert\"]'},a={CLOSE:\"close.bs.alert\",CLOSED:\"closed.bs.alert\",CLICK_DATA_API:\"click.bs.alert.data-api\"},l={ALERT:\"alert\",FADE:\"fade\",SHOW:\"show\"},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,\"bs.alert\"),this._element=null},e.prototype._getRootElement=function(e){var n=r.getSelectorFromElement(e),i=!1;return n&&(i=t(n)[0]),i||(i=t(e).closest(\".\"+l.ALERT)[0]),i},e.prototype._triggerCloseEvent=function(e){var n=t.Event(a.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;t(e).removeClass(l.SHOW),r.supportsTransitionEnd()&&t(e).hasClass(l.FADE)?t(e).one(r.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150):this._destroyElement(e)},e.prototype._destroyElement=function(e){t(e).detach().trigger(a.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),o=i.data(\"bs.alert\");o||(o=new e(this),i.data(\"bs.alert\",o)),\"close\"===n&&o[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(e,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}}]),e}();t(document).on(a.CLICK_DATA_API,s.DISMISS,h._handleDismiss(new h)),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=i,h._jQueryInterface}}(jQuery),function(t){var e=\"button\",i=t.fn[e],r={ACTIVE:\"active\",BUTTON:\"btn\",FOCUS:\"focus\"},s={DATA_TOGGLE_CARROT:'[data-toggle^=\"button\"]',DATA_TOGGLE:'[data-toggle=\"buttons\"]',INPUT:\"input\",ACTIVE:\".active\",BUTTON:\".btn\"},a={CLICK_DATA_API:\"click.bs.button.data-api\",FOCUS_BLUR_DATA_API:\"focus.bs.button.data-api blur.bs.button.data-api\"},l=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=!0,i=t(this._element).closest(s.DATA_TOGGLE)[0];if(i){var o=t(this._element).find(s.INPUT)[0];if(o){if(\"radio\"===o.type)if(o.checked&&t(this._element).hasClass(r.ACTIVE))e=!1;else{var a=t(i).find(s.ACTIVE)[0];a&&t(a).removeClass(r.ACTIVE)}if(e){if(o.hasAttribute(\"disabled\")||i.hasAttribute(\"disabled\")||o.classList.contains(\"disabled\")||i.classList.contains(\"disabled\"))return;o.checked=!t(this._element).hasClass(r.ACTIVE),t(o).trigger(\"change\")}o.focus(),n=!1}}n&&this._element.setAttribute(\"aria-pressed\",!t(this._element).hasClass(r.ACTIVE)),e&&t(this._element).toggleClass(r.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,\"bs.button\"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data(\"bs.button\");i||(i=new e(this),t(this).data(\"bs.button\",i)),\"toggle\"===n&&i[n]()})},o(e,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}}]),e}();t(document).on(a.CLICK_DATA_API,s.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(r.BUTTON)||(n=t(n).closest(s.BUTTON)),l._jQueryInterface.call(t(n),\"toggle\")}).on(a.FOCUS_BLUR_DATA_API,s.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(s.BUTTON)[0];t(n).toggleClass(r.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=l._jQueryInterface,t.fn[e].Constructor=l,t.fn[e].noConflict=function(){return t.fn[e]=i,l._jQueryInterface}}(jQuery),function(t){var e=\"carousel\",s=\"bs.carousel\",a=\".\"+s,l=t.fn[e],h={interval:5e3,keyboard:!0,slide:!1,pause:\"hover\",wrap:!0},c={interval:\"(number|boolean)\",keyboard:\"boolean\",slide:\"(boolean|string)\",pause:\"(string|boolean)\",wrap:\"boolean\"},u={NEXT:\"next\",PREV:\"prev\",LEFT:\"left\",RIGHT:\"right\"},d={SLIDE:\"slide\"+a,SLID:\"slid\"+a,KEYDOWN:\"keydown\"+a,MOUSEENTER:\"mouseenter\"+a,MOUSELEAVE:\"mouseleave\"+a,TOUCHEND:\"touchend\"+a,LOAD_DATA_API:\"load.bs.carousel.data-api\",CLICK_DATA_API:\"click.bs.carousel.data-api\"},f={CAROUSEL:\"carousel\",ACTIVE:\"active\",SLIDE:\"slide\",RIGHT:\"carousel-item-right\",LEFT:\"carousel-item-left\",NEXT:\"carousel-item-next\",PREV:\"carousel-item-prev\",ITEM:\"carousel-item\"},p={ACTIVE:\".active\",ACTIVE_ITEM:\".active.carousel-item\",ITEM:\".carousel-item\",NEXT_PREV:\".carousel-item-next, .carousel-item-prev\",INDICATORS:\".carousel-indicators\",DATA_SLIDE:\"[data-slide], [data-slide-to]\",DATA_RIDE:'[data-ride=\"carousel\"]'},_=function(){function l(e,i){n(this,l),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(i),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(p.INDICATORS)[0],this._addEventListeners()}return l.prototype.next=function(){this._isSliding||this._slide(u.NEXT)},l.prototype.nextWhenVisible=function(){document.hidden||this.next()},l.prototype.prev=function(){this._isSliding||this._slide(u.PREV)},l.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(p.NEXT_PREV)[0]&&r.supportsTransitionEnd()&&(r.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},l.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},l.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(p.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(d.SLID,function(){return n.to(e)});else{if(i===e)return this.pause(),void this.cycle();var o=e>i?u.NEXT:u.PREV;this._slide(o,this._items[e])}},l.prototype.dispose=function(){t(this._element).off(a),t.removeData(this._element,s),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},l.prototype._getConfig=function(n){return n=t.extend({},h,n),r.typeCheckConfig(e,n,c),n},l.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(d.KEYDOWN,function(t){return e._keydown(t)}),\"hover\"===this._config.pause&&(t(this._element).on(d.MOUSEENTER,function(t){return e.pause(t)}).on(d.MOUSELEAVE,function(t){return e.cycle(t)}),\"ontouchstart\"in document.documentElement&&t(this._element).on(d.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},l.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},l.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(p.ITEM)),this._items.indexOf(e)},l.prototype._getItemByDirection=function(t,e){var n=t===u.NEXT,i=t===u.PREV,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var s=(o+(t===u.PREV?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},l.prototype._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),o=this._getItemIndex(t(this._element).find(p.ACTIVE_ITEM)[0]),r=t.Event(d.SLIDE,{relatedTarget:e,direction:n,from:o,to:i});return t(this._element).trigger(r),r},l.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(p.ACTIVE).removeClass(f.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(f.ACTIVE)}},l.prototype._slide=function(e,n){var i=this,o=t(this._element).find(p.ACTIVE_ITEM)[0],s=this._getItemIndex(o),a=n||o&&this._getItemByDirection(e,o),l=this._getItemIndex(a),h=Boolean(this._interval),c=void 0,_=void 0,g=void 0;if(e===u.NEXT?(c=f.LEFT,_=f.NEXT,g=u.LEFT):(c=f.RIGHT,_=f.PREV,g=u.RIGHT),a&&t(a).hasClass(f.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(a,g).isDefaultPrevented()&&o&&a){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(a);var m=t.Event(d.SLID,{relatedTarget:a,direction:g,from:s,to:l});r.supportsTransitionEnd()&&t(this._element).hasClass(f.SLIDE)?(t(a).addClass(_),r.reflow(a),t(o).addClass(c),t(a).addClass(c),t(o).one(r.TRANSITION_END,function(){t(a).removeClass(c+\" \"+_).addClass(f.ACTIVE),t(o).removeClass(f.ACTIVE+\" \"+_+\" \"+c),i._isSliding=!1,setTimeout(function(){return t(i._element).trigger(m)},0)}).emulateTransitionEnd(600)):(t(o).removeClass(f.ACTIVE),t(a).addClass(f.ACTIVE),this._isSliding=!1,t(this._element).trigger(m)),h&&this.cycle()}},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),o=t.extend({},h,t(this).data());\"object\"===(void 0===e?\"undefined\":i(e))&&t.extend(o,e);var r=\"string\"==typeof e?e:o.slide;if(n||(n=new l(this,o),t(this).data(s,n)),\"number\"==typeof e)n.to(e);else if(\"string\"==typeof r){if(void 0===n[r])throw new Error('No method named \"'+r+'\"');n[r]()}else o.interval&&(n.pause(),n.cycle())})},l._dataApiClickHandler=function(e){var n=r.getSelectorFromElement(this);if(n){var i=t(n)[0];if(i&&t(i).hasClass(f.CAROUSEL)){var o=t.extend({},t(i).data(),t(this).data()),a=this.getAttribute(\"data-slide-to\");a&&(o.interval=!1),l._jQueryInterface.call(t(i),o),a&&t(i).data(s).to(a),e.preventDefault()}}},o(l,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return h}}]),l}();t(document).on(d.CLICK_DATA_API,p.DATA_SLIDE,_._dataApiClickHandler),t(window).on(d.LOAD_DATA_API,function(){t(p.DATA_RIDE).each(function(){var e=t(this);_._jQueryInterface.call(e,e.data())})}),t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=l,_._jQueryInterface}}(jQuery),function(t){var e=\"collapse\",s=\"bs.collapse\",a=t.fn[e],l={toggle:!0,parent:\"\"},h={toggle:\"boolean\",parent:\"string\"},c={SHOW:\"show.bs.collapse\",SHOWN:\"shown.bs.collapse\",HIDE:\"hide.bs.collapse\",HIDDEN:\"hidden.bs.collapse\",CLICK_DATA_API:\"click.bs.collapse.data-api\"},u={SHOW:\"show\",COLLAPSE:\"collapse\",COLLAPSING:\"collapsing\",COLLAPSED:\"collapsed\"},d={WIDTH:\"width\",HEIGHT:\"height\"},f={ACTIVES:\".show, .collapsing\",DATA_TOGGLE:'[data-toggle=\"collapse\"]'},p=function(){function a(e,i){n(this,a),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle=\"collapse\"][href=\"#'+e.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+e.id+'\"]'));for(var o=t(f.DATA_TOGGLE),s=0;s<o.length;s++){var l=o[s],h=r.getSelectorFromElement(l);null!==h&&t(h).filter(e).length>0&&this._triggerArray.push(l)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return a.prototype.toggle=function(){t(this._element).hasClass(u.SHOW)?this.hide():this.show()},a.prototype.show=function(){var e=this;if(!this._isTransitioning&&!t(this._element).hasClass(u.SHOW)){var n=void 0,i=void 0;if(this._parent&&((n=t.makeArray(t(this._parent).children().children(f.ACTIVES))).length||(n=null)),!(n&&(i=t(n).data(s))&&i._isTransitioning)){var o=t.Event(c.SHOW);if(t(this._element).trigger(o),!o.isDefaultPrevented()){n&&(a._jQueryInterface.call(t(n),\"hide\"),i||t(n).data(s,null));var l=this._getDimension();t(this._element).removeClass(u.COLLAPSE).addClass(u.COLLAPSING),this._element.style[l]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(u.COLLAPSED).attr(\"aria-expanded\",!0),this.setTransitioning(!0);var h=function(){t(e._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).addClass(u.SHOW),e._element.style[l]=\"\",e.setTransitioning(!1),t(e._element).trigger(c.SHOWN)};if(r.supportsTransitionEnd()){var d=\"scroll\"+(l[0].toUpperCase()+l.slice(1));t(this._element).one(r.TRANSITION_END,h).emulateTransitionEnd(600),this._element.style[l]=this._element[d]+\"px\"}else h()}}}},a.prototype.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(u.SHOW)){var n=t.Event(c.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+\"px\",r.reflow(this._element),t(this._element).addClass(u.COLLAPSING).removeClass(u.COLLAPSE).removeClass(u.SHOW),this._triggerArray.length)for(var o=0;o<this._triggerArray.length;o++){var s=this._triggerArray[o],a=r.getSelectorFromElement(s);null!==a&&(t(a).hasClass(u.SHOW)||t(s).addClass(u.COLLAPSED).attr(\"aria-expanded\",!1))}this.setTransitioning(!0);var l=function(){e.setTransitioning(!1),t(e._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).trigger(c.HIDDEN)};this._element.style[i]=\"\",r.supportsTransitionEnd()?t(this._element).one(r.TRANSITION_END,l).emulateTransitionEnd(600):l()}}},a.prototype.setTransitioning=function(t){this._isTransitioning=t},a.prototype.dispose=function(){t.removeData(this._element,s),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},a.prototype._getConfig=function(n){return n=t.extend({},l,n),n.toggle=Boolean(n.toggle),r.typeCheckConfig(e,n,h),n},a.prototype._getDimension=function(){return t(this._element).hasClass(d.WIDTH)?d.WIDTH:d.HEIGHT},a.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],i='[data-toggle=\"collapse\"][data-parent=\"'+this._config.parent+'\"]';return t(n).find(i).each(function(t,n){e._addAriaAndCollapsedClass(a._getTargetFromElement(n),[n])}),n},a.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(u.SHOW);n.length&&t(n).toggleClass(u.COLLAPSED,!i).attr(\"aria-expanded\",i)}},a._getTargetFromElement=function(e){var n=r.getSelectorFromElement(e);return n?t(n)[0]:null},a._jQueryInterface=function(e){return this.each(function(){var n=t(this),o=n.data(s),r=t.extend({},l,n.data(),\"object\"===(void 0===e?\"undefined\":i(e))&&e);if(!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||(o=new a(this,r),n.data(s,o)),\"string\"==typeof e){if(void 0===o[e])throw new Error('No method named \"'+e+'\"');o[e]()}})},o(a,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return l}}]),a}();t(document).on(c.CLICK_DATA_API,f.DATA_TOGGLE,function(e){/input|textarea/i.test(e.target.tagName)||e.preventDefault();var n=t(this),i=r.getSelectorFromElement(this);t(i).each(function(){var e=t(this),i=e.data(s)?\"toggle\":n.data();p._jQueryInterface.call(e,i)})}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=a,p._jQueryInterface}}(jQuery),function(t){if(\"undefined\"==typeof Popper)throw new Error(\"Bootstrap dropdown require Popper.js (https://popper.js.org)\");var e=\"dropdown\",s=\"bs.dropdown\",a=\".\"+s,l=t.fn[e],h=new RegExp(\"38|40|27\"),c={HIDE:\"hide\"+a,HIDDEN:\"hidden\"+a,SHOW:\"show\"+a,SHOWN:\"shown\"+a,CLICK:\"click\"+a,CLICK_DATA_API:\"click.bs.dropdown.data-api\",KEYDOWN_DATA_API:\"keydown.bs.dropdown.data-api\",KEYUP_DATA_API:\"keyup.bs.dropdown.data-api\"},u={DISABLED:\"disabled\",SHOW:\"show\",DROPUP:\"dropup\",MENURIGHT:\"dropdown-menu-right\",MENULEFT:\"dropdown-menu-left\"},d={DATA_TOGGLE:'[data-toggle=\"dropdown\"]',FORM_CHILD:\".dropdown form\",MENU:\".dropdown-menu\",NAVBAR_NAV:\".navbar-nav\",VISIBLE_ITEMS:\".dropdown-menu .dropdown-item:not(.disabled)\"},f={TOP:\"top-start\",TOPEND:\"top-end\",BOTTOM:\"bottom-start\",BOTTOMEND:\"bottom-end\"},p={placement:f.BOTTOM,offset:0,flip:!0},_={placement:\"string\",offset:\"(number|string)\",flip:\"boolean\"},g=function(){function l(t,e){n(this,l),this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return l.prototype.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(u.DISABLED)){var e=l._getParentFromElement(this._element),n=t(this._menu).hasClass(u.SHOW);if(l._clearMenus(),!n){var i={relatedTarget:this._element},o=t.Event(c.SHOW,i);if(t(e).trigger(o),!o.isDefaultPrevented()){var r=this._element;t(e).hasClass(u.DROPUP)&&(t(this._menu).hasClass(u.MENULEFT)||t(this._menu).hasClass(u.MENURIGHT))&&(r=e),this._popper=new Popper(r,this._menu,this._getPopperConfig()),\"ontouchstart\"in document.documentElement&&!t(e).closest(d.NAVBAR_NAV).length&&t(\"body\").children().on(\"mouseover\",null,t.noop),this._element.focus(),this._element.setAttribute(\"aria-expanded\",!0),t(this._menu).toggleClass(u.SHOW),t(e).toggleClass(u.SHOW).trigger(t.Event(c.SHOWN,i))}}}},l.prototype.dispose=function(){t.removeData(this._element,s),t(this._element).off(a),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},l.prototype.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},l.prototype._addEventListeners=function(){var e=this;t(this._element).on(c.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},l.prototype._getConfig=function(n){var i=t(this._element).data();return void 0!==i.placement&&(i.placement=f[i.placement.toUpperCase()]),n=t.extend({},this.constructor.Default,t(this._element).data(),n),r.typeCheckConfig(e,n,this.constructor.DefaultType),n},l.prototype._getMenuElement=function(){if(!this._menu){var e=l._getParentFromElement(this._element);this._menu=t(e).find(d.MENU)[0]}return this._menu},l.prototype._getPlacement=function(){var e=t(this._element).parent(),n=this._config.placement;return e.hasClass(u.DROPUP)||this._config.placement===f.TOP?(n=f.TOP,t(this._menu).hasClass(u.MENURIGHT)&&(n=f.TOPEND)):t(this._menu).hasClass(u.MENURIGHT)&&(n=f.BOTTOMEND),n},l.prototype._detectNavbar=function(){return t(this._element).closest(\".navbar\").length>0},l.prototype._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(t.modifiers.applyStyle={enabled:!this._inNavbar}),t},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),o=\"object\"===(void 0===e?\"undefined\":i(e))?e:null;if(n||(n=new l(this,o),t(this).data(s,n)),\"string\"==typeof e){if(void 0===n[e])throw new Error('No method named \"'+e+'\"');n[e]()}})},l._clearMenus=function(e){if(!e||3!==e.which&&(\"keyup\"!==e.type||9===e.which))for(var n=t.makeArray(t(d.DATA_TOGGLE)),i=0;i<n.length;i++){var o=l._getParentFromElement(n[i]),r=t(n[i]).data(s),a={relatedTarget:n[i]};if(r){var h=r._menu;if(t(o).hasClass(u.SHOW)&&!(e&&(\"click\"===e.type&&/input|textarea/i.test(e.target.tagName)||\"keyup\"===e.type&&9===e.which)&&t.contains(o,e.target))){var f=t.Event(c.HIDE,a);t(o).trigger(f),f.isDefaultPrevented()||(\"ontouchstart\"in document.documentElement&&t(\"body\").children().off(\"mouseover\",null,t.noop),n[i].setAttribute(\"aria-expanded\",\"false\"),t(h).removeClass(u.SHOW),t(o).removeClass(u.SHOW).trigger(t.Event(c.HIDDEN,a)))}}}},l._getParentFromElement=function(e){var n=void 0,i=r.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},l._dataApiKeydownHandler=function(e){if(!(!h.test(e.which)||/button/i.test(e.target.tagName)&&32===e.which||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||t(this).hasClass(u.DISABLED)))){var n=l._getParentFromElement(this),i=t(n).hasClass(u.SHOW);if((i||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)){var o=t(n).find(d.VISIBLE_ITEMS).get();if(o.length){var r=o.indexOf(e.target);38===e.which&&r>0&&r--,40===e.which&&r<o.length-1&&r++,r<0&&(r=0),o[r].focus()}}else{if(27===e.which){var s=t(n).find(d.DATA_TOGGLE)[0];t(s).trigger(\"focus\")}t(this).trigger(\"click\")}}},o(l,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return p}},{key:\"DefaultType\",get:function(){return _}}]),l}();t(document).on(c.KEYDOWN_DATA_API,d.DATA_TOGGLE,g._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,d.MENU,g._dataApiKeydownHandler).on(c.CLICK_DATA_API+\" \"+c.KEYUP_DATA_API,g._clearMenus).on(c.CLICK_DATA_API,d.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),g._jQueryInterface.call(t(this),\"toggle\")}).on(c.CLICK_DATA_API,d.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=l,g._jQueryInterface}}(jQuery),function(t){var e=\"modal\",s=\".bs.modal\",a=t.fn[e],l={backdrop:!0,keyboard:!0,focus:!0,show:!0},h={backdrop:\"(boolean|string)\",keyboard:\"boolean\",focus:\"boolean\",show:\"boolean\"},c={HIDE:\"hide.bs.modal\",HIDDEN:\"hidden.bs.modal\",SHOW:\"show.bs.modal\",SHOWN:\"shown.bs.modal\",FOCUSIN:\"focusin.bs.modal\",RESIZE:\"resize.bs.modal\",CLICK_DISMISS:\"click.dismiss.bs.modal\",KEYDOWN_DISMISS:\"keydown.dismiss.bs.modal\",MOUSEUP_DISMISS:\"mouseup.dismiss.bs.modal\",MOUSEDOWN_DISMISS:\"mousedown.dismiss.bs.modal\",CLICK_DATA_API:\"click.bs.modal.data-api\"},u={SCROLLBAR_MEASURER:\"modal-scrollbar-measure\",BACKDROP:\"modal-backdrop\",OPEN:\"modal-open\",FADE:\"fade\",SHOW:\"show\"},d={DIALOG:\".modal-dialog\",DATA_TOGGLE:'[data-toggle=\"modal\"]',DATA_DISMISS:'[data-dismiss=\"modal\"]',FIXED_CONTENT:\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\",NAVBAR_TOGGLER:\".navbar-toggler\"},f=function(){function a(e,i){n(this,a),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(d.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return a.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},a.prototype.show=function(e){var n=this;if(!this._isTransitioning){r.supportsTransitionEnd()&&t(this._element).hasClass(u.FADE)&&(this._isTransitioning=!0);var i=t.Event(c.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(u.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(c.CLICK_DISMISS,d.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(c.MOUSEDOWN_DISMISS,function(){t(n._element).one(c.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},a.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=r.supportsTransitionEnd()&&t(this._element).hasClass(u.FADE);i&&(this._isTransitioning=!0);var o=t.Event(c.HIDE);t(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(c.FOCUSIN),t(this._element).removeClass(u.SHOW),t(this._element).off(c.CLICK_DISMISS),t(this._dialog).off(c.MOUSEDOWN_DISMISS),i?t(this._element).one(r.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())}},a.prototype.dispose=function(){t.removeData(this._element,\"bs.modal\"),t(window,document,this._element,this._backdrop).off(s),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},a.prototype.handleUpdate=function(){this._adjustDialog()},a.prototype._getConfig=function(n){return n=t.extend({},l,n),r.typeCheckConfig(e,n,h),n},a.prototype._showElement=function(e){var n=this,i=r.supportsTransitionEnd()&&t(this._element).hasClass(u.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display=\"block\",this._element.removeAttribute(\"aria-hidden\"),this._element.scrollTop=0,i&&r.reflow(this._element),t(this._element).addClass(u.SHOW),this._config.focus&&this._enforceFocus();var o=t.Event(c.SHOWN,{relatedTarget:e}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(o)};i?t(this._dialog).one(r.TRANSITION_END,s).emulateTransitionEnd(300):s()},a.prototype._enforceFocus=function(){var e=this;t(document).off(c.FOCUSIN).on(c.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},a.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(c.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(c.KEYDOWN_DISMISS)},a.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(c.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(c.RESIZE)},a.prototype._hideModal=function(){var e=this;this._element.style.display=\"none\",this._element.setAttribute(\"aria-hidden\",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(u.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(c.HIDDEN)})},a.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},a.prototype._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(u.FADE)?u.FADE:\"\";if(this._isShown&&this._config.backdrop){var o=r.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement(\"div\"),this._backdrop.className=u.BACKDROP,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(c.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&(\"static\"===n._config.backdrop?n._element.focus():n.hide())}),o&&r.reflow(this._backdrop),t(this._backdrop).addClass(u.SHOW),!e)return;if(!o)return void e();t(this._backdrop).one(r.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(u.SHOW);var s=function(){n._removeBackdrop(),e&&e()};r.supportsTransitionEnd()&&t(this._element).hasClass(u.FADE)?t(this._backdrop).one(r.TRANSITION_END,s).emulateTransitionEnd(150):s()}else e&&e()},a.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+\"px\"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+\"px\")},a.prototype._resetAdjustments=function(){this._element.style.paddingLeft=\"\",this._element.style.paddingRight=\"\"},a.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},a.prototype._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(d.FIXED_CONTENT).each(function(n,i){var o=t(i)[0].style.paddingRight,r=t(i).css(\"padding-right\");t(i).data(\"padding-right\",o).css(\"padding-right\",parseFloat(r)+e._scrollbarWidth+\"px\")}),t(d.NAVBAR_TOGGLER).each(function(n,i){var o=t(i)[0].style.marginRight,r=t(i).css(\"margin-right\");t(i).data(\"margin-right\",o).css(\"margin-right\",parseFloat(r)+e._scrollbarWidth+\"px\")});var n=document.body.style.paddingRight,i=t(\"body\").css(\"padding-right\");t(\"body\").data(\"padding-right\",n).css(\"padding-right\",parseFloat(i)+this._scrollbarWidth+\"px\")}},a.prototype._resetScrollbar=function(){t(d.FIXED_CONTENT).each(function(e,n){var i=t(n).data(\"padding-right\");void 0!==i&&t(n).css(\"padding-right\",i).removeData(\"padding-right\")}),t(d.NAVBAR_TOGGLER).each(function(e,n){var i=t(n).data(\"margin-right\");void 0!==i&&t(n).css(\"margin-right\",i).removeData(\"margin-right\")});var e=t(\"body\").data(\"padding-right\");void 0!==e&&t(\"body\").css(\"padding-right\",e).removeData(\"padding-right\")},a.prototype._getScrollbarWidth=function(){var t=document.createElement(\"div\");t.className=u.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},a._jQueryInterface=function(e,n){return this.each(function(){var o=t(this).data(\"bs.modal\"),r=t.extend({},a.Default,t(this).data(),\"object\"===(void 0===e?\"undefined\":i(e))&&e);if(o||(o=new a(this,r),t(this).data(\"bs.modal\",o)),\"string\"==typeof e){if(void 0===o[e])throw new Error('No method named \"'+e+'\"');o[e](n)}else r.show&&o.show(n)})},o(a,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return l}}]),a}();t(document).on(c.CLICK_DATA_API,d.DATA_TOGGLE,function(e){var n=this,i=void 0,o=r.getSelectorFromElement(this);o&&(i=t(o)[0]);var s=t(i).data(\"bs.modal\")?\"toggle\":t.extend({},t(i).data(),t(this).data());\"A\"!==this.tagName&&\"AREA\"!==this.tagName||e.preventDefault();var a=t(i).one(c.SHOW,function(e){e.isDefaultPrevented()||a.one(c.HIDDEN,function(){t(n).is(\":visible\")&&n.focus()})});f._jQueryInterface.call(t(i),s,this)}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=a,f._jQueryInterface}}(jQuery),function(t){var e=\"scrollspy\",s=t.fn[e],a={offset:10,method:\"auto\",target:\"\"},l={offset:\"number\",method:\"string\",target:\"(string|element)\"},h={ACTIVATE:\"activate.bs.scrollspy\",SCROLL:\"scroll.bs.scrollspy\",LOAD_DATA_API:\"load.bs.scrollspy.data-api\"},c={DROPDOWN_ITEM:\"dropdown-item\",DROPDOWN_MENU:\"dropdown-menu\",ACTIVE:\"active\"},u={DATA_SPY:'[data-spy=\"scroll\"]',ACTIVE:\".active\",NAV_LIST_GROUP:\".nav, .list-group\",NAV_LINKS:\".nav-link\",LIST_ITEMS:\".list-group-item\",DROPDOWN:\".dropdown\",DROPDOWN_ITEMS:\".dropdown-item\",DROPDOWN_TOGGLE:\".dropdown-toggle\"},d={OFFSET:\"offset\",POSITION:\"position\"},f=function(){function s(e,i){var o=this;n(this,s),this._element=e,this._scrollElement=\"BODY\"===e.tagName?window:e,this._config=this._getConfig(i),this._selector=this._config.target+\" \"+u.NAV_LINKS+\",\"+this._config.target+\" \"+u.LIST_ITEMS+\",\"+this._config.target+\" \"+u.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(h.SCROLL,function(t){return o._process(t)}),this.refresh(),this._process()}return s.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?d.POSITION:d.OFFSET,i=\"auto\"===this._config.method?n:this._config.method,o=i===d.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n=void 0,s=r.getSelectorFromElement(e);if(s&&(n=t(s)[0]),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[t(n)[i]().top+o,s]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},s.prototype.dispose=function(){t.removeData(this._element,\"bs.scrollspy\"),t(this._scrollElement).off(\".bs.scrollspy\"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},s.prototype._getConfig=function(n){if(\"string\"!=typeof(n=t.extend({},a,n)).target){var i=t(n.target).attr(\"id\");i||(i=r.getUID(e),t(n.target).attr(\"id\",i)),n.target=\"#\"+i}return r.typeCheckConfig(e,n,l),n},s.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},s.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},s.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},s.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}},s.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(\",\");n=n.map(function(t){return t+'[data-target=\"'+e+'\"],'+t+'[href=\"'+e+'\"]'});var i=t(n.join(\",\"));i.hasClass(c.DROPDOWN_ITEM)?(i.closest(u.DROPDOWN).find(u.DROPDOWN_TOGGLE).addClass(c.ACTIVE),i.addClass(c.ACTIVE)):(i.addClass(c.ACTIVE),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_LINKS+\", \"+u.LIST_ITEMS).addClass(c.ACTIVE)),t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:e})},s.prototype._clear=function(){t(this._selector).filter(u.ACTIVE).removeClass(c.ACTIVE)},s._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(\"bs.scrollspy\"),o=\"object\"===(void 0===e?\"undefined\":i(e))&&e;if(n||(n=new s(this,o),t(this).data(\"bs.scrollspy\",n)),\"string\"==typeof e){if(void 0===n[e])throw new Error('No method named \"'+e+'\"');n[e]()}})},o(s,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return a}}]),s}();t(window).on(h.LOAD_DATA_API,function(){for(var e=t.makeArray(t(u.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);f._jQueryInterface.call(i,i.data())}}),t.fn[e]=f._jQueryInterface,t.fn[e].Constructor=f,t.fn[e].noConflict=function(){return t.fn[e]=s,f._jQueryInterface}}(jQuery),function(t){var e=t.fn.tab,i={HIDE:\"hide.bs.tab\",HIDDEN:\"hidden.bs.tab\",SHOW:\"show.bs.tab\",SHOWN:\"shown.bs.tab\",CLICK_DATA_API:\"click.bs.tab.data-api\"},s={DROPDOWN_MENU:\"dropdown-menu\",ACTIVE:\"active\",DISABLED:\"disabled\",FADE:\"fade\",SHOW:\"show\"},a={DROPDOWN:\".dropdown\",NAV_LIST_GROUP:\".nav, .list-group\",ACTIVE:\".active\",DATA_TOGGLE:'[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]',DROPDOWN_TOGGLE:\".dropdown-toggle\",DROPDOWN_ACTIVE_CHILD:\"> .dropdown-menu .active\"},l=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(s.ACTIVE)||t(this._element).hasClass(s.DISABLED))){var n=void 0,o=void 0,l=t(this._element).closest(a.NAV_LIST_GROUP)[0],h=r.getSelectorFromElement(this._element);l&&(o=t.makeArray(t(l).find(a.ACTIVE)),o=o[o.length-1]);var c=t.Event(i.HIDE,{relatedTarget:this._element}),u=t.Event(i.SHOW,{relatedTarget:o});if(o&&t(o).trigger(c),t(this._element).trigger(u),!u.isDefaultPrevented()&&!c.isDefaultPrevented()){h&&(n=t(h)[0]),this._activate(this._element,l);var d=function(){var n=t.Event(i.HIDDEN,{relatedTarget:e._element}),r=t.Event(i.SHOWN,{relatedTarget:o});t(o).trigger(n),t(e._element).trigger(r)};n?this._activate(n,n.parentNode,d):d()}}},e.prototype.dispose=function(){t.removeData(this._element,\"bs.tab\"),this._element=null},e.prototype._activate=function(e,n,i){var o=this,l=t(n).find(a.ACTIVE)[0],h=i&&r.supportsTransitionEnd()&&l&&t(l).hasClass(s.FADE),c=function(){return o._transitionComplete(e,l,h,i)};l&&h?t(l).one(r.TRANSITION_END,c).emulateTransitionEnd(150):c(),l&&t(l).removeClass(s.SHOW)},e.prototype._transitionComplete=function(e,n,i,o){if(n){t(n).removeClass(s.ACTIVE);var l=t(n.parentNode).find(a.DROPDOWN_ACTIVE_CHILD)[0];l&&t(l).removeClass(s.ACTIVE),n.setAttribute(\"aria-expanded\",!1)}if(t(e).addClass(s.ACTIVE),e.setAttribute(\"aria-expanded\",!0),i?(r.reflow(e),t(e).addClass(s.SHOW)):t(e).removeClass(s.FADE),e.parentNode&&t(e.parentNode).hasClass(s.DROPDOWN_MENU)){var h=t(e).closest(a.DROPDOWN)[0];h&&t(h).find(a.DROPDOWN_TOGGLE).addClass(s.ACTIVE),e.setAttribute(\"aria-expanded\",!0)}o&&o()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),o=i.data(\"bs.tab\");if(o||(o=new e(this),i.data(\"bs.tab\",o)),\"string\"==typeof n){if(void 0===o[n])throw new Error('No method named \"'+n+'\"');o[n]()}})},o(e,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}}]),e}();t(document).on(i.CLICK_DATA_API,a.DATA_TOGGLE,function(e){e.preventDefault(),l._jQueryInterface.call(t(this),\"show\")}),t.fn.tab=l._jQueryInterface,t.fn.tab.Constructor=l,t.fn.tab.noConflict=function(){return t.fn.tab=e,l._jQueryInterface}}(jQuery),function(t){if(\"undefined\"==typeof Popper)throw new Error(\"Bootstrap tooltips require Popper.js (https://popper.js.org)\");var e=\"tooltip\",s=\".bs.tooltip\",a=t.fn[e],l=new RegExp(\"(^|\\\\s)bs-tooltip\\\\S+\",\"g\"),h={animation:\"boolean\",template:\"string\",title:\"(string|element|function)\",trigger:\"string\",delay:\"(number|object)\",html:\"boolean\",selector:\"(string|boolean)\",placement:\"(string|function)\",offset:\"(number|string)\",container:\"(string|element|boolean)\",fallbackPlacement:\"(string|array)\"},c={AUTO:\"auto\",TOP:\"top\",RIGHT:\"right\",BOTTOM:\"bottom\",LEFT:\"left\"},u={animation:!0,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,selector:!1,placement:\"top\",offset:0,container:!1,fallbackPlacement:\"flip\"},d={SHOW:\"show\",OUT:\"out\"},f={HIDE:\"hide\"+s,HIDDEN:\"hidden\"+s,SHOW:\"show\"+s,SHOWN:\"shown\"+s,INSERTED:\"inserted\"+s,CLICK:\"click\"+s,FOCUSIN:\"focusin\"+s,FOCUSOUT:\"focusout\"+s,MOUSEENTER:\"mouseenter\"+s,MOUSELEAVE:\"mouseleave\"+s},p={FADE:\"fade\",SHOW:\"show\"},_={TOOLTIP:\".tooltip\",TOOLTIP_INNER:\".tooltip-inner\",ARROW:\".arrow\"},g={HOVER:\"hover\",FOCUS:\"focus\",CLICK:\"click\",MANUAL:\"manual\"},m=function(){function a(t,e){n(this,a),this._isEnabled=!0,this._timeout=0,this._hoverState=\"\",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return a.prototype.enable=function(){this._isEnabled=!0},a.prototype.disable=function(){this._isEnabled=!1},a.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},a.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(p.SHOW))return void this._leave(null,this);this._enter(null,this)}},a.prototype.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(\".modal\").off(\"hide.bs.modal\"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},a.prototype.show=function(){var e=this;if(\"none\"===t(this.element).css(\"display\"))throw new Error(\"Please use show on visible elements\");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(n);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var o=this.getTipElement(),s=r.getUID(this.constructor.NAME);o.setAttribute(\"id\",s),this.element.setAttribute(\"aria-describedby\",s),this.setContent(),this.config.animation&&t(o).addClass(p.FADE);var l=\"function\"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var c=!1===this.config.container?document.body:t(this.config.container);t(o).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(o).appendTo(c),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Popper(this.element,o,{placement:h,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:_.ARROW}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(o).addClass(p.SHOW),\"ontouchstart\"in document.documentElement&&t(\"body\").children().on(\"mouseover\",null,t.noop);var u=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===d.OUT&&e._leave(null,e)};r.supportsTransitionEnd()&&t(this.tip).hasClass(p.FADE)?t(this.tip).one(r.TRANSITION_END,u).emulateTransitionEnd(a._TRANSITION_DURATION):u()}},a.prototype.hide=function(e){var n=this,i=this.getTipElement(),o=t.Event(this.constructor.Event.HIDE),s=function(){n._hoverState!==d.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute(\"aria-describedby\"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(o),o.isDefaultPrevented()||(t(i).removeClass(p.SHOW),\"ontouchstart\"in document.documentElement&&t(\"body\").children().off(\"mouseover\",null,t.noop),this._activeTrigger[g.CLICK]=!1,this._activeTrigger[g.FOCUS]=!1,this._activeTrigger[g.HOVER]=!1,r.supportsTransitionEnd()&&t(this.tip).hasClass(p.FADE)?t(i).one(r.TRANSITION_END,s).emulateTransitionEnd(150):s(),this._hoverState=\"\")},a.prototype.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},a.prototype.isWithContent=function(){return Boolean(this.getTitle())},a.prototype.addAttachmentClass=function(e){t(this.getTipElement()).addClass(\"bs-tooltip-\"+e)},a.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},a.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(_.TOOLTIP_INNER),this.getTitle()),e.removeClass(p.FADE+\" \"+p.SHOW)},a.prototype.setElementContent=function(e,n){var o=this.config.html;\"object\"===(void 0===n?\"undefined\":i(n))&&(n.nodeType||n.jquery)?o?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[o?\"html\":\"text\"](n)},a.prototype.getTitle=function(){var t=this.element.getAttribute(\"data-original-title\");return t||(t=\"function\"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},a.prototype._getAttachment=function(t){return c[t.toUpperCase()]},a.prototype._setListeners=function(){var e=this;this.config.trigger.split(\" \").forEach(function(n){if(\"click\"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==g.MANUAL){var i=n===g.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,o=n===g.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(o,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(\".modal\").on(\"hide.bs.modal\",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:\"manual\",selector:\"\"}):this._fixTitle()},a.prototype._fixTitle=function(){var t=i(this.element.getAttribute(\"data-original-title\"));(this.element.getAttribute(\"title\")||\"string\"!==t)&&(this.element.setAttribute(\"data-original-title\",this.element.getAttribute(\"title\")||\"\"),this.element.setAttribute(\"title\",\"\"))},a.prototype._enter=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger[\"focusin\"===e.type?g.FOCUS:g.HOVER]=!0),t(n.getTipElement()).hasClass(p.SHOW)||n._hoverState===d.SHOW?n._hoverState=d.SHOW:(clearTimeout(n._timeout),n._hoverState=d.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===d.SHOW&&n.show()},n.config.delay.show):n.show())},a.prototype._leave=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger[\"focusout\"===e.type?g.FOCUS:g.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=d.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===d.OUT&&n.hide()},n.config.delay.hide):n.hide())},a.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},a.prototype._getConfig=function(n){return(n=t.extend({},this.constructor.Default,t(this.element).data(),n)).delay&&\"number\"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.title&&\"number\"==typeof n.title&&(n.title=n.title.toString()),n.content&&\"number\"==typeof n.content&&(n.content=n.content.toString()),r.typeCheckConfig(e,n,this.constructor.DefaultType),n},a.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},a.prototype._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr(\"class\").match(l);null!==n&&n.length>0&&e.removeClass(n.join(\"\"))},a.prototype._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},a.prototype._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute(\"x-placement\")&&(t(e).removeClass(p.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(\"bs.tooltip\"),o=\"object\"===(void 0===e?\"undefined\":i(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new a(this,o),t(this).data(\"bs.tooltip\",n)),\"string\"==typeof e)){if(void 0===n[e])throw new Error('No method named \"'+e+'\"');n[e]()}})},o(a,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return u}},{key:\"NAME\",get:function(){return e}},{key:\"DATA_KEY\",get:function(){return\"bs.tooltip\"}},{key:\"Event\",get:function(){return f}},{key:\"EVENT_KEY\",get:function(){return s}},{key:\"DefaultType\",get:function(){return h}}]),a}();return t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=a,m._jQueryInterface},m}(jQuery));!function(r){var a=\"popover\",l=\".bs.popover\",h=r.fn[a],c=new RegExp(\"(^|\\\\s)bs-popover\\\\S+\",\"g\"),u=r.extend({},s.Default,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>'}),d=r.extend({},s.DefaultType,{content:\"(string|element|function)\"}),f={FADE:\"fade\",SHOW:\"show\"},p={TITLE:\".popover-header\",CONTENT:\".popover-body\"},_={HIDE:\"hide\"+l,HIDDEN:\"hidden\"+l,SHOW:\"show\"+l,SHOWN:\"shown\"+l,INSERTED:\"inserted\"+l,CLICK:\"click\"+l,FOCUSIN:\"focusin\"+l,FOCUSOUT:\"focusout\"+l,MOUSEENTER:\"mouseenter\"+l,MOUSELEAVE:\"mouseleave\"+l},g=function(s){function h(){return n(this,h),t(this,s.apply(this,arguments))}return e(h,s),h.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},h.prototype.addAttachmentClass=function(t){r(this.getTipElement()).addClass(\"bs-popover-\"+t)},h.prototype.getTipElement=function(){return this.tip=this.tip||r(this.config.template)[0]},h.prototype.setContent=function(){var t=r(this.getTipElement());this.setElementContent(t.find(p.TITLE),this.getTitle()),this.setElementContent(t.find(p.CONTENT),this._getContent()),t.removeClass(f.FADE+\" \"+f.SHOW)},h.prototype._getContent=function(){return this.element.getAttribute(\"data-content\")||(\"function\"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},h.prototype._cleanTipClass=function(){var t=r(this.getTipElement()),e=t.attr(\"class\").match(c);null!==e&&e.length>0&&t.removeClass(e.join(\"\"))},h._jQueryInterface=function(t){return this.each(function(){var e=r(this).data(\"bs.popover\"),n=\"object\"===(void 0===t?\"undefined\":i(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new h(this,n),r(this).data(\"bs.popover\",e)),\"string\"==typeof t)){if(void 0===e[t])throw new Error('No method named \"'+t+'\"');e[t]()}})},o(h,null,[{key:\"VERSION\",get:function(){return\"4.0.0-beta\"}},{key:\"Default\",get:function(){return u}},{key:\"NAME\",get:function(){return a}},{key:\"DATA_KEY\",get:function(){return\"bs.popover\"}},{key:\"Event\",get:function(){return _}},{key:\"EVENT_KEY\",get:function(){return l}},{key:\"DefaultType\",get:function(){return d}}]),h}(s);r.fn[a]=g._jQueryInterface,r.fn[a].Constructor=g,r.fn[a].noConflict=function(){return r.fn[a]=h,g._jQueryInterface}}(jQuery)}();"

/***/ }),

/***/ "../../../../raw-loader/index.js!../../../../source-map-loader/index.js!../../../../../src/assets/summernote/summernote.js":
/***/ (function(module, exports) {

module.exports = "/**\r\n * Super simple wysiwyg editor v0.8.2\r\n * http://summernote.org/\r\n *\r\n * summernote.js\r\n * Copyright 2013-2016 Alan Hong. and other contributors\r\n * summernote may be freely distributed under the MIT license./\r\n *\r\n * Date: 2016-08-08T01:21Z\r\n */\r\n(function (factory) {\r\n  /* global define */\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node/CommonJS\r\n    module.exports = factory(require('jquery'));\r\n  } else {\r\n    // Browser globals\r\n    factory(window.jQuery);\r\n  }\r\n}(function ($) {\r\n  'use strict';\r\n\r\n  /**\r\n   * @class core.func\r\n   *\r\n   * func utils (for high-order func's arg)\r\n   *\r\n   * @singleton\r\n   * @alternateClassName func\r\n   */\r\n  var func = (function () {\r\n    var eq = function (itemA) {\r\n      return function (itemB) {\r\n        return itemA === itemB;\r\n      };\r\n    };\r\n\r\n    var eq2 = function (itemA, itemB) {\r\n      return itemA === itemB;\r\n    };\r\n\r\n    var peq2 = function (propName) {\r\n      return function (itemA, itemB) {\r\n        return itemA[propName] === itemB[propName];\r\n      };\r\n    };\r\n\r\n    var ok = function () {\r\n      return true;\r\n    };\r\n\r\n    var fail = function () {\r\n      return false;\r\n    };\r\n\r\n    var not = function (f) {\r\n      return function () {\r\n        return !f.apply(f, arguments);\r\n      };\r\n    };\r\n\r\n    var and = function (fA, fB) {\r\n      return function (item) {\r\n        return fA(item) && fB(item);\r\n      };\r\n    };\r\n\r\n    var self = function (a) {\r\n      return a;\r\n    };\r\n\r\n    var invoke = function (obj, method) {\r\n      return function () {\r\n        return obj[method].apply(obj, arguments);\r\n      };\r\n    };\r\n\r\n    var idCounter = 0;\r\n\r\n    /**\r\n     * generate a globally-unique id\r\n     *\r\n     * @param {String} [prefix]\r\n     */\r\n    var uniqueId = function (prefix) {\r\n      var id = ++idCounter + '';\r\n      return prefix ? prefix + id : id;\r\n    };\r\n\r\n    /**\r\n     * returns bnd (bounds) from rect\r\n     *\r\n     * - IE Compatibility Issue: http://goo.gl/sRLOAo\r\n     * - Scroll Issue: http://goo.gl/sNjUc\r\n     *\r\n     * @param {Rect} rect\r\n     * @return {Object} bounds\r\n     * @return {Number} bounds.top\r\n     * @return {Number} bounds.left\r\n     * @return {Number} bounds.width\r\n     * @return {Number} bounds.height\r\n     */\r\n    var rect2bnd = function (rect) {\r\n      var $document = $(document);\r\n      return {\r\n        top: rect.top + $document.scrollTop(),\r\n        left: rect.left + $document.scrollLeft(),\r\n        width: rect.right - rect.left,\r\n        height: rect.bottom - rect.top\r\n      };\r\n    };\r\n\r\n    /**\r\n     * returns a copy of the object where the keys have become the values and the values the keys.\r\n     * @param {Object} obj\r\n     * @return {Object}\r\n     */\r\n    var invertObject = function (obj) {\r\n      var inverted = {};\r\n      for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          inverted[obj[key]] = key;\r\n        }\r\n      }\r\n      return inverted;\r\n    };\r\n\r\n    /**\r\n     * @param {String} namespace\r\n     * @param {String} [prefix]\r\n     * @return {String}\r\n     */\r\n    var namespaceToCamel = function (namespace, prefix) {\r\n      prefix = prefix || '';\r\n      return prefix + namespace.split('.').map(function (name) {\r\n        return name.substring(0, 1).toUpperCase() + name.substring(1);\r\n      }).join('');\r\n    };\r\n\r\n    /**\r\n     * Returns a function, that, as long as it continues to be invoked, will not\r\n     * be triggered. The function will be called after it stops being called for\r\n     * N milliseconds. If `immediate` is passed, trigger the function on the\r\n     * leading edge, instead of the trailing.\r\n     * @param {Function} func\r\n     * @param {Number} wait\r\n     * @param {Boolean} immediate\r\n     * @return {Function}\r\n     */\r\n    var debounce = function (func, wait, immediate) {\r\n      var timeout;\r\n      return function () {\r\n        var context = this, args = arguments;\r\n        var later = function () {\r\n          timeout = null;\r\n          if (!immediate) {\r\n            func.apply(context, args);\r\n          }\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) {\r\n          func.apply(context, args);\r\n        }\r\n      };\r\n    };\r\n\r\n    return {\r\n      eq: eq,\r\n      eq2: eq2,\r\n      peq2: peq2,\r\n      ok: ok,\r\n      fail: fail,\r\n      self: self,\r\n      not: not,\r\n      and: and,\r\n      invoke: invoke,\r\n      uniqueId: uniqueId,\r\n      rect2bnd: rect2bnd,\r\n      invertObject: invertObject,\r\n      namespaceToCamel: namespaceToCamel,\r\n      debounce: debounce\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @class core.list\r\n   *\r\n   * list utils\r\n   *\r\n   * @singleton\r\n   * @alternateClassName list\r\n   */\r\n  var list = (function () {\r\n    /**\r\n     * returns the first item of an array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var head = function (array) {\r\n      return array[0];\r\n    };\r\n\r\n    /**\r\n     * returns the last item of an array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var last = function (array) {\r\n      return array[array.length - 1];\r\n    };\r\n\r\n    /**\r\n     * returns everything but the last entry of the array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var initial = function (array) {\r\n      return array.slice(0, array.length - 1);\r\n    };\r\n\r\n    /**\r\n     * returns the rest of the items in an array.\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var tail = function (array) {\r\n      return array.slice(1);\r\n    };\r\n\r\n    /**\r\n     * returns item of array\r\n     */\r\n    var find = function (array, pred) {\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        var item = array[idx];\r\n        if (pred(item)) {\r\n          return item;\r\n        }\r\n      }\r\n    };\r\n\r\n    /**\r\n     * returns true if all of the values in the array pass the predicate truth test.\r\n     */\r\n    var all = function (array, pred) {\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        if (!pred(array[idx])) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n\r\n    /**\r\n     * returns index of item\r\n     */\r\n    var indexOf = function (array, item) {\r\n      return $.inArray(item, array);\r\n    };\r\n\r\n    /**\r\n     * returns true if the value is present in the list.\r\n     */\r\n    var contains = function (array, item) {\r\n      return indexOf(array, item) !== -1;\r\n    };\r\n\r\n    /**\r\n     * get sum from a list\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - iterator\r\n     */\r\n    var sum = function (array, fn) {\r\n      fn = fn || func.self;\r\n      return array.reduce(function (memo, v) {\r\n        return memo + fn(v);\r\n      }, 0);\r\n    };\r\n  \r\n    /**\r\n     * returns a copy of the collection with array type.\r\n     * @param {Collection} collection - collection eg) node.childNodes, ...\r\n     */\r\n    var from = function (collection) {\r\n      var result = [], idx = -1, length = collection.length;\r\n      while (++idx < length) {\r\n        result[idx] = collection[idx];\r\n      }\r\n      return result;\r\n    };\r\n\r\n    /**\r\n     * returns whether list is empty or not\r\n     */\r\n    var isEmpty = function (array) {\r\n      return !array || !array.length;\r\n    };\r\n  \r\n    /**\r\n     * cluster elements by predicate function.\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - predicate function for cluster rule\r\n     * @param {Array[]}\r\n     */\r\n    var clusterBy = function (array, fn) {\r\n      if (!array.length) { return []; }\r\n      var aTail = tail(array);\r\n      return aTail.reduce(function (memo, v) {\r\n        var aLast = last(memo);\r\n        if (fn(last(aLast), v)) {\r\n          aLast[aLast.length] = v;\r\n        } else {\r\n          memo[memo.length] = [v];\r\n        }\r\n        return memo;\r\n      }, [[head(array)]]);\r\n    };\r\n  \r\n    /**\r\n     * returns a copy of the array with all false values removed\r\n     *\r\n     * @param {Array} array - array\r\n     * @param {Function} fn - predicate function for cluster rule\r\n     */\r\n    var compact = function (array) {\r\n      var aResult = [];\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        if (array[idx]) { aResult.push(array[idx]); }\r\n      }\r\n      return aResult;\r\n    };\r\n\r\n    /**\r\n     * produces a duplicate-free version of the array\r\n     *\r\n     * @param {Array} array\r\n     */\r\n    var unique = function (array) {\r\n      var results = [];\r\n\r\n      for (var idx = 0, len = array.length; idx < len; idx ++) {\r\n        if (!contains(results, array[idx])) {\r\n          results.push(array[idx]);\r\n        }\r\n      }\r\n\r\n      return results;\r\n    };\r\n\r\n    /**\r\n     * returns next item.\r\n     * @param {Array} array\r\n     */\r\n    var next = function (array, item) {\r\n      var idx = indexOf(array, item);\r\n      if (idx === -1) { return null; }\r\n\r\n      return array[idx + 1];\r\n    };\r\n\r\n    /**\r\n     * returns prev item.\r\n     * @param {Array} array\r\n     */\r\n    var prev = function (array, item) {\r\n      var idx = indexOf(array, item);\r\n      if (idx === -1) { return null; }\r\n\r\n      return array[idx - 1];\r\n    };\r\n\r\n    return { head: head, last: last, initial: initial, tail: tail,\r\n             prev: prev, next: next, find: find, contains: contains,\r\n             all: all, sum: sum, from: from, isEmpty: isEmpty,\r\n             clusterBy: clusterBy, compact: compact, unique: unique };\r\n  })();\r\n\r\n  var isSupportAmd = typeof define === 'function' && define.amd;\r\n\r\n  /**\r\n   * returns whether font is installed or not.\r\n   *\r\n   * @param {String} fontName\r\n   * @return {Boolean}\r\n   */\r\n  var isFontInstalled = function (fontName) {\r\n    var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\r\n    var $tester = $('<div>').css({\r\n      position: 'absolute',\r\n      left: '-9999px',\r\n      top: '-9999px',\r\n      fontSize: '200px'\r\n    }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\r\n\r\n    var originalWidth = $tester.css('fontFamily', testFontName).width();\r\n    var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\r\n\r\n    $tester.remove();\r\n\r\n    return originalWidth !== width;\r\n  };\r\n\r\n  var userAgent = navigator.userAgent;\r\n  var isMSIE = /MSIE|Trident/i.test(userAgent);\r\n  var browserVersion;\r\n  if (isMSIE) {\r\n    var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\r\n    if (matches) {\r\n      browserVersion = parseFloat(matches[1]);\r\n    }\r\n    matches = /Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/.exec(userAgent);\r\n    if (matches) {\r\n      browserVersion = parseFloat(matches[1]);\r\n    }\r\n  }\r\n\r\n  var isEdge = /Edge\\/\\d+/.test(userAgent);\r\n\r\n  var hasCodeMirror = !!window.CodeMirror;\r\n  if (!hasCodeMirror && isSupportAmd && typeof require !== 'undefined') {\r\n    if (typeof require.resolve !== 'undefined') {\r\n      try {\r\n        // If CodeMirror can't be resolved, `require.resolve` will throw an\r\n        // exception and `hasCodeMirror` won't be set to `true`.\r\n        require.resolve('codemirror');\r\n        hasCodeMirror = true;\r\n      } catch (e) {\r\n        // Do nothing.\r\n      }\r\n    } else if (typeof eval('require').specified !== 'undefined') {\r\n      hasCodeMirror = eval('require').specified('codemirror');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @class core.agent\r\n   *\r\n   * Object which check platform and agent\r\n   *\r\n   * @singleton\r\n   * @alternateClassName agent\r\n   */\r\n  var agent = {\r\n    isMac: navigator.appVersion.indexOf('Mac') > -1,\r\n    isMSIE: isMSIE,\r\n    isEdge: isEdge,\r\n    isFF: !isEdge && /firefox/i.test(userAgent),\r\n    isPhantom: /PhantomJS/i.test(userAgent),\r\n    isWebkit: !isEdge && /webkit/i.test(userAgent),\r\n    isChrome: !isEdge && /chrome/i.test(userAgent),\r\n    isSafari: !isEdge && /safari/i.test(userAgent),\r\n    browserVersion: browserVersion,\r\n    jqueryVersion: parseFloat($.fn.jquery),\r\n    isSupportAmd: isSupportAmd,\r\n    hasCodeMirror: hasCodeMirror,\r\n    isFontInstalled: isFontInstalled,\r\n    isW3CRangeSupport: !!document.createRange\r\n  };\r\n\r\n\r\n  var NBSP_CHAR = String.fromCharCode(160);\r\n  var ZERO_WIDTH_NBSP_CHAR = '\\ufeff';\r\n\r\n  /**\r\n   * @class core.dom\r\n   *\r\n   * Dom functions\r\n   *\r\n   * @singleton\r\n   * @alternateClassName dom\r\n   */\r\n  var dom = (function () {\r\n    /**\r\n     * @method isEditable\r\n     *\r\n     * returns whether node is `note-editable` or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\r\n    var isEditable = function (node) {\r\n      return node && $(node).hasClass('note-editable');\r\n    };\r\n\r\n    /**\r\n     * @method isControlSizing\r\n     *\r\n     * returns whether node is `note-control-sizing` or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\r\n    var isControlSizing = function (node) {\r\n      return node && $(node).hasClass('note-control-sizing');\r\n    };\r\n\r\n    /**\r\n     * @method makePredByNodeName\r\n     *\r\n     * returns predicate which judge whether nodeName is same\r\n     *\r\n     * @param {String} nodeName\r\n     * @return {Function}\r\n     */\r\n    var makePredByNodeName = function (nodeName) {\r\n      nodeName = nodeName.toUpperCase();\r\n      return function (node) {\r\n        return node && node.nodeName.toUpperCase() === nodeName;\r\n      };\r\n    };\r\n\r\n    /**\r\n     * @method isText\r\n     *\r\n     *\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean} true if node's type is text(3)\r\n     */\r\n    var isText = function (node) {\r\n      return node && node.nodeType === 3;\r\n    };\r\n\r\n    /**\r\n     * @method isElement\r\n     *\r\n     *\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean} true if node's type is element(1)\r\n     */\r\n    var isElement = function (node) {\r\n      return node && node.nodeType === 1;\r\n    };\r\n\r\n    /**\r\n     * ex) br, col, embed, hr, img, input, ...\r\n     * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\r\n     */\r\n    var isVoid = function (node) {\r\n      return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isPara = function (node) {\r\n      if (isEditable(node)) {\r\n        return false;\r\n      }\r\n\r\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\r\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isHeading = function (node) {\r\n      return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isPre = makePredByNodeName('PRE');\r\n\r\n    var isLi = makePredByNodeName('LI');\r\n\r\n    var isPurePara = function (node) {\r\n      return isPara(node) && !isLi(node);\r\n    };\r\n\r\n    var isTable = makePredByNodeName('TABLE');\r\n\r\n    var isData = makePredByNodeName('DATA');\r\n\r\n    var isInline = function (node) {\r\n      return !isBodyContainer(node) &&\r\n             !isList(node) &&\r\n             !isHr(node) &&\r\n             !isPara(node) &&\r\n             !isTable(node) &&\r\n             !isBlockquote(node) &&\r\n             !isData(node);\r\n    };\r\n\r\n    var isList = function (node) {\r\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isHr = makePredByNodeName('HR');\r\n\r\n    var isCell = function (node) {\r\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\r\n    };\r\n\r\n    var isBlockquote = makePredByNodeName('BLOCKQUOTE');\r\n\r\n    var isBodyContainer = function (node) {\r\n      return isCell(node) || isBlockquote(node) || isEditable(node);\r\n    };\r\n\r\n    var isAnchor = makePredByNodeName('A');\r\n\r\n    var isParaInline = function (node) {\r\n      return isInline(node) && !!ancestor(node, isPara);\r\n    };\r\n\r\n    var isBodyInline = function (node) {\r\n      return isInline(node) && !ancestor(node, isPara);\r\n    };\r\n\r\n    var isBody = makePredByNodeName('BODY');\r\n\r\n    /**\r\n     * returns whether nodeB is closest sibling of nodeA\r\n     *\r\n     * @param {Node} nodeA\r\n     * @param {Node} nodeB\r\n     * @return {Boolean}\r\n     */\r\n    var isClosestSibling = function (nodeA, nodeB) {\r\n      return nodeA.nextSibling === nodeB ||\r\n             nodeA.previousSibling === nodeB;\r\n    };\r\n\r\n    /**\r\n     * returns array of closest siblings with node\r\n     *\r\n     * @param {Node} node\r\n     * @param {function} [pred] - predicate function\r\n     * @return {Node[]}\r\n     */\r\n    var withClosestSiblings = function (node, pred) {\r\n      pred = pred || func.ok;\r\n\r\n      var siblings = [];\r\n      if (node.previousSibling && pred(node.previousSibling)) {\r\n        siblings.push(node.previousSibling);\r\n      }\r\n      siblings.push(node);\r\n      if (node.nextSibling && pred(node.nextSibling)) {\r\n        siblings.push(node.nextSibling);\r\n      }\r\n      return siblings;\r\n    };\r\n\r\n    /**\r\n     * blank HTML for cursor position\r\n     * - [workaround] old IE only works with &nbsp;\r\n     * - [workaround] IE11 and other browser works with bogus br\r\n     */\r\n    var blankHTML = agent.isMSIE && agent.browserVersion < 11 ? '&nbsp;' : '<br>';\r\n\r\n    /**\r\n     * @method nodeLength\r\n     *\r\n     * returns #text's text size or element's childNodes size\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    var nodeLength = function (node) {\r\n      if (isText(node)) {\r\n        return node.nodeValue.length;\r\n      }\r\n      \r\n      if (node) {\r\n        return node.childNodes.length;\r\n      }\r\n      \r\n      return 0;\r\n      \r\n    };\r\n\r\n    /**\r\n     * returns whether node is empty or not.\r\n     *\r\n     * @param {Node} node\r\n     * @return {Boolean}\r\n     */\r\n    var isEmpty = function (node) {\r\n      var len = nodeLength(node);\r\n\r\n      if (len === 0) {\r\n        return true;\r\n      } else if (!isText(node) && len === 1 && node.innerHTML === blankHTML) {\r\n        // ex) <p><br></p>, <span><br></span>\r\n        return true;\r\n      } else if (list.all(node.childNodes, isText) && node.innerHTML === '') {\r\n        // ex) <p></p>, <span></span>\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    /**\r\n     * padding blankHTML if node is empty (for cursor position)\r\n     */\r\n    var paddingBlankHTML = function (node) {\r\n      if (!isVoid(node) && !nodeLength(node)) {\r\n        node.innerHTML = blankHTML;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * find nearest ancestor predicate hit\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred - predicate function\r\n     */\r\n    var ancestor = function (node, pred) {\r\n      while (node) {\r\n        if (pred(node)) { return node; }\r\n        if (isEditable(node)) { break; }\r\n\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * find nearest ancestor only single child blood line and predicate hit\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred - predicate function\r\n     */\r\n    var singleChildAncestor = function (node, pred) {\r\n      node = node.parentNode;\r\n\r\n      while (node) {\r\n        if (nodeLength(node) !== 1) { break; }\r\n        if (pred(node)) { return node; }\r\n        if (isEditable(node)) { break; }\r\n\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * returns new array of ancestor nodes (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [optional] pred - predicate function\r\n     */\r\n    var listAncestor = function (node, pred) {\r\n      pred = pred || func.fail;\r\n\r\n      var ancestors = [];\r\n      ancestor(node, function (el) {\r\n        if (!isEditable(el)) {\r\n          ancestors.push(el);\r\n        }\r\n\r\n        return pred(el);\r\n      });\r\n      return ancestors;\r\n    };\r\n\r\n    /**\r\n     * find farthest ancestor predicate hit\r\n     */\r\n    var lastAncestor = function (node, pred) {\r\n      var ancestors = listAncestor(node);\r\n      return list.last(ancestors.filter(pred));\r\n    };\r\n\r\n    /**\r\n     * returns common ancestor node between two nodes.\r\n     *\r\n     * @param {Node} nodeA\r\n     * @param {Node} nodeB\r\n     */\r\n    var commonAncestor = function (nodeA, nodeB) {\r\n      var ancestors = listAncestor(nodeA);\r\n      for (var n = nodeB; n; n = n.parentNode) {\r\n        if ($.inArray(n, ancestors) > -1) { return n; }\r\n      }\r\n      return null; // difference document area\r\n    };\r\n\r\n    /**\r\n     * listing all previous siblings (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [optional] pred - predicate function\r\n     */\r\n    var listPrev = function (node, pred) {\r\n      pred = pred || func.fail;\r\n\r\n      var nodes = [];\r\n      while (node) {\r\n        if (pred(node)) { break; }\r\n        nodes.push(node);\r\n        node = node.previousSibling;\r\n      }\r\n      return nodes;\r\n    };\r\n\r\n    /**\r\n     * listing next siblings (until predicate hit).\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [pred] - predicate function\r\n     */\r\n    var listNext = function (node, pred) {\r\n      pred = pred || func.fail;\r\n\r\n      var nodes = [];\r\n      while (node) {\r\n        if (pred(node)) { break; }\r\n        nodes.push(node);\r\n        node = node.nextSibling;\r\n      }\r\n      return nodes;\r\n    };\r\n\r\n    /**\r\n     * listing descendant nodes\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} [pred] - predicate function\r\n     */\r\n    var listDescendant = function (node, pred) {\r\n      var descendants = [];\r\n      pred = pred || func.ok;\r\n\r\n      // start DFS(depth first search) with node\r\n      (function fnWalk(current) {\r\n        if (node !== current && pred(current)) {\r\n          descendants.push(current);\r\n        }\r\n        for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\r\n          fnWalk(current.childNodes[idx]);\r\n        }\r\n      })(node);\r\n\r\n      return descendants;\r\n    };\r\n\r\n    /**\r\n     * wrap node with new tag.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} tagName of wrapper\r\n     * @return {Node} - wrapper\r\n     */\r\n    var wrap = function (node, wrapperName) {\r\n      var parent = node.parentNode;\r\n      var wrapper = $('<' + wrapperName + '>')[0];\r\n\r\n      parent.insertBefore(wrapper, node);\r\n      wrapper.appendChild(node);\r\n\r\n      return wrapper;\r\n    };\r\n\r\n    /**\r\n     * insert node after preceding\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} preceding - predicate function\r\n     */\r\n    var insertAfter = function (node, preceding) {\r\n      var next = preceding.nextSibling, parent = preceding.parentNode;\r\n      if (next) {\r\n        parent.insertBefore(node, next);\r\n      } else {\r\n        parent.appendChild(node);\r\n      }\r\n      return node;\r\n    };\r\n\r\n    /**\r\n     * append elements.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Collection} aChild\r\n     */\r\n    var appendChildNodes = function (node, aChild) {\r\n      $.each(aChild, function (idx, child) {\r\n        node.appendChild(child);\r\n      });\r\n      return node;\r\n    };\r\n\r\n    /**\r\n     * returns whether boundaryPoint is left edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isLeftEdgePoint = function (point) {\r\n      return point.offset === 0;\r\n    };\r\n\r\n    /**\r\n     * returns whether boundaryPoint is right edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isRightEdgePoint = function (point) {\r\n      return point.offset === nodeLength(point.node);\r\n    };\r\n\r\n    /**\r\n     * returns whether boundaryPoint is edge or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isEdgePoint = function (point) {\r\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\r\n    };\r\n\r\n    /**\r\n     * returns whether node is left edge of ancestor or not.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isLeftEdgeOf = function (node, ancestor) {\r\n      while (node && node !== ancestor) {\r\n        if (position(node) !== 0) {\r\n          return false;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n\r\n      return true;\r\n    };\r\n\r\n    /**\r\n     * returns whether node is right edge of ancestor or not.\r\n     *\r\n     * @param {Node} node\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isRightEdgeOf = function (node, ancestor) {\r\n      if (!ancestor) {\r\n        return false;\r\n      }\r\n      while (node && node !== ancestor) {\r\n        if (position(node) !== nodeLength(node.parentNode) - 1) {\r\n          return false;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n\r\n      return true;\r\n    };\r\n\r\n    /**\r\n     * returns whether point is left edge of ancestor or not.\r\n     * @param {BoundaryPoint} point\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isLeftEdgePointOf = function (point, ancestor) {\r\n      return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\r\n    };\r\n\r\n    /**\r\n     * returns whether point is right edge of ancestor or not.\r\n     * @param {BoundaryPoint} point\r\n     * @param {Node} ancestor\r\n     * @return {Boolean}\r\n     */\r\n    var isRightEdgePointOf = function (point, ancestor) {\r\n      return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\r\n    };\r\n\r\n    /**\r\n     * returns offset from parent.\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    var position = function (node) {\r\n      var offset = 0;\r\n      while ((node = node.previousSibling)) {\r\n        offset += 1;\r\n      }\r\n      return offset;\r\n    };\r\n\r\n    var hasChildren = function (node) {\r\n      return !!(node && node.childNodes && node.childNodes.length);\r\n    };\r\n\r\n    /**\r\n     * returns previous boundaryPoint\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Boolean} isSkipInnerOffset\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var prevPoint = function (point, isSkipInnerOffset) {\r\n      var node, offset;\r\n\r\n      if (point.offset === 0) {\r\n        if (isEditable(point.node)) {\r\n          return null;\r\n        }\r\n\r\n        node = point.node.parentNode;\r\n        offset = position(point.node);\r\n      } else if (hasChildren(point.node)) {\r\n        node = point.node.childNodes[point.offset - 1];\r\n        offset = nodeLength(node);\r\n      } else {\r\n        node = point.node;\r\n        offset = isSkipInnerOffset ? 0 : point.offset - 1;\r\n      }\r\n\r\n      return {\r\n        node: node,\r\n        offset: offset\r\n      };\r\n    };\r\n\r\n    /**\r\n     * returns next boundaryPoint\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Boolean} isSkipInnerOffset\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var nextPoint = function (point, isSkipInnerOffset) {\r\n      var node, offset;\r\n\r\n      if (nodeLength(point.node) === point.offset) {\r\n        if (isEditable(point.node)) {\r\n          return null;\r\n        }\r\n\r\n        node = point.node.parentNode;\r\n        offset = position(point.node) + 1;\r\n      } else if (hasChildren(point.node)) {\r\n        node = point.node.childNodes[point.offset];\r\n        offset = 0;\r\n      } else {\r\n        node = point.node;\r\n        offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\r\n      }\r\n\r\n      return {\r\n        node: node,\r\n        offset: offset\r\n      };\r\n    };\r\n\r\n    /**\r\n     * returns whether pointA and pointB is same or not.\r\n     *\r\n     * @param {BoundaryPoint} pointA\r\n     * @param {BoundaryPoint} pointB\r\n     * @return {Boolean}\r\n     */\r\n    var isSamePoint = function (pointA, pointB) {\r\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\r\n    };\r\n\r\n    /**\r\n     * returns whether point is visible (can set cursor) or not.\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @return {Boolean}\r\n     */\r\n    var isVisiblePoint = function (point) {\r\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty(point.node)) {\r\n        return true;\r\n      }\r\n\r\n      var leftNode = point.node.childNodes[point.offset - 1];\r\n      var rightNode = point.node.childNodes[point.offset];\r\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    /**\r\n     * @method prevPointUtil\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Function} pred\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var prevPointUntil = function (point, pred) {\r\n      while (point) {\r\n        if (pred(point)) {\r\n          return point;\r\n        }\r\n\r\n        point = prevPoint(point);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * @method nextPointUntil\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Function} pred\r\n     * @return {BoundaryPoint}\r\n     */\r\n    var nextPointUntil = function (point, pred) {\r\n      while (point) {\r\n        if (pred(point)) {\r\n          return point;\r\n        }\r\n\r\n        point = nextPoint(point);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n    /**\r\n     * returns whether point has character or not.\r\n     *\r\n     * @param {Point} point\r\n     * @return {Boolean}\r\n     */\r\n    var isCharPoint = function (point) {\r\n      if (!isText(point.node)) {\r\n        return false;\r\n      }\r\n\r\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\r\n      return ch && (ch !== ' ' && ch !== NBSP_CHAR);\r\n    };\r\n\r\n    /**\r\n     * @method walkPoint\r\n     *\r\n     * @param {BoundaryPoint} startPoint\r\n     * @param {BoundaryPoint} endPoint\r\n     * @param {Function} handler\r\n     * @param {Boolean} isSkipInnerOffset\r\n     */\r\n    var walkPoint = function (startPoint, endPoint, handler, isSkipInnerOffset) {\r\n      var point = startPoint;\r\n\r\n      while (point) {\r\n        handler(point);\r\n\r\n        if (isSamePoint(point, endPoint)) {\r\n          break;\r\n        }\r\n\r\n        var isSkipOffset = isSkipInnerOffset &&\r\n                           startPoint.node !== point.node &&\r\n                           endPoint.node !== point.node;\r\n        point = nextPoint(point, isSkipOffset);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method makeOffsetPath\r\n     *\r\n     * return offsetPath(array of offset) from ancestor\r\n     *\r\n     * @param {Node} ancestor - ancestor node\r\n     * @param {Node} node\r\n     */\r\n    var makeOffsetPath = function (ancestor, node) {\r\n      var ancestors = listAncestor(node, func.eq(ancestor));\r\n      return ancestors.map(position).reverse();\r\n    };\r\n\r\n    /**\r\n     * @method fromOffsetPath\r\n     *\r\n     * return element from offsetPath(array of offset)\r\n     *\r\n     * @param {Node} ancestor - ancestor node\r\n     * @param {array} offsets - offsetPath\r\n     */\r\n    var fromOffsetPath = function (ancestor, offsets) {\r\n      var current = ancestor;\r\n      for (var i = 0, len = offsets.length; i < len; i++) {\r\n        if (current.childNodes.length <= offsets[i]) {\r\n          current = current.childNodes[current.childNodes.length - 1];\r\n        } else {\r\n          current = current.childNodes[offsets[i]];\r\n        }\r\n      }\r\n      return current;\r\n    };\r\n\r\n    /**\r\n     * @method splitNode\r\n     *\r\n     * split element or #text\r\n     *\r\n     * @param {BoundaryPoint} point\r\n     * @param {Object} [options]\r\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\r\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\r\n     * @return {Node} right node of boundaryPoint\r\n     */\r\n    var splitNode = function (point, options) {\r\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\r\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\r\n\r\n      // edge case\r\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\r\n        if (isLeftEdgePoint(point)) {\r\n          return point.node;\r\n        } else if (isRightEdgePoint(point)) {\r\n          return point.node.nextSibling;\r\n        }\r\n      }\r\n\r\n      // split #text\r\n      if (isText(point.node)) {\r\n        return point.node.splitText(point.offset);\r\n      } else {\r\n        var childNode = point.node.childNodes[point.offset];\r\n        var clone = insertAfter(point.node.cloneNode(false), point.node);\r\n        appendChildNodes(clone, listNext(childNode));\r\n\r\n        if (!isSkipPaddingBlankHTML) {\r\n          paddingBlankHTML(point.node);\r\n          paddingBlankHTML(clone);\r\n        }\r\n\r\n        return clone;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method splitTree\r\n     *\r\n     * split tree by point\r\n     *\r\n     * @param {Node} root - split root\r\n     * @param {BoundaryPoint} point\r\n     * @param {Object} [options]\r\n     * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\r\n     * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\r\n     * @return {Node} right node of boundaryPoint\r\n     */\r\n    var splitTree = function (root, point, options) {\r\n      // ex) [#text, <span>, <p>]\r\n      var ancestors = listAncestor(point.node, func.eq(root));\r\n\r\n      if (!ancestors.length) {\r\n        return null;\r\n      } else if (ancestors.length === 1) {\r\n        return splitNode(point, options);\r\n      }\r\n\r\n      return ancestors.reduce(function (node, parent) {\r\n        if (node === point.node) {\r\n          node = splitNode(point, options);\r\n        }\r\n\r\n        return splitNode({\r\n          node: parent,\r\n          offset: node ? dom.position(node) : nodeLength(parent)\r\n        }, options);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * split point\r\n     *\r\n     * @param {Point} point\r\n     * @param {Boolean} isInline\r\n     * @return {Object}\r\n     */\r\n    var splitPoint = function (point, isInline) {\r\n      // find splitRoot, container\r\n      //  - inline: splitRoot is a child of paragraph\r\n      //  - block: splitRoot is a child of bodyContainer\r\n      var pred = isInline ? isPara : isBodyContainer;\r\n      var ancestors = listAncestor(point.node, pred);\r\n      var topAncestor = list.last(ancestors) || point.node;\r\n\r\n      var splitRoot, container;\r\n      if (pred(topAncestor)) {\r\n        splitRoot = ancestors[ancestors.length - 2];\r\n        container = topAncestor;\r\n      } else {\r\n        splitRoot = topAncestor;\r\n        container = splitRoot.parentNode;\r\n      }\r\n\r\n      // if splitRoot is exists, split with splitTree\r\n      var pivot = splitRoot && splitTree(splitRoot, point, {\r\n        isSkipPaddingBlankHTML: isInline,\r\n        isNotSplitEdgePoint: isInline\r\n      });\r\n\r\n      // if container is point.node, find pivot with point.offset\r\n      if (!pivot && container === point.node) {\r\n        pivot = point.node.childNodes[point.offset];\r\n      }\r\n\r\n      return {\r\n        rightNode: pivot,\r\n        container: container\r\n      };\r\n    };\r\n\r\n    var create = function (nodeName) {\r\n      return document.createElement(nodeName);\r\n    };\r\n\r\n    var createText = function (text) {\r\n      return document.createTextNode(text);\r\n    };\r\n\r\n    /**\r\n     * @method remove\r\n     *\r\n     * remove node, (isRemoveChild: remove child or not)\r\n     *\r\n     * @param {Node} node\r\n     * @param {Boolean} isRemoveChild\r\n     */\r\n    var remove = function (node, isRemoveChild) {\r\n      if (!node || !node.parentNode) { return; }\r\n      if (node.removeNode) { return node.removeNode(isRemoveChild); }\r\n\r\n      var parent = node.parentNode;\r\n      if (!isRemoveChild) {\r\n        var nodes = [];\r\n        var i, len;\r\n        for (i = 0, len = node.childNodes.length; i < len; i++) {\r\n          nodes.push(node.childNodes[i]);\r\n        }\r\n\r\n        for (i = 0, len = nodes.length; i < len; i++) {\r\n          parent.insertBefore(nodes[i], node);\r\n        }\r\n      }\r\n\r\n      parent.removeChild(node);\r\n    };\r\n\r\n    /**\r\n     * @method removeWhile\r\n     *\r\n     * @param {Node} node\r\n     * @param {Function} pred\r\n     */\r\n    var removeWhile = function (node, pred) {\r\n      while (node) {\r\n        if (isEditable(node) || !pred(node)) {\r\n          break;\r\n        }\r\n\r\n        var parent = node.parentNode;\r\n        remove(node);\r\n        node = parent;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @method replace\r\n     *\r\n     * replace node with provided nodeName\r\n     *\r\n     * @param {Node} node\r\n     * @param {String} nodeName\r\n     * @return {Node} - new node\r\n     */\r\n    var replace = function (node, nodeName) {\r\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\r\n        return node;\r\n      }\r\n\r\n      var newNode = create(nodeName);\r\n\r\n      if (node.style.cssText) {\r\n        newNode.style.cssText = node.style.cssText;\r\n      }\r\n\r\n      appendChildNodes(newNode, list.from(node.childNodes));\r\n      insertAfter(newNode, node);\r\n      remove(node);\r\n\r\n      return newNode;\r\n    };\r\n\r\n    var isTextarea = makePredByNodeName('TEXTAREA');\r\n\r\n    /**\r\n     * @param {jQuery} $node\r\n     * @param {Boolean} [stripLinebreaks] - default: false\r\n     */\r\n    var value = function ($node, stripLinebreaks) {\r\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\r\n      if (stripLinebreaks) {\r\n        return val.replace(/[\\n\\r]/g, '');\r\n      }\r\n      return val;\r\n    };\r\n\r\n    /**\r\n     * @method html\r\n     *\r\n     * get the HTML contents of node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @param {Boolean} [isNewlineOnBlock]\r\n     */\r\n    var html = function ($node, isNewlineOnBlock) {\r\n      var markup = value($node);\r\n\r\n      if (isNewlineOnBlock) {\r\n        var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\r\n        markup = markup.replace(regexTag, function (match, endSlash, name) {\r\n          name = name.toUpperCase();\r\n          var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\r\n                                       !!endSlash;\r\n          var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\r\n\r\n          return match + ((isEndOfInlineContainer || isBlockNode) ? '\\n' : '');\r\n        });\r\n        markup = $.trim(markup);\r\n      }\r\n\r\n      return markup;\r\n    };\r\n\r\n    var posFromPlaceholder = function (placeholder) {\r\n      var $placeholder = $(placeholder);\r\n      var pos = $placeholder.offset();\r\n      var height = $placeholder.outerHeight(true); // include margin\r\n\r\n      return {\r\n        left: pos.left,\r\n        top: pos.top + height\r\n      };\r\n    };\r\n\r\n    var attachEvents = function ($node, events) {\r\n      Object.keys(events).forEach(function (key) {\r\n        $node.on(key, events[key]);\r\n      });\r\n    };\r\n\r\n    var detachEvents = function ($node, events) {\r\n      Object.keys(events).forEach(function (key) {\r\n        $node.off(key, events[key]);\r\n      });\r\n    };\r\n\r\n    return {\r\n      /** @property {String} NBSP_CHAR */\r\n      NBSP_CHAR: NBSP_CHAR,\r\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\r\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\r\n      /** @property {String} blank */\r\n      blank: blankHTML,\r\n      /** @property {String} emptyPara */\r\n      emptyPara: '<p>' + blankHTML + '</p>',\r\n      makePredByNodeName: makePredByNodeName,\r\n      isEditable: isEditable,\r\n      isControlSizing: isControlSizing,\r\n      isText: isText,\r\n      isElement: isElement,\r\n      isVoid: isVoid,\r\n      isPara: isPara,\r\n      isPurePara: isPurePara,\r\n      isHeading: isHeading,\r\n      isInline: isInline,\r\n      isBlock: func.not(isInline),\r\n      isBodyInline: isBodyInline,\r\n      isBody: isBody,\r\n      isParaInline: isParaInline,\r\n      isPre: isPre,\r\n      isList: isList,\r\n      isTable: isTable,\r\n      isData: isData,\r\n      isCell: isCell,\r\n      isBlockquote: isBlockquote,\r\n      isBodyContainer: isBodyContainer,\r\n      isAnchor: isAnchor,\r\n      isDiv: makePredByNodeName('DIV'),\r\n      isLi: isLi,\r\n      isBR: makePredByNodeName('BR'),\r\n      isSpan: makePredByNodeName('SPAN'),\r\n      isB: makePredByNodeName('B'),\r\n      isU: makePredByNodeName('U'),\r\n      isS: makePredByNodeName('S'),\r\n      isI: makePredByNodeName('I'),\r\n      isImg: makePredByNodeName('IMG'),\r\n      isTextarea: isTextarea,\r\n      isEmpty: isEmpty,\r\n      isEmptyAnchor: func.and(isAnchor, isEmpty),\r\n      isClosestSibling: isClosestSibling,\r\n      withClosestSiblings: withClosestSiblings,\r\n      nodeLength: nodeLength,\r\n      isLeftEdgePoint: isLeftEdgePoint,\r\n      isRightEdgePoint: isRightEdgePoint,\r\n      isEdgePoint: isEdgePoint,\r\n      isLeftEdgeOf: isLeftEdgeOf,\r\n      isRightEdgeOf: isRightEdgeOf,\r\n      isLeftEdgePointOf: isLeftEdgePointOf,\r\n      isRightEdgePointOf: isRightEdgePointOf,\r\n      prevPoint: prevPoint,\r\n      nextPoint: nextPoint,\r\n      isSamePoint: isSamePoint,\r\n      isVisiblePoint: isVisiblePoint,\r\n      prevPointUntil: prevPointUntil,\r\n      nextPointUntil: nextPointUntil,\r\n      isCharPoint: isCharPoint,\r\n      walkPoint: walkPoint,\r\n      ancestor: ancestor,\r\n      singleChildAncestor: singleChildAncestor,\r\n      listAncestor: listAncestor,\r\n      lastAncestor: lastAncestor,\r\n      listNext: listNext,\r\n      listPrev: listPrev,\r\n      listDescendant: listDescendant,\r\n      commonAncestor: commonAncestor,\r\n      wrap: wrap,\r\n      insertAfter: insertAfter,\r\n      appendChildNodes: appendChildNodes,\r\n      position: position,\r\n      hasChildren: hasChildren,\r\n      makeOffsetPath: makeOffsetPath,\r\n      fromOffsetPath: fromOffsetPath,\r\n      splitTree: splitTree,\r\n      splitPoint: splitPoint,\r\n      create: create,\r\n      createText: createText,\r\n      remove: remove,\r\n      removeWhile: removeWhile,\r\n      replace: replace,\r\n      html: html,\r\n      value: value,\r\n      posFromPlaceholder: posFromPlaceholder,\r\n      attachEvents: attachEvents,\r\n      detachEvents: detachEvents\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @param {jQuery} $note\r\n   * @param {Object} options\r\n   * @return {Context}\r\n   */\r\n  var Context = function ($note, options) {\r\n    var self = this;\r\n\r\n    var ui = $.summernote.ui;\r\n    this.memos = {};\r\n    this.modules = {};\r\n    this.layoutInfo = {};\r\n    this.options = options;\r\n\r\n    /**\r\n     * create layout and initialize modules and other resources\r\n     */\r\n    this.initialize = function () {\r\n      this.layoutInfo = ui.createLayout($note, options);\r\n      this._initialize();\r\n      $note.hide();\r\n      return this;\r\n    };\r\n\r\n    /**\r\n     * destroy modules and other resources and remove layout\r\n     */\r\n    this.destroy = function () {\r\n      this._destroy();\r\n      $note.removeData('summernote');\r\n      ui.removeLayout($note, this.layoutInfo);\r\n    };\r\n\r\n    /**\r\n     * destory modules and other resources and initialize it again\r\n     */\r\n    this.reset = function () {\r\n      var disabled = self.isDisabled();\r\n      this.code(dom.emptyPara);\r\n      this._destroy();\r\n      this._initialize();\r\n\r\n      if (disabled) {\r\n        self.disable();\r\n      }\r\n    };\r\n\r\n    this._initialize = function () {\r\n      // add optional buttons\r\n      var buttons = $.extend({}, this.options.buttons);\r\n      Object.keys(buttons).forEach(function (key) {\r\n        self.memo('button.' + key, buttons[key]);\r\n      });\r\n\r\n      var modules = $.extend({}, this.options.modules, $.summernote.plugins || {});\r\n\r\n      // add and initialize modules\r\n      Object.keys(modules).forEach(function (key) {\r\n        self.module(key, modules[key], true);\r\n      });\r\n\r\n      Object.keys(this.modules).forEach(function (key) {\r\n        self.initializeModule(key);\r\n      });\r\n    };\r\n\r\n    this._destroy = function () {\r\n      // destroy modules with reversed order\r\n      Object.keys(this.modules).reverse().forEach(function (key) {\r\n        self.removeModule(key);\r\n      });\r\n\r\n      Object.keys(this.memos).forEach(function (key) {\r\n        self.removeMemo(key);\r\n      });\r\n    };\r\n\r\n    this.code = function (html) {\r\n      var isActivated = this.invoke('codeview.isActivated');\r\n\r\n      if (html === undefined) {\r\n        this.invoke('codeview.sync');\r\n        return isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\r\n      } else {\r\n        if (isActivated) {\r\n          this.layoutInfo.codable.val(html);\r\n        } else {\r\n          this.layoutInfo.editable.html(html);\r\n        }\r\n        $note.val(html);\r\n        this.triggerEvent('change', html);\r\n      }\r\n    };\r\n\r\n    this.isDisabled = function () {\r\n      return this.layoutInfo.editable.attr('contenteditable') === 'false';\r\n    };\r\n\r\n    this.enable = function () {\r\n      this.layoutInfo.editable.attr('contenteditable', true);\r\n      this.invoke('toolbar.activate', true);\r\n    };\r\n\r\n    this.disable = function () {\r\n      // close codeview if codeview is opend\r\n      if (this.invoke('codeview.isActivated')) {\r\n        this.invoke('codeview.deactivate');\r\n      }\r\n      this.layoutInfo.editable.attr('contenteditable', false);\r\n      this.invoke('toolbar.deactivate', true);\r\n    };\r\n\r\n    this.triggerEvent = function () {\r\n      var namespace = list.head(arguments);\r\n      var args = list.tail(list.from(arguments));\r\n\r\n      var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\r\n      if (callback) {\r\n        callback.apply($note[0], args);\r\n      }\r\n      $note.trigger('summernote.' + namespace, args);\r\n    };\r\n\r\n    this.initializeModule = function (key) {\r\n      var module = this.modules[key];\r\n      module.shouldInitialize = module.shouldInitialize || func.ok;\r\n      if (!module.shouldInitialize()) {\r\n        return;\r\n      }\r\n\r\n      // initialize module\r\n      if (module.initialize) {\r\n        module.initialize();\r\n      }\r\n\r\n      // attach events\r\n      if (module.events) {\r\n        dom.attachEvents($note, module.events);\r\n      }\r\n    };\r\n\r\n    this.module = function (key, ModuleClass, withoutIntialize) {\r\n      if (arguments.length === 1) {\r\n        return this.modules[key];\r\n      }\r\n\r\n      this.modules[key] = new ModuleClass(this);\r\n\r\n      if (!withoutIntialize) {\r\n        this.initializeModule(key);\r\n      }\r\n    };\r\n\r\n    this.removeModule = function (key) {\r\n      var module = this.modules[key];\r\n      if (module.shouldInitialize()) {\r\n        if (module.events) {\r\n          dom.detachEvents($note, module.events);\r\n        }\r\n\r\n        if (module.destroy) {\r\n          module.destroy();\r\n        }\r\n      }\r\n\r\n      delete this.modules[key];\r\n    };\r\n\r\n    this.memo = function (key, obj) {\r\n      if (arguments.length === 1) {\r\n        return this.memos[key];\r\n      }\r\n      this.memos[key] = obj;\r\n    };\r\n\r\n    this.removeMemo = function (key) {\r\n      if (this.memos[key] && this.memos[key].destroy) {\r\n        this.memos[key].destroy();\r\n      }\r\n\r\n      delete this.memos[key];\r\n    };\r\n\r\n    this.createInvokeHandler = function (namespace, value) {\r\n      return function (event) {\r\n        event.preventDefault();\r\n        self.invoke(namespace, value || $(event.target).closest('[data-value]').data('value'));\r\n      };\r\n    };\r\n\r\n    this.invoke = function () {\r\n      var namespace = list.head(arguments);\r\n      var args = list.tail(list.from(arguments));\r\n\r\n      var splits = namespace.split('.');\r\n      var hasSeparator = splits.length > 1;\r\n      var moduleName = hasSeparator && list.head(splits);\r\n      var methodName = hasSeparator ? list.last(splits) : list.head(splits);\r\n\r\n      var module = this.modules[moduleName || 'editor'];\r\n      if (!moduleName && this[methodName]) {\r\n        return this[methodName].apply(this, args);\r\n      } else if (module && module[methodName] && module.shouldInitialize()) {\r\n        return module[methodName].apply(module, args);\r\n      }\r\n    };\r\n\r\n    return this.initialize();\r\n  };\r\n\r\n  $.fn.extend({\r\n    /**\r\n     * Summernote API\r\n     *\r\n     * @param {Object|String}\r\n     * @return {this}\r\n     */\r\n    summernote: function () {\r\n      var type = $.type(list.head(arguments));\r\n      var isExternalAPICalled = type === 'string';\r\n      var hasInitOptions = type === 'object';\r\n\r\n      var options = hasInitOptions ? list.head(arguments) : {};\r\n\r\n      options = $.extend({}, $.summernote.options, options);\r\n      options.langInfo = $.extend(true, {}, $.summernote.lang['en-US'], $.summernote.lang[options.lang]);\r\n      options.icons = $.extend(true, {}, $.summernote.options.icons, options.icons);\r\n\r\n      this.each(function (idx, note) {\r\n        var $note = $(note);\r\n        if (!$note.data('summernote')) {\r\n          var context = new Context($note, options);\r\n          $note.data('summernote', context);\r\n          $note.data('summernote').triggerEvent('init', context.layoutInfo);\r\n        }\r\n      });\r\n\r\n      var $note = this.first();\r\n      if ($note.length) {\r\n        var context = $note.data('summernote');\r\n        if (isExternalAPICalled) {\r\n          return context.invoke.apply(context, list.from(arguments));\r\n        } else if (options.focus) {\r\n          context.invoke('editor.focus');\r\n        }\r\n      }\r\n\r\n      return this;\r\n    }\r\n  });\r\n\r\n\r\n  var Renderer = function (markup, children, options, callback) {\r\n    this.render = function ($parent) {\r\n      var $node = $(markup);\r\n\r\n      if (options && options.contents) {\r\n        $node.html(options.contents);\r\n      }\r\n\r\n      if (options && options.className) {\r\n        $node.addClass(options.className);\r\n      }\r\n\r\n      if (options && options.data) {\r\n        $.each(options.data, function (k, v) {\r\n          $node.attr('data-' + k, v);\r\n        });\r\n      }\r\n\r\n      if (options && options.click) {\r\n        $node.on('click', options.click);\r\n      }\r\n\r\n      if (children) {\r\n        var $container = $node.find('.note-children-container');\r\n        children.forEach(function (child) {\r\n          child.render($container.length ? $container : $node);\r\n        });\r\n      }\r\n\r\n      if (callback) {\r\n        callback($node, options);\r\n      }\r\n\r\n      if (options && options.callback) {\r\n        options.callback($node);\r\n      }\r\n\r\n      if ($parent) {\r\n        $parent.append($node);\r\n      }\r\n\r\n      return $node;\r\n    };\r\n  };\r\n\r\n  var renderer = {\r\n    create: function (markup, callback) {\r\n      return function () {\r\n        var children = $.isArray(arguments[0]) ? arguments[0] : [];\r\n        var options = typeof arguments[1] === 'object' ? arguments[1] : arguments[0];\r\n        if (options && options.children) {\r\n          children = options.children;\r\n        }\r\n        return new Renderer(markup, children, options, callback);\r\n      };\r\n    }\r\n  };\r\n\r\n  var editor = renderer.create('<div class=\"note-editor note-frame panel panel-default\"/>');\r\n  var toolbar = renderer.create('<div class=\"note-toolbar panel-heading\"/>');\r\n  var editingArea = renderer.create('<div class=\"note-editing-area\"/>');\r\n  var codable = renderer.create('<textarea class=\"note-codable\"/>');\r\n  var editable = renderer.create('<div class=\"note-editable panel-body\" contentEditable=\"true\"/>');\r\n  var statusbar = renderer.create([\r\n    '<div class=\"note-statusbar\">',\r\n    '  <div class=\"note-resizebar\">',\r\n    '    <div class=\"note-icon-bar\"/>',\r\n    '    <div class=\"note-icon-bar\"/>',\r\n    '    <div class=\"note-icon-bar\"/>',\r\n    '  </div>',\r\n    '</div>'\r\n  ].join(''));\r\n\r\n  var airEditor = renderer.create('<div class=\"note-editor\"/>');\r\n  var airEditable = renderer.create('<div class=\"note-editable\" contentEditable=\"true\"/>');\r\n\r\n  var buttonGroup = renderer.create('<div class=\"note-btn-group btn-group\">');\r\n  var button = renderer.create('<button type=\"button\" class=\"note-btn btn btn-default btn-sm\" tabindex=\"-1\">', function ($node, options) {\r\n    if (options && options.tooltip) {\r\n      $node.attr({\r\n        title: options.tooltip\r\n      }).tooltip({\r\n        container: 'body',\r\n        trigger: 'hover',\r\n        placement: 'bottom'\r\n      });\r\n    }\r\n  });\r\n\r\n  var dropdown = renderer.create('<div class=\"dropdown-menu\">', function ($node, options) {\r\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\r\n      var value = (typeof item === 'string') ? item : (item.value || '');\r\n      var content = options.template ? options.template(item) : item;\r\n      return '<li><a href=\"#\" data-value=\"' + value + '\">' + content + '</a></li>';\r\n    }).join('') : options.items;\r\n\r\n    $node.html(markup);\r\n  });\r\n\r\n  var dropdownCheck = renderer.create('<div class=\"dropdown-menu note-check\">', function ($node, options) {\r\n    var markup = $.isArray(options.items) ? options.items.map(function (item) {\r\n      var value = (typeof item === 'string') ? item : (item.value || '');\r\n      var content = options.template ? options.template(item) : item;\r\n      return '<li><a href=\"#\" data-value=\"' + value + '\">' + icon(options.checkClassName) + ' ' + content + '</a></li>';\r\n    }).join('') : options.items;\r\n    $node.html(markup);\r\n  });\r\n\r\n  var palette = renderer.create('<div class=\"note-color-palette\"/>', function ($node, options) {\r\n    var contents = [];\r\n    for (var row = 0, rowSize = options.colors.length; row < rowSize; row++) {\r\n      var eventName = options.eventName;\r\n      var colors = options.colors[row];\r\n      var buttons = [];\r\n      for (var col = 0, colSize = colors.length; col < colSize; col++) {\r\n        var color = colors[col];\r\n        buttons.push([\r\n          '<button type=\"button\" class=\"note-color-btn\"',\r\n          'style=\"background-color:', color, '\" ',\r\n          'data-event=\"', eventName, '\" ',\r\n          'data-value=\"', color, '\" ',\r\n          'title=\"', color, '\" ',\r\n          'data-toggle=\"button\" tabindex=\"-1\"></button>'\r\n        ].join(''));\r\n      }\r\n      contents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\r\n    }\r\n    $node.html(contents.join(''));\r\n\r\n    $node.find('.note-color-btn').tooltip({\r\n      container: 'body',\r\n      trigger: 'hover',\r\n      placement: 'bottom'\r\n    });\r\n  });\r\n\r\n  var dialog = renderer.create('<div class=\"modal\" aria-hidden=\"false\" tabindex=\"-1\"/>', function ($node, options) {\r\n    if (options.fade) {\r\n      $node.addClass('fade');\r\n    }\r\n    $node.html([\r\n      '<div class=\"modal-dialog\">',\r\n      '  <div class=\"modal-content\">',\r\n      (options.title ?\r\n      '    <div class=\"modal-header\">' +\r\n      '      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\r\n      '      <h4 class=\"modal-title\">' + options.title + '</h4>' +\r\n      '    </div>' : ''\r\n      ),\r\n      '    <div class=\"modal-body\">' + options.body + '</div>',\r\n      (options.footer ?\r\n      '    <div class=\"modal-footer\">' + options.footer + '</div>' : ''\r\n      ),\r\n      '  </div>',\r\n      '</div>'\r\n    ].join(''));\r\n  });\r\n\r\n  var popover = renderer.create([\r\n    '<div class=\"note-popover popover in\">',\r\n    '  <div class=\"arrow\"/>',\r\n    '  <div class=\"popover-content note-children-container\"/>',\r\n    '</div>'\r\n  ].join(''), function ($node, options) {\r\n    var direction = typeof options.direction !== 'undefined' ? options.direction : 'bottom';\r\n\r\n    $node.addClass(direction);\r\n\r\n    if (options.hideArrow) {\r\n      $node.find('.arrow').hide();\r\n    }\r\n  });\r\n\r\n  var icon = function (iconClassName, tagName) {\r\n    tagName = tagName || 'i';\r\n    return '<' + tagName + ' class=\"' + iconClassName + '\"/>';\r\n  };\r\n\r\n  var ui = {\r\n    editor: editor,\r\n    toolbar: toolbar,\r\n    editingArea: editingArea,\r\n    codable: codable,\r\n    editable: editable,\r\n    statusbar: statusbar,\r\n    airEditor: airEditor,\r\n    airEditable: airEditable,\r\n    buttonGroup: buttonGroup,\r\n    button: button,\r\n    dropdown: dropdown,\r\n    dropdownCheck: dropdownCheck,\r\n    palette: palette,\r\n    dialog: dialog,\r\n    popover: popover,\r\n    icon: icon,\r\n\r\n    toggleBtn: function ($btn, isEnable) {\r\n      $btn.toggleClass('disabled', !isEnable);\r\n      $btn.attr('disabled', !isEnable);\r\n    },\r\n\r\n    toggleBtnActive: function ($btn, isActive) {\r\n      $btn.toggleClass('active', isActive);\r\n    },\r\n\r\n    onDialogShown: function ($dialog, handler) {\r\n      $dialog.one('shown.bs.modal', handler);\r\n    },\r\n\r\n    onDialogHidden: function ($dialog, handler) {\r\n      $dialog.one('hidden.bs.modal', handler);\r\n    },\r\n\r\n    showDialog: function ($dialog) {\r\n      $dialog.modal('show');\r\n    },\r\n\r\n    hideDialog: function ($dialog) {\r\n      $dialog.modal('hide');\r\n    },\r\n\r\n    createLayout: function ($note, options) {\r\n      var $editor = (options.airMode ? ui.airEditor([\r\n        ui.editingArea([\r\n          ui.airEditable()\r\n        ])\r\n      ]) : ui.editor([\r\n        ui.toolbar(),\r\n        ui.editingArea([\r\n          ui.codable(),\r\n          ui.editable()\r\n        ]),\r\n        ui.statusbar()\r\n      ])).render();\r\n\r\n      $editor.insertAfter($note);\r\n\r\n      return {\r\n        note: $note,\r\n        editor: $editor,\r\n        toolbar: $editor.find('.note-toolbar'),\r\n        editingArea: $editor.find('.note-editing-area'),\r\n        editable: $editor.find('.note-editable'),\r\n        codable: $editor.find('.note-codable'),\r\n        statusbar: $editor.find('.note-statusbar')\r\n      };\r\n    },\r\n\r\n    removeLayout: function ($note, layoutInfo) {\r\n      $note.html(layoutInfo.editable.html());\r\n      layoutInfo.editor.remove();\r\n      $note.show();\r\n    }\r\n  };\r\n\r\n  $.summernote = $.summernote || {\r\n    lang: {}\r\n  };\r\n\r\n  $.extend($.summernote.lang, {\r\n    'en-US': {\r\n      font: {\r\n        bold: 'Bold',\r\n        italic: 'Italic',\r\n        underline: 'Underline',\r\n        clear: 'Remove Font Style',\r\n        height: 'Line Height',\r\n        name: 'Font Family',\r\n        strikethrough: 'Strikethrough',\r\n        subscript: 'Subscript',\r\n        superscript: 'Superscript',\r\n        size: 'Font Size'\r\n      },\r\n      image: {\r\n        image: 'Picture',\r\n        insert: 'Insert Image',\r\n        resizeFull: 'Resize Full',\r\n        resizeHalf: 'Resize Half',\r\n        resizeQuarter: 'Resize Quarter',\r\n        floatLeft: 'Float Left',\r\n        floatRight: 'Float Right',\r\n        floatNone: 'Float None',\r\n        shapeRounded: 'Shape: Rounded',\r\n        shapeCircle: 'Shape: Circle',\r\n        shapeThumbnail: 'Shape: Thumbnail',\r\n        shapeNone: 'Shape: None',\r\n        dragImageHere: 'Drag image or text here',\r\n        dropImage: 'Drop image or Text',\r\n        selectFromFiles: 'Select from files',\r\n        maximumFileSize: 'Maximum file size',\r\n        maximumFileSizeError: 'Maximum file size exceeded.',\r\n        url: 'Image URL',\r\n        remove: 'Remove Image'\r\n      },\r\n      video: {\r\n        video: 'Video',\r\n        videoLink: 'Video Link',\r\n        insert: 'Insert Video',\r\n        url: 'Video URL?',\r\n        providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\r\n      },\r\n      link: {\r\n        link: 'Link',\r\n        insert: 'Insert Link',\r\n        unlink: 'Unlink',\r\n        edit: 'Edit',\r\n        textToDisplay: 'Text to display',\r\n        url: 'To what URL should this link go?',\r\n        openInNewWindow: 'Open in new window'\r\n      },\r\n      table: {\r\n        table: 'Table'\r\n      },\r\n      hr: {\r\n        insert: 'Insert Horizontal Rule'\r\n      },\r\n      style: {\r\n        style: 'Style',\r\n        normal: 'Normal',\r\n        blockquote: 'Quote',\r\n        pre: 'Code',\r\n        h1: 'Header 1',\r\n        h2: 'Header 2',\r\n        h3: 'Header 3',\r\n        h4: 'Header 4',\r\n        h5: 'Header 5',\r\n        h6: 'Header 6'\r\n      },\r\n      lists: {\r\n        unordered: 'Unordered list',\r\n        ordered: 'Ordered list'\r\n      },\r\n      options: {\r\n        help: 'Help',\r\n        fullscreen: 'Full Screen',\r\n        codeview: 'Code View'\r\n      },\r\n      paragraph: {\r\n        paragraph: 'Paragraph',\r\n        outdent: 'Outdent',\r\n        indent: 'Indent',\r\n        left: 'Align left',\r\n        center: 'Align center',\r\n        right: 'Align right',\r\n        justify: 'Justify full'\r\n      },\r\n      color: {\r\n        recent: 'Recent Color',\r\n        more: 'More Color',\r\n        background: 'Background Color',\r\n        foreground: 'Foreground Color',\r\n        transparent: 'Transparent',\r\n        setTransparent: 'Set transparent',\r\n        reset: 'Reset',\r\n        resetToDefault: 'Reset to default'\r\n      },\r\n      shortcut: {\r\n        shortcuts: 'Keyboard shortcuts',\r\n        close: 'Close',\r\n        textFormatting: 'Text formatting',\r\n        action: 'Action',\r\n        paragraphFormatting: 'Paragraph formatting',\r\n        documentStyle: 'Document Style',\r\n        extraKeys: 'Extra keys'\r\n      },\r\n      help: {\r\n        'insertParagraph': 'Insert Paragraph',\r\n        'undo': 'Undoes the last command',\r\n        'redo': 'Redoes the last command',\r\n        'tab': 'Tab',\r\n        'untab': 'Untab',\r\n        'bold': 'Set a bold style',\r\n        'italic': 'Set a italic style',\r\n        'underline': 'Set a underline style',\r\n        'strikethrough': 'Set a strikethrough style',\r\n        'removeFormat': 'Clean a style',\r\n        'justifyLeft': 'Set left align',\r\n        'justifyCenter': 'Set center align',\r\n        'justifyRight': 'Set right align',\r\n        'justifyFull': 'Set full align',\r\n        'insertUnorderedList': 'Toggle unordered list',\r\n        'insertOrderedList': 'Toggle ordered list',\r\n        'outdent': 'Outdent on current paragraph',\r\n        'indent': 'Indent on current paragraph',\r\n        'formatPara': 'Change current block\\'s format as a paragraph(P tag)',\r\n        'formatH1': 'Change current block\\'s format as H1',\r\n        'formatH2': 'Change current block\\'s format as H2',\r\n        'formatH3': 'Change current block\\'s format as H3',\r\n        'formatH4': 'Change current block\\'s format as H4',\r\n        'formatH5': 'Change current block\\'s format as H5',\r\n        'formatH6': 'Change current block\\'s format as H6',\r\n        'insertHorizontalRule': 'Insert horizontal rule',\r\n        'linkDialog.show': 'Show Link Dialog'\r\n      },\r\n      history: {\r\n        undo: 'Undo',\r\n        redo: 'Redo'\r\n      },\r\n      specialChar: {\r\n        specialChar: 'SPECIAL CHARACTERS',\r\n        select: 'Select Special characters'\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n  /**\r\n   * @class core.key\r\n   *\r\n   * Object for keycodes.\r\n   *\r\n   * @singleton\r\n   * @alternateClassName key\r\n   */\r\n  var key = (function () {\r\n    var keyMap = {\r\n      'BACKSPACE': 8,\r\n      'TAB': 9,\r\n      'ENTER': 13,\r\n      'SPACE': 32,\r\n\r\n      // Arrow\r\n      'LEFT': 37,\r\n      'UP': 38,\r\n      'RIGHT': 39,\r\n      'DOWN': 40,\r\n\r\n      // Number: 0-9\r\n      'NUM0': 48,\r\n      'NUM1': 49,\r\n      'NUM2': 50,\r\n      'NUM3': 51,\r\n      'NUM4': 52,\r\n      'NUM5': 53,\r\n      'NUM6': 54,\r\n      'NUM7': 55,\r\n      'NUM8': 56,\r\n\r\n      // Alphabet: a-z\r\n      'B': 66,\r\n      'E': 69,\r\n      'I': 73,\r\n      'J': 74,\r\n      'K': 75,\r\n      'L': 76,\r\n      'R': 82,\r\n      'S': 83,\r\n      'U': 85,\r\n      'V': 86,\r\n      'Y': 89,\r\n      'Z': 90,\r\n\r\n      'SLASH': 191,\r\n      'LEFTBRACKET': 219,\r\n      'BACKSLASH': 220,\r\n      'RIGHTBRACKET': 221\r\n    };\r\n\r\n    return {\r\n      /**\r\n       * @method isEdit\r\n       *\r\n       * @param {Number} keyCode\r\n       * @return {Boolean}\r\n       */\r\n      isEdit: function (keyCode) {\r\n        return list.contains([\r\n          keyMap.BACKSPACE,\r\n          keyMap.TAB,\r\n          keyMap.ENTER,\r\n          keyMap.SPACE\r\n        ], keyCode);\r\n      },\r\n      /**\r\n       * @method isMove\r\n       *\r\n       * @param {Number} keyCode\r\n       * @return {Boolean}\r\n       */\r\n      isMove: function (keyCode) {\r\n        return list.contains([\r\n          keyMap.LEFT,\r\n          keyMap.UP,\r\n          keyMap.RIGHT,\r\n          keyMap.DOWN\r\n        ], keyCode);\r\n      },\r\n      /**\r\n       * @property {Object} nameFromCode\r\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\r\n       */\r\n      nameFromCode: func.invertObject(keyMap),\r\n      code: keyMap\r\n    };\r\n  })();\r\n\r\n  var range = (function () {\r\n\r\n    /**\r\n     * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\r\n     *\r\n     * @param {TextRange} textRange\r\n     * @param {Boolean} isStart\r\n     * @return {BoundaryPoint}\r\n     *\r\n     * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\r\n     */\r\n    var textRangeToPoint = function (textRange, isStart) {\r\n      var container = textRange.parentElement(), offset;\r\n  \r\n      var tester = document.body.createTextRange(), prevContainer;\r\n      var childNodes = list.from(container.childNodes);\r\n      for (offset = 0; offset < childNodes.length; offset++) {\r\n        if (dom.isText(childNodes[offset])) {\r\n          continue;\r\n        }\r\n        tester.moveToElementText(childNodes[offset]);\r\n        if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\r\n          break;\r\n        }\r\n        prevContainer = childNodes[offset];\r\n      }\r\n  \r\n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\r\n        var textRangeStart = document.body.createTextRange(), curTextNode = null;\r\n        textRangeStart.moveToElementText(prevContainer || container);\r\n        textRangeStart.collapse(!prevContainer);\r\n        curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\r\n  \r\n        var pointTester = textRange.duplicate();\r\n        pointTester.setEndPoint('StartToStart', textRangeStart);\r\n        var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\r\n  \r\n        while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\r\n          textCount -= curTextNode.nodeValue.length;\r\n          curTextNode = curTextNode.nextSibling;\r\n        }\r\n  \r\n        /* jshint ignore:start */\r\n        var dummy = curTextNode.nodeValue; // enforce IE to re-reference curTextNode, hack\r\n        /* jshint ignore:end */\r\n  \r\n        if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) &&\r\n            textCount === curTextNode.nodeValue.length) {\r\n          textCount -= curTextNode.nodeValue.length;\r\n          curTextNode = curTextNode.nextSibling;\r\n        }\r\n  \r\n        container = curTextNode;\r\n        offset = textCount;\r\n      }\r\n  \r\n      return {\r\n        cont: container,\r\n        offset: offset\r\n      };\r\n    };\r\n    \r\n    /**\r\n     * return TextRange from boundary point (inspired by google closure-library)\r\n     * @param {BoundaryPoint} point\r\n     * @return {TextRange}\r\n     */\r\n    var pointToTextRange = function (point) {\r\n      var textRangeInfo = function (container, offset) {\r\n        var node, isCollapseToStart;\r\n  \r\n        if (dom.isText(container)) {\r\n          var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\r\n          var prevContainer = list.last(prevTextNodes).previousSibling;\r\n          node =  prevContainer || container.parentNode;\r\n          offset += list.sum(list.tail(prevTextNodes), dom.nodeLength);\r\n          isCollapseToStart = !prevContainer;\r\n        } else {\r\n          node = container.childNodes[offset] || container;\r\n          if (dom.isText(node)) {\r\n            return textRangeInfo(node, 0);\r\n          }\r\n  \r\n          offset = 0;\r\n          isCollapseToStart = false;\r\n        }\r\n  \r\n        return {\r\n          node: node,\r\n          collapseToStart: isCollapseToStart,\r\n          offset: offset\r\n        };\r\n      };\r\n  \r\n      var textRange = document.body.createTextRange();\r\n      var info = textRangeInfo(point.node, point.offset);\r\n  \r\n      textRange.moveToElementText(info.node);\r\n      textRange.collapse(info.collapseToStart);\r\n      textRange.moveStart('character', info.offset);\r\n      return textRange;\r\n    };\r\n    \r\n    /**\r\n     * Wrapped Range\r\n     *\r\n     * @constructor\r\n     * @param {Node} sc - start container\r\n     * @param {Number} so - start offset\r\n     * @param {Node} ec - end container\r\n     * @param {Number} eo - end offset\r\n     */\r\n    var WrappedRange = function (sc, so, ec, eo) {\r\n      this.sc = sc;\r\n      this.so = so;\r\n      this.ec = ec;\r\n      this.eo = eo;\r\n  \r\n      // nativeRange: get nativeRange from sc, so, ec, eo\r\n      var nativeRange = function () {\r\n        if (agent.isW3CRangeSupport) {\r\n          var w3cRange = document.createRange();\r\n          w3cRange.setStart(sc, so);\r\n          w3cRange.setEnd(ec, eo);\r\n\r\n          return w3cRange;\r\n        } else {\r\n          var textRange = pointToTextRange({\r\n            node: sc,\r\n            offset: so\r\n          });\r\n\r\n          textRange.setEndPoint('EndToEnd', pointToTextRange({\r\n            node: ec,\r\n            offset: eo\r\n          }));\r\n\r\n          return textRange;\r\n        }\r\n      };\r\n\r\n      this.getPoints = function () {\r\n        return {\r\n          sc: sc,\r\n          so: so,\r\n          ec: ec,\r\n          eo: eo\r\n        };\r\n      };\r\n\r\n      this.getStartPoint = function () {\r\n        return {\r\n          node: sc,\r\n          offset: so\r\n        };\r\n      };\r\n\r\n      this.getEndPoint = function () {\r\n        return {\r\n          node: ec,\r\n          offset: eo\r\n        };\r\n      };\r\n\r\n      /**\r\n       * select update visible range\r\n       */\r\n      this.select = function () {\r\n        var nativeRng = nativeRange();\r\n        if (agent.isW3CRangeSupport) {\r\n          var selection = document.getSelection();\r\n          if (selection.rangeCount > 0) {\r\n            selection.removeAllRanges();\r\n          }\r\n          selection.addRange(nativeRng);\r\n        } else {\r\n          nativeRng.select();\r\n        }\r\n        \r\n        return this;\r\n      };\r\n\r\n      /**\r\n       * Moves the scrollbar to start container(sc) of current range\r\n       *\r\n       * @return {WrappedRange}\r\n       */\r\n      this.scrollIntoView = function (container) {\r\n        var height = $(container).height();\r\n        if (container.scrollTop + height < this.sc.offsetTop) {\r\n          container.scrollTop += Math.abs(container.scrollTop + height - this.sc.offsetTop);\r\n        }\r\n\r\n        return this;\r\n      };\r\n\r\n      /**\r\n       * @return {WrappedRange}\r\n       */\r\n      this.normalize = function () {\r\n\r\n        /**\r\n         * @param {BoundaryPoint} point\r\n         * @param {Boolean} isLeftToRight\r\n         * @return {BoundaryPoint}\r\n         */\r\n        var getVisiblePoint = function (point, isLeftToRight) {\r\n          if ((dom.isVisiblePoint(point) && !dom.isEdgePoint(point)) ||\r\n              (dom.isVisiblePoint(point) && dom.isRightEdgePoint(point) && !isLeftToRight) ||\r\n              (dom.isVisiblePoint(point) && dom.isLeftEdgePoint(point) && isLeftToRight) ||\r\n              (dom.isVisiblePoint(point) && dom.isBlock(point.node) && dom.isEmpty(point.node))) {\r\n            return point;\r\n          }\r\n\r\n          // point on block's edge\r\n          var block = dom.ancestor(point.node, dom.isBlock);\r\n          if (((dom.isLeftEdgePointOf(point, block) || dom.isVoid(dom.prevPoint(point).node)) && !isLeftToRight) ||\r\n              ((dom.isRightEdgePointOf(point, block) || dom.isVoid(dom.nextPoint(point).node)) && isLeftToRight)) {\r\n\r\n            // returns point already on visible point\r\n            if (dom.isVisiblePoint(point)) {\r\n              return point;\r\n            }\r\n            // reverse direction \r\n            isLeftToRight = !isLeftToRight;\r\n          }\r\n\r\n          var nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint) :\r\n                                          dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\r\n          return nextPoint || point;\r\n        };\r\n\r\n        var endPoint = getVisiblePoint(this.getEndPoint(), false);\r\n        var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(), true);\r\n\r\n        return new WrappedRange(\r\n          startPoint.node,\r\n          startPoint.offset,\r\n          endPoint.node,\r\n          endPoint.offset\r\n        );\r\n      };\r\n\r\n      /**\r\n       * returns matched nodes on range\r\n       *\r\n       * @param {Function} [pred] - predicate function\r\n       * @param {Object} [options]\r\n       * @param {Boolean} [options.includeAncestor]\r\n       * @param {Boolean} [options.fullyContains]\r\n       * @return {Node[]}\r\n       */\r\n      this.nodes = function (pred, options) {\r\n        pred = pred || func.ok;\r\n\r\n        var includeAncestor = options && options.includeAncestor;\r\n        var fullyContains = options && options.fullyContains;\r\n\r\n        // TODO compare points and sort\r\n        var startPoint = this.getStartPoint();\r\n        var endPoint = this.getEndPoint();\r\n\r\n        var nodes = [];\r\n        var leftEdgeNodes = [];\r\n\r\n        dom.walkPoint(startPoint, endPoint, function (point) {\r\n          if (dom.isEditable(point.node)) {\r\n            return;\r\n          }\r\n\r\n          var node;\r\n          if (fullyContains) {\r\n            if (dom.isLeftEdgePoint(point)) {\r\n              leftEdgeNodes.push(point.node);\r\n            }\r\n            if (dom.isRightEdgePoint(point) && list.contains(leftEdgeNodes, point.node)) {\r\n              node = point.node;\r\n            }\r\n          } else if (includeAncestor) {\r\n            node = dom.ancestor(point.node, pred);\r\n          } else {\r\n            node = point.node;\r\n          }\r\n\r\n          if (node && pred(node)) {\r\n            nodes.push(node);\r\n          }\r\n        }, true);\r\n\r\n        return list.unique(nodes);\r\n      };\r\n\r\n      /**\r\n       * returns commonAncestor of range\r\n       * @return {Element} - commonAncestor\r\n       */\r\n      this.commonAncestor = function () {\r\n        return dom.commonAncestor(sc, ec);\r\n      };\r\n\r\n      /**\r\n       * returns expanded range by pred\r\n       *\r\n       * @param {Function} pred - predicate function\r\n       * @return {WrappedRange}\r\n       */\r\n      this.expand = function (pred) {\r\n        var startAncestor = dom.ancestor(sc, pred);\r\n        var endAncestor = dom.ancestor(ec, pred);\r\n\r\n        if (!startAncestor && !endAncestor) {\r\n          return new WrappedRange(sc, so, ec, eo);\r\n        }\r\n\r\n        var boundaryPoints = this.getPoints();\r\n\r\n        if (startAncestor) {\r\n          boundaryPoints.sc = startAncestor;\r\n          boundaryPoints.so = 0;\r\n        }\r\n\r\n        if (endAncestor) {\r\n          boundaryPoints.ec = endAncestor;\r\n          boundaryPoints.eo = dom.nodeLength(endAncestor);\r\n        }\r\n\r\n        return new WrappedRange(\r\n          boundaryPoints.sc,\r\n          boundaryPoints.so,\r\n          boundaryPoints.ec,\r\n          boundaryPoints.eo\r\n        );\r\n      };\r\n\r\n      /**\r\n       * @param {Boolean} isCollapseToStart\r\n       * @return {WrappedRange}\r\n       */\r\n      this.collapse = function (isCollapseToStart) {\r\n        if (isCollapseToStart) {\r\n          return new WrappedRange(sc, so, sc, so);\r\n        } else {\r\n          return new WrappedRange(ec, eo, ec, eo);\r\n        }\r\n      };\r\n\r\n      /**\r\n       * splitText on range\r\n       */\r\n      this.splitText = function () {\r\n        var isSameContainer = sc === ec;\r\n        var boundaryPoints = this.getPoints();\r\n\r\n        if (dom.isText(ec) && !dom.isEdgePoint(this.getEndPoint())) {\r\n          ec.splitText(eo);\r\n        }\r\n\r\n        if (dom.isText(sc) && !dom.isEdgePoint(this.getStartPoint())) {\r\n          boundaryPoints.sc = sc.splitText(so);\r\n          boundaryPoints.so = 0;\r\n\r\n          if (isSameContainer) {\r\n            boundaryPoints.ec = boundaryPoints.sc;\r\n            boundaryPoints.eo = eo - so;\r\n          }\r\n        }\r\n\r\n        return new WrappedRange(\r\n          boundaryPoints.sc,\r\n          boundaryPoints.so,\r\n          boundaryPoints.ec,\r\n          boundaryPoints.eo\r\n        );\r\n      };\r\n\r\n      /**\r\n       * delete contents on range\r\n       * @return {WrappedRange}\r\n       */\r\n      this.deleteContents = function () {\r\n        if (this.isCollapsed()) {\r\n          return this;\r\n        }\r\n\r\n        var rng = this.splitText();\r\n        var nodes = rng.nodes(null, {\r\n          fullyContains: true\r\n        });\r\n\r\n        // find new cursor point\r\n        var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\r\n          return !list.contains(nodes, point.node);\r\n        });\r\n\r\n        var emptyParents = [];\r\n        $.each(nodes, function (idx, node) {\r\n          // find empty parents\r\n          var parent = node.parentNode;\r\n          if (point.node !== parent && dom.nodeLength(parent) === 1) {\r\n            emptyParents.push(parent);\r\n          }\r\n          dom.remove(node, false);\r\n        });\r\n\r\n        // remove empty parents\r\n        $.each(emptyParents, function (idx, node) {\r\n          dom.remove(node, false);\r\n        });\r\n\r\n        return new WrappedRange(\r\n          point.node,\r\n          point.offset,\r\n          point.node,\r\n          point.offset\r\n        ).normalize();\r\n      };\r\n      \r\n      /**\r\n       * makeIsOn: return isOn(pred) function\r\n       */\r\n      var makeIsOn = function (pred) {\r\n        return function () {\r\n          var ancestor = dom.ancestor(sc, pred);\r\n          return !!ancestor && (ancestor === dom.ancestor(ec, pred));\r\n        };\r\n      };\r\n  \r\n      // isOnEditable: judge whether range is on editable or not\r\n      this.isOnEditable = makeIsOn(dom.isEditable);\r\n      // isOnList: judge whether range is on list node or not\r\n      this.isOnList = makeIsOn(dom.isList);\r\n      // isOnAnchor: judge whether range is on anchor node or not\r\n      this.isOnAnchor = makeIsOn(dom.isAnchor);\r\n      // isOnCell: judge whether range is on cell node or not\r\n      this.isOnCell = makeIsOn(dom.isCell);\r\n      // isOnData: judge whether range is on data node or not\r\n      this.isOnData = makeIsOn(dom.isData);\r\n\r\n      /**\r\n       * @param {Function} pred\r\n       * @return {Boolean}\r\n       */\r\n      this.isLeftEdgeOf = function (pred) {\r\n        if (!dom.isLeftEdgePoint(this.getStartPoint())) {\r\n          return false;\r\n        }\r\n\r\n        var node = dom.ancestor(this.sc, pred);\r\n        return node && dom.isLeftEdgeOf(this.sc, node);\r\n      };\r\n\r\n      /**\r\n       * returns whether range was collapsed or not\r\n       */\r\n      this.isCollapsed = function () {\r\n        return sc === ec && so === eo;\r\n      };\r\n\r\n      /**\r\n       * wrap inline nodes which children of body with paragraph\r\n       *\r\n       * @return {WrappedRange}\r\n       */\r\n      this.wrapBodyInlineWithPara = function () {\r\n        if (dom.isBodyContainer(sc) && dom.isEmpty(sc)) {\r\n          sc.innerHTML = dom.emptyPara;\r\n          return new WrappedRange(sc.firstChild, 0, sc.firstChild, 0);\r\n        }\r\n\r\n        /**\r\n         * [workaround] firefox often create range on not visible point. so normalize here.\r\n         *  - firefox: |<p>text</p>|\r\n         *  - chrome: <p>|text|</p>\r\n         */\r\n        var rng = this.normalize();\r\n        if (dom.isParaInline(sc) || dom.isPara(sc)) {\r\n          return rng;\r\n        }\r\n\r\n        // find inline top ancestor\r\n        var topAncestor;\r\n        if (dom.isInline(rng.sc)) {\r\n          var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\r\n          topAncestor = list.last(ancestors);\r\n          if (!dom.isInline(topAncestor)) {\r\n            topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\r\n          }\r\n        } else {\r\n          topAncestor = rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\r\n        }\r\n\r\n        // siblings not in paragraph\r\n        var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\r\n        inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\r\n\r\n        // wrap with paragraph\r\n        if (inlineSiblings.length) {\r\n          var para = dom.wrap(list.head(inlineSiblings), 'p');\r\n          dom.appendChildNodes(para, list.tail(inlineSiblings));\r\n        }\r\n\r\n        return this.normalize();\r\n      };\r\n\r\n      /**\r\n       * insert node at current cursor\r\n       *\r\n       * @param {Node} node\r\n       * @return {Node}\r\n       */\r\n      this.insertNode = function (node) {\r\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\r\n        var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\r\n\r\n        if (info.rightNode) {\r\n          info.rightNode.parentNode.insertBefore(node, info.rightNode);\r\n        } else {\r\n          info.container.appendChild(node);\r\n        }\r\n\r\n        return node;\r\n      };\r\n\r\n      /**\r\n       * insert html at current cursor\r\n       */\r\n      this.pasteHTML = function (markup) {\r\n        var contentsContainer = $('<div></div>').html(markup)[0];\r\n        var childNodes = list.from(contentsContainer.childNodes);\r\n\r\n        var rng = this.wrapBodyInlineWithPara().deleteContents();\r\n\r\n        return childNodes.reverse().map(function (childNode) {\r\n          return rng.insertNode(childNode);\r\n        }).reverse();\r\n      };\r\n  \r\n      /**\r\n       * returns text in range\r\n       *\r\n       * @return {String}\r\n       */\r\n      this.toString = function () {\r\n        var nativeRng = nativeRange();\r\n        return agent.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\r\n      };\r\n\r\n      /**\r\n       * returns range for word before cursor\r\n       *\r\n       * @param {Boolean} [findAfter] - find after cursor, default: false\r\n       * @return {WrappedRange}\r\n       */\r\n      this.getWordRange = function (findAfter) {\r\n        var endPoint = this.getEndPoint();\r\n\r\n        if (!dom.isCharPoint(endPoint)) {\r\n          return this;\r\n        }\r\n\r\n        var startPoint = dom.prevPointUntil(endPoint, function (point) {\r\n          return !dom.isCharPoint(point);\r\n        });\r\n\r\n        if (findAfter) {\r\n          endPoint = dom.nextPointUntil(endPoint, function (point) {\r\n            return !dom.isCharPoint(point);\r\n          });\r\n        }\r\n\r\n        return new WrappedRange(\r\n          startPoint.node,\r\n          startPoint.offset,\r\n          endPoint.node,\r\n          endPoint.offset\r\n        );\r\n      };\r\n  \r\n      /**\r\n       * create offsetPath bookmark\r\n       *\r\n       * @param {Node} editable\r\n       */\r\n      this.bookmark = function (editable) {\r\n        return {\r\n          s: {\r\n            path: dom.makeOffsetPath(editable, sc),\r\n            offset: so\r\n          },\r\n          e: {\r\n            path: dom.makeOffsetPath(editable, ec),\r\n            offset: eo\r\n          }\r\n        };\r\n      };\r\n\r\n      /**\r\n       * create offsetPath bookmark base on paragraph\r\n       *\r\n       * @param {Node[]} paras\r\n       */\r\n      this.paraBookmark = function (paras) {\r\n        return {\r\n          s: {\r\n            path: list.tail(dom.makeOffsetPath(list.head(paras), sc)),\r\n            offset: so\r\n          },\r\n          e: {\r\n            path: list.tail(dom.makeOffsetPath(list.last(paras), ec)),\r\n            offset: eo\r\n          }\r\n        };\r\n      };\r\n\r\n      /**\r\n       * getClientRects\r\n       * @return {Rect[]}\r\n       */\r\n      this.getClientRects = function () {\r\n        var nativeRng = nativeRange();\r\n        return nativeRng.getClientRects();\r\n      };\r\n    };\r\n\r\n  /**\r\n   * @class core.range\r\n   *\r\n   * Data structure\r\n   *  * BoundaryPoint: a point of dom tree\r\n   *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\r\n   *\r\n   * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\r\n   *\r\n   * @singleton\r\n   * @alternateClassName range\r\n   */\r\n    return {\r\n      /**\r\n       * create Range Object From arguments or Browser Selection\r\n       *\r\n       * @param {Node} sc - start container\r\n       * @param {Number} so - start offset\r\n       * @param {Node} ec - end container\r\n       * @param {Number} eo - end offset\r\n       * @return {WrappedRange}\r\n       */\r\n      create: function (sc, so, ec, eo) {\r\n        if (arguments.length === 4) {\r\n          return new WrappedRange(sc, so, ec, eo);\r\n        } else if (arguments.length === 2) { //collapsed\r\n          ec = sc;\r\n          eo = so;\r\n          return new WrappedRange(sc, so, ec, eo);\r\n        } else {\r\n          var wrappedRange = this.createFromSelection();\r\n          if (!wrappedRange && arguments.length === 1) {\r\n            wrappedRange = this.createFromNode(arguments[0]);\r\n            return wrappedRange.collapse(dom.emptyPara === arguments[0].innerHTML);\r\n          }\r\n          return wrappedRange;\r\n        }\r\n      },\r\n\r\n      createFromSelection: function () {\r\n        var sc, so, ec, eo;\r\n        if (agent.isW3CRangeSupport) {\r\n          var selection = document.getSelection();\r\n          if (!selection || selection.rangeCount === 0) {\r\n            return null;\r\n          } else if (dom.isBody(selection.anchorNode)) {\r\n            // Firefox: returns entire body as range on initialization.\r\n            // We won't never need it.\r\n            return null;\r\n          }\r\n\r\n          var nativeRng = selection.getRangeAt(0);\r\n          sc = nativeRng.startContainer;\r\n          so = nativeRng.startOffset;\r\n          ec = nativeRng.endContainer;\r\n          eo = nativeRng.endOffset;\r\n        } else { // IE8: TextRange\r\n          var textRange = document.selection.createRange();\r\n          var textRangeEnd = textRange.duplicate();\r\n          textRangeEnd.collapse(false);\r\n          var textRangeStart = textRange;\r\n          textRangeStart.collapse(true);\r\n\r\n          var startPoint = textRangeToPoint(textRangeStart, true),\r\n          endPoint = textRangeToPoint(textRangeEnd, false);\r\n\r\n          // same visible point case: range was collapsed.\r\n          if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) &&\r\n              dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) &&\r\n              endPoint.node.nextSibling === startPoint.node) {\r\n            startPoint = endPoint;\r\n          }\r\n\r\n          sc = startPoint.cont;\r\n          so = startPoint.offset;\r\n          ec = endPoint.cont;\r\n          eo = endPoint.offset;\r\n        }\r\n\r\n        return new WrappedRange(sc, so, ec, eo);\r\n      },\r\n\r\n      /**\r\n       * @method \r\n       * \r\n       * create WrappedRange from node\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromNode: function (node) {\r\n        var sc = node;\r\n        var so = 0;\r\n        var ec = node;\r\n        var eo = dom.nodeLength(ec);\r\n\r\n        // browsers can't target a picture or void node\r\n        if (dom.isVoid(sc)) {\r\n          so = dom.listPrev(sc).length - 1;\r\n          sc = sc.parentNode;\r\n        }\r\n        if (dom.isBR(ec)) {\r\n          eo = dom.listPrev(ec).length - 1;\r\n          ec = ec.parentNode;\r\n        } else if (dom.isVoid(ec)) {\r\n          eo = dom.listPrev(ec).length;\r\n          ec = ec.parentNode;\r\n        }\r\n\r\n        return this.create(sc, so, ec, eo);\r\n      },\r\n\r\n      /**\r\n       * create WrappedRange from node after position\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromNodeBefore: function (node) {\r\n        return this.createFromNode(node).collapse(true);\r\n      },\r\n\r\n      /**\r\n       * create WrappedRange from node after position\r\n       *\r\n       * @param {Node} node\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromNodeAfter: function (node) {\r\n        return this.createFromNode(node).collapse();\r\n      },\r\n\r\n      /**\r\n       * @method \r\n       * \r\n       * create WrappedRange from bookmark\r\n       *\r\n       * @param {Node} editable\r\n       * @param {Object} bookmark\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromBookmark: function (editable, bookmark) {\r\n        var sc = dom.fromOffsetPath(editable, bookmark.s.path);\r\n        var so = bookmark.s.offset;\r\n        var ec = dom.fromOffsetPath(editable, bookmark.e.path);\r\n        var eo = bookmark.e.offset;\r\n        return new WrappedRange(sc, so, ec, eo);\r\n      },\r\n\r\n      /**\r\n       * @method \r\n       *\r\n       * create WrappedRange from paraBookmark\r\n       *\r\n       * @param {Object} bookmark\r\n       * @param {Node[]} paras\r\n       * @return {WrappedRange}\r\n       */\r\n      createFromParaBookmark: function (bookmark, paras) {\r\n        var so = bookmark.s.offset;\r\n        var eo = bookmark.e.offset;\r\n        var sc = dom.fromOffsetPath(list.head(paras), bookmark.s.path);\r\n        var ec = dom.fromOffsetPath(list.last(paras), bookmark.e.path);\r\n\r\n        return new WrappedRange(sc, so, ec, eo);\r\n      }\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @class core.async\r\n   *\r\n   * Async functions which returns `Promise`\r\n   *\r\n   * @singleton\r\n   * @alternateClassName async\r\n   */\r\n  var async = (function () {\r\n    /**\r\n     * @method readFileAsDataURL\r\n     *\r\n     * read contents of file as representing URL\r\n     *\r\n     * @param {File} file\r\n     * @return {Promise} - then: dataUrl\r\n     */\r\n    var readFileAsDataURL = function (file) {\r\n      return $.Deferred(function (deferred) {\r\n        $.extend(new FileReader(), {\r\n          onload: function (e) {\r\n            var dataURL = e.target.result;\r\n            deferred.resolve(dataURL);\r\n          },\r\n          onerror: function () {\r\n            deferred.reject(this);\r\n          }\r\n        }).readAsDataURL(file);\r\n      }).promise();\r\n    };\r\n  \r\n    /**\r\n     * @method createImage\r\n     *\r\n     * create `<image>` from url string\r\n     *\r\n     * @param {String} url\r\n     * @return {Promise} - then: $image\r\n     */\r\n    var createImage = function (url) {\r\n      return $.Deferred(function (deferred) {\r\n        var $img = $('<img>');\r\n\r\n        $img.one('load', function () {\r\n          $img.off('error abort');\r\n          deferred.resolve($img);\r\n        }).one('error abort', function () {\r\n          $img.off('load').detach();\r\n          deferred.reject($img);\r\n        }).css({\r\n          display: 'none'\r\n        }).appendTo(document.body).attr('src', url);\r\n      }).promise();\r\n    };\r\n\r\n    return {\r\n      readFileAsDataURL: readFileAsDataURL,\r\n      createImage: createImage\r\n    };\r\n  })();\r\n\r\n  /**\r\n   * @class editing.History\r\n   *\r\n   * Editor History\r\n   *\r\n   */\r\n  var History = function ($editable) {\r\n    var stack = [], stackOffset = -1;\r\n    var editable = $editable[0];\r\n\r\n    var makeSnapshot = function () {\r\n      var rng = range.create(editable);\r\n      var emptyBookmark = {s: {path: [], offset: 0}, e: {path: [], offset: 0}};\r\n\r\n      return {\r\n        contents: $editable.html(),\r\n        bookmark: (rng ? rng.bookmark(editable) : emptyBookmark)\r\n      };\r\n    };\r\n\r\n    var applySnapshot = function (snapshot) {\r\n      if (snapshot.contents !== null) {\r\n        $editable.html(snapshot.contents);\r\n      }\r\n      if (snapshot.bookmark !== null) {\r\n        range.createFromBookmark(editable, snapshot.bookmark).select();\r\n      }\r\n    };\r\n\r\n    /**\r\n    * @method rewind\r\n    * Rewinds the history stack back to the first snapshot taken.\r\n    * Leaves the stack intact, so that \"Redo\" can still be used.\r\n    */\r\n    this.rewind = function () {\r\n      // Create snap shot if not yet recorded\r\n      if ($editable.html() !== stack[stackOffset].contents) {\r\n        this.recordUndo();\r\n      }\r\n\r\n      // Return to the first available snapshot.\r\n      stackOffset = 0;\r\n\r\n      // Apply that snapshot.\r\n      applySnapshot(stack[stackOffset]);\r\n    };\r\n\r\n    /**\r\n    * @method reset\r\n    * Resets the history stack completely; reverting to an empty editor.\r\n    */\r\n    this.reset = function () {\r\n      // Clear the stack.\r\n      stack = [];\r\n\r\n      // Restore stackOffset to its original value.\r\n      stackOffset = -1;\r\n\r\n      // Clear the editable area.\r\n      $editable.html('');\r\n\r\n      // Record our first snapshot (of nothing).\r\n      this.recordUndo();\r\n    };\r\n\r\n    /**\r\n     * undo\r\n     */\r\n    this.undo = function () {\r\n      // Create snap shot if not yet recorded\r\n      if ($editable.html() !== stack[stackOffset].contents) {\r\n        this.recordUndo();\r\n      }\r\n\r\n      if (0 < stackOffset) {\r\n        stackOffset--;\r\n        applySnapshot(stack[stackOffset]);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * redo\r\n     */\r\n    this.redo = function () {\r\n      if (stack.length - 1 > stackOffset) {\r\n        stackOffset++;\r\n        applySnapshot(stack[stackOffset]);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * recorded undo\r\n     */\r\n    this.recordUndo = function () {\r\n      stackOffset++;\r\n\r\n      // Wash out stack after stackOffset\r\n      if (stack.length > stackOffset) {\r\n        stack = stack.slice(0, stackOffset);\r\n      }\r\n\r\n      // Create new snapshot and push it to the end\r\n      stack.push(makeSnapshot());\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @class editing.Style\r\n   *\r\n   * Style\r\n   *\r\n   */\r\n  var Style = function () {\r\n    /**\r\n     * @method jQueryCSS\r\n     *\r\n     * [workaround] for old jQuery\r\n     * passing an array of style properties to .css()\r\n     * will result in an object of property-value pairs.\r\n     * (compability with version < 1.9)\r\n     *\r\n     * @private\r\n     * @param  {jQuery} $obj\r\n     * @param  {Array} propertyNames - An array of one or more CSS properties.\r\n     * @return {Object}\r\n     */\r\n    var jQueryCSS = function ($obj, propertyNames) {\r\n      if (agent.jqueryVersion < 1.9) {\r\n        var result = {};\r\n        $.each(propertyNames, function (idx, propertyName) {\r\n          result[propertyName] = $obj.css(propertyName);\r\n        });\r\n        return result;\r\n      }\r\n      return $obj.css.call($obj, propertyNames);\r\n    };\r\n\r\n    /**\r\n     * returns style object from node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @return {Object}\r\n     */\r\n    this.fromNode = function ($node) {\r\n      var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\r\n      var styleInfo = jQueryCSS($node, properties) || {};\r\n      styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\r\n      return styleInfo;\r\n    };\r\n\r\n    /**\r\n     * paragraph level style\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Object} styleInfo\r\n     */\r\n    this.stylePara = function (rng, styleInfo) {\r\n      $.each(rng.nodes(dom.isPara, {\r\n        includeAncestor: true\r\n      }), function (idx, para) {\r\n        $(para).css(styleInfo);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * insert and returns styleNodes on range.\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Object} [options] - options for styleNodes\r\n     * @param {String} [options.nodeName] - default: `SPAN`\r\n     * @param {Boolean} [options.expandClosestSibling] - default: `false`\r\n     * @param {Boolean} [options.onlyPartialContains] - default: `false`\r\n     * @return {Node[]}\r\n     */\r\n    this.styleNodes = function (rng, options) {\r\n      rng = rng.splitText();\r\n\r\n      var nodeName = options && options.nodeName || 'SPAN';\r\n      var expandClosestSibling = !!(options && options.expandClosestSibling);\r\n      var onlyPartialContains = !!(options && options.onlyPartialContains);\r\n\r\n      if (rng.isCollapsed()) {\r\n        return [rng.insertNode(dom.create(nodeName))];\r\n      }\r\n\r\n      var pred = dom.makePredByNodeName(nodeName);\r\n      var nodes = rng.nodes(dom.isText, {\r\n        fullyContains: true\r\n      }).map(function (text) {\r\n        return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\r\n      });\r\n\r\n      if (expandClosestSibling) {\r\n        if (onlyPartialContains) {\r\n          var nodesInRange = rng.nodes();\r\n          // compose with partial contains predication\r\n          pred = func.and(pred, function (node) {\r\n            return list.contains(nodesInRange, node);\r\n          });\r\n        }\r\n\r\n        return nodes.map(function (node) {\r\n          var siblings = dom.withClosestSiblings(node, pred);\r\n          var head = list.head(siblings);\r\n          var tails = list.tail(siblings);\r\n          $.each(tails, function (idx, elem) {\r\n            dom.appendChildNodes(head, elem.childNodes);\r\n            dom.remove(elem);\r\n          });\r\n          return list.head(siblings);\r\n        });\r\n      } else {\r\n        return nodes;\r\n      }\r\n    };\r\n\r\n    /**\r\n     * get current style on cursor\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @return {Object} - object contains style properties.\r\n     */\r\n    this.current = function (rng) {\r\n      var $cont = $(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\r\n      var styleInfo = this.fromNode($cont);\r\n\r\n      // document.queryCommandState for toggle state\r\n      // [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\r\n      try {\r\n        styleInfo = $.extend(styleInfo, {\r\n          'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\r\n          'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\r\n          'font-underline': document.queryCommandState('underline') ? 'underline' : 'normal',\r\n          'font-subscript': document.queryCommandState('subscript') ? 'subscript' : 'normal',\r\n          'font-superscript': document.queryCommandState('superscript') ? 'superscript' : 'normal',\r\n          'font-strikethrough': document.queryCommandState('strikethrough') ? 'strikethrough' : 'normal'\r\n        });\r\n      } catch (e) {}\r\n\r\n      // list-style-type to list-style(unordered, ordered)\r\n      if (!rng.isOnList()) {\r\n        styleInfo['list-style'] = 'none';\r\n      } else {\r\n        var orderedTypes = ['circle', 'disc', 'disc-leading-zero', 'square'];\r\n        var isUnordered = $.inArray(styleInfo['list-style-type'], orderedTypes) > -1;\r\n        styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\r\n      }\r\n\r\n      var para = dom.ancestor(rng.sc, dom.isPara);\r\n      if (para && para.style['line-height']) {\r\n        styleInfo['line-height'] = para.style.lineHeight;\r\n      } else {\r\n        var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\r\n        styleInfo['line-height'] = lineHeight.toFixed(1);\r\n      }\r\n\r\n      styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\r\n      styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\r\n      styleInfo.range = rng;\r\n\r\n      return styleInfo;\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * @class editing.Bullet\r\n   *\r\n   * @alternateClassName Bullet\r\n   */\r\n  var Bullet = function () {\r\n    var self = this;\r\n\r\n    /**\r\n     * toggle ordered list\r\n     */\r\n    this.insertOrderedList = function (editable) {\r\n      this.toggleList('OL', editable);\r\n    };\r\n\r\n    /**\r\n     * toggle unordered list\r\n     */\r\n    this.insertUnorderedList = function (editable) {\r\n      this.toggleList('UL', editable);\r\n    };\r\n\r\n    /**\r\n     * indent\r\n     */\r\n    this.indent = function (editable) {\r\n      var self = this;\r\n      var rng = range.create(editable).wrapBodyInlineWithPara();\r\n\r\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\r\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\r\n\r\n      $.each(clustereds, function (idx, paras) {\r\n        var head = list.head(paras);\r\n        if (dom.isLi(head)) {\r\n          self.wrapList(paras, head.parentNode.nodeName);\r\n        } else {\r\n          $.each(paras, function (idx, para) {\r\n            $(para).css('marginLeft', function (idx, val) {\r\n              return (parseInt(val, 10) || 0) + 25;\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      rng.select();\r\n    };\r\n\r\n    /**\r\n     * outdent\r\n     */\r\n    this.outdent = function (editable) {\r\n      var self = this;\r\n      var rng = range.create(editable).wrapBodyInlineWithPara();\r\n\r\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\r\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\r\n\r\n      $.each(clustereds, function (idx, paras) {\r\n        var head = list.head(paras);\r\n        if (dom.isLi(head)) {\r\n          self.releaseList([paras]);\r\n        } else {\r\n          $.each(paras, function (idx, para) {\r\n            $(para).css('marginLeft', function (idx, val) {\r\n              val = (parseInt(val, 10) || 0);\r\n              return val > 25 ? val - 25 : '';\r\n            });\r\n          });\r\n        }\r\n      });\r\n\r\n      rng.select();\r\n    };\r\n\r\n    /**\r\n     * toggle list\r\n     *\r\n     * @param {String} listName - OL or UL\r\n     */\r\n    this.toggleList = function (listName, editable) {\r\n      var rng = range.create(editable).wrapBodyInlineWithPara();\r\n\r\n      var paras = rng.nodes(dom.isPara, { includeAncestor: true });\r\n      var bookmark = rng.paraBookmark(paras);\r\n      var clustereds = list.clusterBy(paras, func.peq2('parentNode'));\r\n\r\n      // paragraph to list\r\n      if (list.find(paras, dom.isPurePara)) {\r\n        var wrappedParas = [];\r\n        $.each(clustereds, function (idx, paras) {\r\n          wrappedParas = wrappedParas.concat(self.wrapList(paras, listName));\r\n        });\r\n        paras = wrappedParas;\r\n      // list to paragraph or change list style\r\n      } else {\r\n        var diffLists = rng.nodes(dom.isList, {\r\n          includeAncestor: true\r\n        }).filter(function (listNode) {\r\n          return !$.nodeName(listNode, listName);\r\n        });\r\n\r\n        if (diffLists.length) {\r\n          $.each(diffLists, function (idx, listNode) {\r\n            dom.replace(listNode, listName);\r\n          });\r\n        } else {\r\n          paras = this.releaseList(clustereds, true);\r\n        }\r\n      }\r\n\r\n      range.createFromParaBookmark(bookmark, paras).select();\r\n    };\r\n\r\n    /**\r\n     * @param {Node[]} paras\r\n     * @param {String} listName\r\n     * @return {Node[]}\r\n     */\r\n    this.wrapList = function (paras, listName) {\r\n      var head = list.head(paras);\r\n      var last = list.last(paras);\r\n\r\n      var prevList = dom.isList(head.previousSibling) && head.previousSibling;\r\n      var nextList = dom.isList(last.nextSibling) && last.nextSibling;\r\n\r\n      var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\r\n\r\n      // P to LI\r\n      paras = paras.map(function (para) {\r\n        return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\r\n      });\r\n\r\n      // append to list(<ul>, <ol>)\r\n      dom.appendChildNodes(listNode, paras);\r\n\r\n      if (nextList) {\r\n        dom.appendChildNodes(listNode, list.from(nextList.childNodes));\r\n        dom.remove(nextList);\r\n      }\r\n\r\n      return paras;\r\n    };\r\n\r\n    /**\r\n     * @method releaseList\r\n     *\r\n     * @param {Array[]} clustereds\r\n     * @param {Boolean} isEscapseToBody\r\n     * @return {Node[]}\r\n     */\r\n    this.releaseList = function (clustereds, isEscapseToBody) {\r\n      var releasedParas = [];\r\n\r\n      $.each(clustereds, function (idx, paras) {\r\n        var head = list.head(paras);\r\n        var last = list.last(paras);\r\n\r\n        var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) :\r\n                                         head.parentNode;\r\n        var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\r\n          node: last.parentNode,\r\n          offset: dom.position(last) + 1\r\n        }, {\r\n          isSkipPaddingBlankHTML: true\r\n        }) : null;\r\n\r\n        var middleList = dom.splitTree(headList, {\r\n          node: head.parentNode,\r\n          offset: dom.position(head)\r\n        }, {\r\n          isSkipPaddingBlankHTML: true\r\n        });\r\n\r\n        paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi) :\r\n                                  list.from(middleList.childNodes).filter(dom.isLi);\r\n\r\n        // LI to P\r\n        if (isEscapseToBody || !dom.isList(headList.parentNode)) {\r\n          paras = paras.map(function (para) {\r\n            return dom.replace(para, 'P');\r\n          });\r\n        }\r\n\r\n        $.each(list.from(paras).reverse(), function (idx, para) {\r\n          dom.insertAfter(para, headList);\r\n        });\r\n\r\n        // remove empty lists\r\n        var rootLists = list.compact([headList, middleList, lastList]);\r\n        $.each(rootLists, function (idx, rootList) {\r\n          var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\r\n          $.each(listNodes.reverse(), function (idx, listNode) {\r\n            if (!dom.nodeLength(listNode)) {\r\n              dom.remove(listNode, true);\r\n            }\r\n          });\r\n        });\r\n\r\n        releasedParas = releasedParas.concat(paras);\r\n      });\r\n\r\n      return releasedParas;\r\n    };\r\n  };\r\n\r\n\r\n  /**\r\n   * @class editing.Typing\r\n   *\r\n   * Typing\r\n   *\r\n   */\r\n  var Typing = function () {\r\n\r\n    // a Bullet instance to toggle lists off\r\n    var bullet = new Bullet();\r\n\r\n    /**\r\n     * insert tab\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Number} tabsize\r\n     */\r\n    this.insertTab = function (rng, tabsize) {\r\n      var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\r\n      rng = rng.deleteContents();\r\n      rng.insertNode(tab, true);\r\n\r\n      rng = range.create(tab, tabsize);\r\n      rng.select();\r\n    };\r\n\r\n    /**\r\n     * insert paragraph\r\n     */\r\n    this.insertParagraph = function (editable) {\r\n      var rng = range.create(editable);\r\n\r\n      // deleteContents on range.\r\n      rng = rng.deleteContents();\r\n\r\n      // Wrap range if it needs to be wrapped by paragraph\r\n      rng = rng.wrapBodyInlineWithPara();\r\n\r\n      // finding paragraph\r\n      var splitRoot = dom.ancestor(rng.sc, dom.isPara);\r\n\r\n      var nextPara;\r\n      // on paragraph: split paragraph\r\n      if (splitRoot) {\r\n        // if it is an empty line with li\r\n        if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\r\n          // toogle UL/OL and escape\r\n          bullet.toggleList(splitRoot.parentNode.nodeName);\r\n          return;\r\n        // if it is an empty line with para on blockquote\r\n        } else if (dom.isEmpty(splitRoot) && dom.isPara(splitRoot) && dom.isBlockquote(splitRoot.parentNode)) {\r\n          // escape blockquote\r\n          dom.insertAfter(splitRoot, splitRoot.parentNode);\r\n          nextPara = splitRoot;\r\n        // if new line has content (not a line break)\r\n        } else {\r\n          nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\r\n\r\n          var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\r\n          emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\r\n\r\n          $.each(emptyAnchors, function (idx, anchor) {\r\n            dom.remove(anchor);\r\n          });\r\n\r\n          // replace empty heading or pre with P tag\r\n          if ((dom.isHeading(nextPara) || dom.isPre(nextPara)) && dom.isEmpty(nextPara)) {\r\n            nextPara = dom.replace(nextPara, 'p');\r\n          }\r\n        }\r\n      // no paragraph: insert empty paragraph\r\n      } else {\r\n        var next = rng.sc.childNodes[rng.so];\r\n        nextPara = $(dom.emptyPara)[0];\r\n        if (next) {\r\n          rng.sc.insertBefore(nextPara, next);\r\n        } else {\r\n          rng.sc.appendChild(nextPara);\r\n        }\r\n      }\r\n\r\n      range.create(nextPara, 0).normalize().select().scrollIntoView(editable);\r\n    };\r\n  };\r\n\r\n  /**\r\n   * @class editing.Table\r\n   *\r\n   * Table\r\n   *\r\n   */\r\n  var Table = function () {\r\n    /**\r\n     * handle tab key\r\n     *\r\n     * @param {WrappedRange} rng\r\n     * @param {Boolean} isShift\r\n     */\r\n    this.tab = function (rng, isShift) {\r\n      var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\r\n      var table = dom.ancestor(cell, dom.isTable);\r\n      var cells = dom.listDescendant(table, dom.isCell);\r\n\r\n      var nextCell = list[isShift ? 'prev' : 'next'](cells, cell);\r\n      if (nextCell) {\r\n        range.create(nextCell, 0).select();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * create empty table element\r\n     *\r\n     * @param {Number} rowCount\r\n     * @param {Number} colCount\r\n     * @return {Node}\r\n     */\r\n    this.createTable = function (colCount, rowCount, options) {\r\n      var tds = [], tdHTML;\r\n      for (var idxCol = 0; idxCol < colCount; idxCol++) {\r\n        tds.push('<td>' + dom.blank + '</td>');\r\n      }\r\n      tdHTML = tds.join('');\r\n\r\n      var trs = [], trHTML;\r\n      for (var idxRow = 0; idxRow < rowCount; idxRow++) {\r\n        trs.push('<tr>' + tdHTML + '</tr>');\r\n      }\r\n      trHTML = trs.join('');\r\n      var $table = $('<table>' + trHTML + '</table>');\r\n      if (options && options.tableClassName) {\r\n        $table.addClass(options.tableClassName);\r\n      }\r\n\r\n      return $table[0];\r\n    };\r\n  };\r\n\r\n\r\n  var KEY_BOGUS = 'bogus';\r\n\r\n  /**\r\n   * @class Editor\r\n   */\r\n  var Editor = function (context) {\r\n    var self = this;\r\n\r\n    var $note = context.layoutInfo.note;\r\n    var $editor = context.layoutInfo.editor;\r\n    var $editable = context.layoutInfo.editable;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    var editable = $editable[0];\r\n    var lastRange = null;\r\n\r\n    var style = new Style();\r\n    var table = new Table();\r\n    var typing = new Typing();\r\n    var bullet = new Bullet();\r\n    var history = new History($editable);\r\n\r\n    this.initialize = function () {\r\n      // bind custom events\r\n      $editable.on('keydown', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          context.triggerEvent('enter', event);\r\n        }\r\n        context.triggerEvent('keydown', event);\r\n\r\n        if (!event.isDefaultPrevented()) {\r\n          if (options.shortcuts) {\r\n            self.handleKeyMap(event);\r\n          } else {\r\n            self.preventDefaultEditableShortCuts(event);\r\n          }\r\n        }\r\n      }).on('keyup', function (event) {\r\n        context.triggerEvent('keyup', event);\r\n      }).on('focus', function (event) {\r\n        context.triggerEvent('focus', event);\r\n      }).on('blur', function (event) {\r\n        context.triggerEvent('blur', event);\r\n      }).on('mousedown', function (event) {\r\n        context.triggerEvent('mousedown', event);\r\n      }).on('mouseup', function (event) {\r\n        context.triggerEvent('mouseup', event);\r\n      }).on('scroll', function (event) {\r\n        context.triggerEvent('scroll', event);\r\n      }).on('paste', function (event) {\r\n        context.triggerEvent('paste', event);\r\n      });\r\n\r\n      // init content before set event\r\n      $editable.html(dom.html($note) || dom.emptyPara);\r\n\r\n      // [workaround] IE doesn't have input events for contentEditable\r\n      // - see: https://goo.gl/4bfIvA\r\n      var changeEventName = agent.isMSIE ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\r\n      $editable.on(changeEventName, func.debounce(function () {\r\n        context.triggerEvent('change', $editable.html());\r\n      }, 250));\r\n\r\n      $editor.on('focusin', function (event) {\r\n        context.triggerEvent('focusin', event);\r\n      }).on('focusout', function (event) {\r\n        context.triggerEvent('focusout', event);\r\n      });\r\n\r\n      if (!options.airMode) {\r\n        if (options.width) {\r\n          $editor.outerWidth(options.width);\r\n        }\r\n        if (options.height) {\r\n          $editable.outerHeight(options.height);\r\n        }\r\n        if (options.maxHeight) {\r\n          $editable.css('max-height', options.maxHeight);\r\n        }\r\n        if (options.minHeight) {\r\n          $editable.css('min-height', options.minHeight);\r\n        }\r\n      }\r\n\r\n      history.recordUndo();\r\n    };\r\n\r\n    this.destroy = function () {\r\n      $editable.off();\r\n    };\r\n\r\n    this.handleKeyMap = function (event) {\r\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\r\n      var keys = [];\r\n\r\n      if (event.metaKey) { keys.push('CMD'); }\r\n      if (event.ctrlKey && !event.altKey) { keys.push('CTRL'); }\r\n      if (event.shiftKey) { keys.push('SHIFT'); }\r\n\r\n      var keyName = key.nameFromCode[event.keyCode];\r\n      if (keyName) {\r\n        keys.push(keyName);\r\n      }\r\n\r\n      var eventName = keyMap[keys.join('+')];\r\n      if (eventName) {\r\n        event.preventDefault();\r\n        context.invoke(eventName);\r\n      } else if (key.isEdit(event.keyCode)) {\r\n        this.afterCommand();\r\n      }\r\n    };\r\n\r\n    this.preventDefaultEditableShortCuts = function (event) {\r\n      // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\r\n      if ((event.ctrlKey || event.metaKey) &&\r\n        list.contains([66, 73, 85], event.keyCode)) {\r\n        event.preventDefault();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * create range\r\n     * @return {WrappedRange}\r\n     */\r\n    this.createRange = function () {\r\n      this.focus();\r\n      return range.create(editable);\r\n    };\r\n\r\n    /**\r\n     * saveRange\r\n     *\r\n     * save current range\r\n     *\r\n     * @param {Boolean} [thenCollapse=false]\r\n     */\r\n    this.saveRange = function (thenCollapse) {\r\n      lastRange = this.createRange();\r\n      if (thenCollapse) {\r\n        lastRange.collapse().select();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * restoreRange\r\n     *\r\n     * restore lately range\r\n     */\r\n    this.restoreRange = function () {\r\n      if (lastRange) {\r\n        lastRange.select();\r\n        this.focus();\r\n      }\r\n    };\r\n\r\n    this.saveTarget = function (node) {\r\n      $editable.data('target', node);\r\n    };\r\n\r\n    this.clearTarget = function () {\r\n      $editable.removeData('target');\r\n    };\r\n\r\n    this.restoreTarget = function () {\r\n      return $editable.data('target');\r\n    };\r\n\r\n    /**\r\n     * currentStyle\r\n     *\r\n     * current style\r\n     * @return {Object|Boolean} unfocus\r\n     */\r\n    this.currentStyle = function () {\r\n      var rng = range.create();\r\n      if (rng) {\r\n        rng = rng.normalize();\r\n      }\r\n      return rng ? style.current(rng) : style.fromNode($editable);\r\n    };\r\n\r\n    /**\r\n     * style from node\r\n     *\r\n     * @param {jQuery} $node\r\n     * @return {Object}\r\n     */\r\n    this.styleFromNode = function ($node) {\r\n      return style.fromNode($node);\r\n    };\r\n\r\n    /**\r\n     * undo\r\n     */\r\n    this.undo = function () {\r\n      context.triggerEvent('before.command', $editable.html());\r\n      history.undo();\r\n      context.triggerEvent('change', $editable.html());\r\n    };\r\n    context.memo('help.undo', lang.help.undo);\r\n\r\n    /**\r\n     * redo\r\n     */\r\n    this.redo = function () {\r\n      context.triggerEvent('before.command', $editable.html());\r\n      history.redo();\r\n      context.triggerEvent('change', $editable.html());\r\n    };\r\n    context.memo('help.redo', lang.help.redo);\r\n\r\n    /**\r\n     * before command\r\n     */\r\n    var beforeCommand = this.beforeCommand = function () {\r\n      context.triggerEvent('before.command', $editable.html());\r\n      // keep focus on editable before command execution\r\n      self.focus();\r\n    };\r\n\r\n    /**\r\n     * after command\r\n     * @param {Boolean} isPreventTrigger\r\n     */\r\n    var afterCommand = this.afterCommand = function (isPreventTrigger) {\r\n      history.recordUndo();\r\n      if (!isPreventTrigger) {\r\n        context.triggerEvent('change', $editable.html());\r\n      }\r\n    };\r\n\r\n    /* jshint ignore:start */\r\n    // native commands(with execCommand), generate function for execCommand\r\n    var commands = ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript',\r\n                    'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull',\r\n                    'formatBlock', 'removeFormat',\r\n                    'backColor', 'foreColor', 'fontName'];\r\n\r\n    for (var idx = 0, len = commands.length; idx < len; idx ++) {\r\n      this[commands[idx]] = (function (sCmd) {\r\n        return function (value) {\r\n          beforeCommand();\r\n          document.execCommand(sCmd, false, value);\r\n          afterCommand(true);\r\n        };\r\n      })(commands[idx]);\r\n      context.memo('help.' + commands[idx], lang.help[commands[idx]]);\r\n    }\r\n    /* jshint ignore:end */\r\n\r\n    /**\r\n     * handle tab key\r\n     */\r\n    this.tab = function () {\r\n      var rng = this.createRange();\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        table.tab(rng);\r\n      } else {\r\n        beforeCommand();\r\n        typing.insertTab(rng, options.tabSize);\r\n        afterCommand();\r\n      }\r\n    };\r\n    context.memo('help.tab', lang.help.tab);\r\n\r\n    /**\r\n     * handle shift+tab key\r\n     */\r\n    this.untab = function () {\r\n      var rng = this.createRange();\r\n      if (rng.isCollapsed() && rng.isOnCell()) {\r\n        table.tab(rng, true);\r\n      }\r\n    };\r\n    context.memo('help.untab', lang.help.untab);\r\n\r\n    /**\r\n     * run given function between beforeCommand and afterCommand\r\n     */\r\n    this.wrapCommand = function (fn) {\r\n      return function () {\r\n        beforeCommand();\r\n        fn.apply(self, arguments);\r\n        afterCommand();\r\n      };\r\n    };\r\n\r\n    /**\r\n     * insert paragraph\r\n     */\r\n    this.insertParagraph = this.wrapCommand(function () {\r\n      typing.insertParagraph(editable);\r\n    });\r\n    context.memo('help.insertParagraph', lang.help.insertParagraph);\r\n\r\n    this.insertOrderedList = this.wrapCommand(function () {\r\n      bullet.insertOrderedList(editable);\r\n    });\r\n    context.memo('help.insertOrderedList', lang.help.insertOrderedList);\r\n\r\n    this.insertUnorderedList = this.wrapCommand(function () {\r\n      bullet.insertUnorderedList(editable);\r\n    });\r\n    context.memo('help.insertUnorderedList', lang.help.insertUnorderedList);\r\n\r\n    this.indent = this.wrapCommand(function () {\r\n      bullet.indent(editable);\r\n    });\r\n    context.memo('help.indent', lang.help.indent);\r\n\r\n    this.outdent = this.wrapCommand(function () {\r\n      bullet.outdent(editable);\r\n    });\r\n    context.memo('help.outdent', lang.help.outdent);\r\n\r\n    /**\r\n     * insert image\r\n     *\r\n     * @param {String} src\r\n     * @param {String|Function} param\r\n     * @return {Promise}\r\n     */\r\n    this.insertImage = function (src, param) {\r\n      return async.createImage(src, param).then(function ($image) {\r\n        beforeCommand();\r\n\r\n        if (typeof param === 'function') {\r\n          param($image);\r\n        } else {\r\n          if (typeof param === 'string') {\r\n            $image.attr('data-filename', param);\r\n          }\r\n          $image.css('width', Math.min($editable.width(), $image.width()));\r\n        }\r\n\r\n        $image.show();\r\n        range.create(editable).insertNode($image[0]);\r\n        range.createFromNodeAfter($image[0]).select();\r\n        afterCommand();\r\n      }).fail(function (e) {\r\n        context.triggerEvent('image.upload.error', e);\r\n      });\r\n    };\r\n\r\n    /**\r\n     * insertImages\r\n     * @param {File[]} files\r\n     */\r\n    this.insertImages = function (files) {\r\n      $.each(files, function (idx, file) {\r\n        var filename = file.name;\r\n        if (options.maximumImageFileSize && options.maximumImageFileSize < file.size) {\r\n          context.triggerEvent('image.upload.error', lang.image.maximumFileSizeError);\r\n        } else {\r\n          async.readFileAsDataURL(file).then(function (dataURL) {\r\n            return self.insertImage(dataURL, filename);\r\n          }).fail(function () {\r\n            context.triggerEvent('image.upload.error');\r\n          });\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * insertImagesOrCallback\r\n     * @param {File[]} files\r\n     */\r\n    this.insertImagesOrCallback = function (files) {\r\n      var callbacks = options.callbacks;\r\n\r\n      // If onImageUpload options setted\r\n      if (callbacks.onImageUpload) {\r\n        context.triggerEvent('image.upload', files);\r\n      // else insert Image as dataURL\r\n      } else {\r\n        this.insertImages(files);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * insertNode\r\n     * insert node\r\n     * @param {Node} node\r\n     */\r\n    this.insertNode = this.wrapCommand(function (node) {\r\n      var rng = this.createRange();\r\n      rng.insertNode(node);\r\n      range.createFromNodeAfter(node).select();\r\n    });\r\n\r\n    /**\r\n     * insert text\r\n     * @param {String} text\r\n     */\r\n    this.insertText = this.wrapCommand(function (text) {\r\n      var rng = this.createRange();\r\n      var textNode = rng.insertNode(dom.createText(text));\r\n      range.create(textNode, dom.nodeLength(textNode)).select();\r\n    });\r\n\r\n    /**\r\n     * return selected plain text\r\n     * @return {String} text\r\n     */\r\n    this.getSelectedText = function () {\r\n      var rng = this.createRange();\r\n\r\n      // if range on anchor, expand range with anchor\r\n      if (rng.isOnAnchor()) {\r\n        rng = range.createFromNode(dom.ancestor(rng.sc, dom.isAnchor));\r\n      }\r\n\r\n      return rng.toString();\r\n    };\r\n\r\n    /**\r\n     * paste HTML\r\n     * @param {String} markup\r\n     */\r\n    this.pasteHTML = this.wrapCommand(function (markup) {\r\n      var contents = this.createRange().pasteHTML(markup);\r\n      range.createFromNodeAfter(list.last(contents)).select();\r\n    });\r\n\r\n    /**\r\n     * formatBlock\r\n     *\r\n     * @param {String} tagName\r\n     */\r\n    this.formatBlock = this.wrapCommand(function (tagName) {\r\n      // [workaround] for MSIE, IE need `<`\r\n      tagName = agent.isMSIE ? '<' + tagName + '>' : tagName;\r\n      document.execCommand('FormatBlock', false, tagName);\r\n    });\r\n\r\n    this.formatPara = function () {\r\n      this.formatBlock('P');\r\n    };\r\n    context.memo('help.formatPara', lang.help.formatPara);\r\n\r\n    /* jshint ignore:start */\r\n    for (var idx = 1; idx <= 6; idx ++) {\r\n      this['formatH' + idx] = function (idx) {\r\n        return function () {\r\n          this.formatBlock('H' + idx);\r\n        };\r\n      }(idx);\r\n      context.memo('help.formatH'+idx, lang.help['formatH' + idx]);\r\n    };\r\n    /* jshint ignore:end */\r\n\r\n    /**\r\n     * fontSize\r\n     *\r\n     * @param {String} value - px\r\n     */\r\n    this.fontSize = function (value) {\r\n      var rng = this.createRange();\r\n\r\n      if (rng && rng.isCollapsed()) {\r\n        var spans = style.styleNodes(rng);\r\n        var firstSpan = list.head(spans);\r\n\r\n        $(spans).css({\r\n          'font-size': value + 'px'\r\n        });\r\n\r\n        // [workaround] added styled bogus span for style\r\n        //  - also bogus character needed for cursor position\r\n        if (firstSpan && !dom.nodeLength(firstSpan)) {\r\n          firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\r\n          range.createFromNodeAfter(firstSpan.firstChild).select();\r\n          $editable.data(KEY_BOGUS, firstSpan);\r\n        }\r\n      } else {\r\n        beforeCommand();\r\n        $(style.styleNodes(rng)).css({\r\n          'font-size': value + 'px'\r\n        });\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * insert horizontal rule\r\n     */\r\n    this.insertHorizontalRule = this.wrapCommand(function () {\r\n      var hrNode = this.createRange().insertNode(dom.create('HR'));\r\n      if (hrNode.nextSibling) {\r\n        range.create(hrNode.nextSibling, 0).normalize().select();\r\n      }\r\n    });\r\n    context.memo('help.insertHorizontalRule', lang.help.insertHorizontalRule);\r\n\r\n    /**\r\n     * remove bogus node and character\r\n     */\r\n    this.removeBogus = function () {\r\n      var bogusNode = $editable.data(KEY_BOGUS);\r\n      if (!bogusNode) {\r\n        return;\r\n      }\r\n\r\n      var textNode = list.find(list.from(bogusNode.childNodes), dom.isText);\r\n\r\n      var bogusCharIdx = textNode.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);\r\n      if (bogusCharIdx !== -1) {\r\n        textNode.deleteData(bogusCharIdx, 1);\r\n      }\r\n\r\n      if (dom.isEmpty(bogusNode)) {\r\n        dom.remove(bogusNode);\r\n      }\r\n\r\n      $editable.removeData(KEY_BOGUS);\r\n    };\r\n\r\n    /**\r\n     * lineHeight\r\n     * @param {String} value\r\n     */\r\n    this.lineHeight = this.wrapCommand(function (value) {\r\n      style.stylePara(this.createRange(), {\r\n        lineHeight: value\r\n      });\r\n    });\r\n\r\n    /**\r\n     * unlink\r\n     *\r\n     * @type command\r\n     */\r\n    this.unlink = function () {\r\n      var rng = this.createRange();\r\n      if (rng.isOnAnchor()) {\r\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\r\n        rng = range.createFromNode(anchor);\r\n        rng.select();\r\n\r\n        beforeCommand();\r\n        document.execCommand('unlink');\r\n        afterCommand();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * create link (command)\r\n     *\r\n     * @param {Object} linkInfo\r\n     */\r\n    this.createLink = this.wrapCommand(function (linkInfo) {\r\n      var linkUrl = linkInfo.url;\r\n      var linkText = linkInfo.text;\r\n      var isNewWindow = linkInfo.isNewWindow;\r\n      var rng = linkInfo.range || this.createRange();\r\n      var isTextChanged = rng.toString() !== linkText;\r\n\r\n      // handle spaced urls from input\r\n      if (typeof linkUrl === 'string') {\r\n        linkUrl = linkUrl.trim();\r\n      }\r\n\r\n      if (options.onCreateLink) {\r\n        linkUrl = options.onCreateLink(linkUrl);\r\n      }\r\n\r\n      var anchors = [];\r\n      if (isTextChanged) {\r\n        rng = rng.deleteContents();\r\n        var anchor = rng.insertNode($('<A>' + linkText + '</A>')[0]);\r\n        anchors.push(anchor);\r\n      } else {\r\n        anchors = style.styleNodes(rng, {\r\n          nodeName: 'A',\r\n          expandClosestSibling: true,\r\n          onlyPartialContains: true\r\n        });\r\n      }\r\n\r\n      $.each(anchors, function (idx, anchor) {\r\n        // if url doesn't match an URL schema, set http:// as default\r\n        linkUrl = /^[A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?/.test(linkUrl) ?\r\n          linkUrl : 'http://' + linkUrl;\r\n\r\n        $(anchor).attr('href', linkUrl);\r\n        if (isNewWindow) {\r\n          $(anchor).attr('target', '_blank');\r\n        } else {\r\n          $(anchor).removeAttr('target');\r\n        }\r\n      });\r\n\r\n      var startRange = range.createFromNodeBefore(list.head(anchors));\r\n      var startPoint = startRange.getStartPoint();\r\n      var endRange = range.createFromNodeAfter(list.last(anchors));\r\n      var endPoint = endRange.getEndPoint();\r\n\r\n      range.create(\r\n        startPoint.node,\r\n        startPoint.offset,\r\n        endPoint.node,\r\n        endPoint.offset\r\n      ).select();\r\n    });\r\n\r\n    /**\r\n     * returns link info\r\n     *\r\n     * @return {Object}\r\n     * @return {WrappedRange} return.range\r\n     * @return {String} return.text\r\n     * @return {Boolean} [return.isNewWindow=true]\r\n     * @return {String} [return.url=\"\"]\r\n     */\r\n    this.getLinkInfo = function () {\r\n      var rng = this.createRange().expand(dom.isAnchor);\r\n\r\n      // Get the first anchor on range(for edit).\r\n      var $anchor = $(list.head(rng.nodes(dom.isAnchor)));\r\n\r\n      return {\r\n        range: rng,\r\n        text: rng.toString(),\r\n        isNewWindow: $anchor.length ? $anchor.attr('target') === '_blank' : false,\r\n        url: $anchor.length ? $anchor.attr('href') : ''\r\n      };\r\n    };\r\n\r\n    /**\r\n     * setting color\r\n     *\r\n     * @param {Object} sObjColor  color code\r\n     * @param {String} sObjColor.foreColor foreground color\r\n     * @param {String} sObjColor.backColor background color\r\n     */\r\n    this.color = this.wrapCommand(function (colorInfo) {\r\n      var foreColor = colorInfo.foreColor;\r\n      var backColor = colorInfo.backColor;\r\n\r\n      if (foreColor) { document.execCommand('foreColor', false, foreColor); }\r\n      if (backColor) { document.execCommand('backColor', false, backColor); }\r\n    });\r\n\r\n    /**\r\n     * insert Table\r\n     *\r\n     * @param {String} dimension of table (ex : \"5x5\")\r\n     */\r\n    this.insertTable = this.wrapCommand(function (dim) {\r\n      var dimension = dim.split('x');\r\n\r\n      var rng = this.createRange().deleteContents();\r\n      rng.insertNode(table.createTable(dimension[0], dimension[1], options));\r\n    });\r\n\r\n    /**\r\n     * float me\r\n     *\r\n     * @param {String} value\r\n     */\r\n    this.floatMe = this.wrapCommand(function (value) {\r\n      var $target = $(this.restoreTarget());\r\n      $target.css('float', value);\r\n    });\r\n\r\n    /**\r\n     * resize overlay element\r\n     * @param {String} value\r\n     */\r\n    this.resize = this.wrapCommand(function (value) {\r\n      var $target = $(this.restoreTarget());\r\n      $target.css({\r\n        width: value * 100 + '%',\r\n        height: ''\r\n      });\r\n    });\r\n\r\n    /**\r\n     * @param {Position} pos\r\n     * @param {jQuery} $target - target element\r\n     * @param {Boolean} [bKeepRatio] - keep ratio\r\n     */\r\n    this.resizeTo = function (pos, $target, bKeepRatio) {\r\n      var imageSize;\r\n      if (bKeepRatio) {\r\n        var newRatio = pos.y / pos.x;\r\n        var ratio = $target.data('ratio');\r\n        imageSize = {\r\n          width: ratio > newRatio ? pos.x : pos.y / ratio,\r\n          height: ratio > newRatio ? pos.x * ratio : pos.y\r\n        };\r\n      } else {\r\n        imageSize = {\r\n          width: pos.x,\r\n          height: pos.y\r\n        };\r\n      }\r\n\r\n      $target.css(imageSize);\r\n    };\r\n\r\n    /**\r\n     * remove media object\r\n     */\r\n    this.removeMedia = this.wrapCommand(function () {\r\n      var $target = $(this.restoreTarget()).detach();\r\n      context.triggerEvent('media.delete', $target, $editable);\r\n    });\r\n\r\n    /**\r\n     * returns whether editable area has focus or not.\r\n     */\r\n    this.hasFocus = function () {\r\n      return $editable.is(':focus');\r\n    };\r\n\r\n    /**\r\n     * set focus\r\n     */\r\n    this.focus = function () {\r\n      // [workaround] Screen will move when page is scolled in IE.\r\n      //  - do focus when not focused\r\n      if (!this.hasFocus()) {\r\n        $editable.focus();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * returns whether contents is empty or not.\r\n     * @return {Boolean}\r\n     */\r\n    this.isEmpty = function () {\r\n      return dom.isEmpty($editable[0]) || dom.emptyPara === $editable.html();\r\n    };\r\n\r\n    /**\r\n     * Removes all contents and restores the editable instance to an _emptyPara_.\r\n     */\r\n    this.empty = function () {\r\n      context.invoke('code', dom.emptyPara);\r\n    };\r\n  };\r\n\r\n  var Clipboard = function (context) {\r\n    var self = this;\r\n\r\n    var $editable = context.layoutInfo.editable;\r\n\r\n    this.events = {\r\n      'summernote.keydown': function (we, e) {\r\n        if (self.needKeydownHook()) {\r\n          if ((e.ctrlKey || e.metaKey) && e.keyCode === key.code.V) {\r\n            context.invoke('editor.saveRange');\r\n            self.$paste.focus();\r\n\r\n            setTimeout(function () {\r\n              self.pasteByHook();\r\n            }, 0);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.needKeydownHook = function () {\r\n      return (agent.isMSIE && agent.browserVersion > 10) || agent.isFF;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      // [workaround] getting image from clipboard\r\n      //  - IE11 and Firefox: CTRL+v hook\r\n      //  - Webkit: event.clipboardData\r\n      if (this.needKeydownHook()) {\r\n        this.$paste = $('<div tabindex=\"-1\" />').attr('contenteditable', true).css({\r\n          position: 'absolute',\r\n          left: -100000,\r\n          opacity: 0\r\n        });\r\n        $editable.before(this.$paste);\r\n\r\n        this.$paste.on('paste', function (event) {\r\n          context.triggerEvent('paste', event);\r\n        });\r\n      } else {\r\n        $editable.on('paste', this.pasteByEvent);\r\n      }\r\n    };\r\n\r\n    this.destroy = function () {\r\n      if (this.needKeydownHook()) {\r\n        this.$paste.remove();\r\n        this.$paste = null;\r\n      }\r\n    };\r\n\r\n    this.pasteByHook = function () {\r\n      var node = this.$paste[0].firstChild;\r\n\r\n      if (dom.isImg(node)) {\r\n        var dataURI = node.src;\r\n        var decodedData = atob(dataURI.split(',')[1]);\r\n        var array = new Uint8Array(decodedData.length);\r\n        for (var i = 0; i < decodedData.length; i++) {\r\n          array[i] = decodedData.charCodeAt(i);\r\n        }\r\n\r\n        var blob = new Blob([array], { type: 'image/png' });\r\n        blob.name = 'clipboard.png';\r\n\r\n        context.invoke('editor.restoreRange');\r\n        context.invoke('editor.focus');\r\n        context.invoke('editor.insertImagesOrCallback', [blob]);\r\n      } else {\r\n        var pasteContent = $('<div />').html(this.$paste.html()).html();\r\n        context.invoke('editor.restoreRange');\r\n        context.invoke('editor.focus');\r\n\r\n        if (pasteContent) {\r\n          context.invoke('editor.pasteHTML', pasteContent);\r\n        }\r\n      }\r\n\r\n      this.$paste.empty();\r\n    };\r\n\r\n    /**\r\n     * paste by clipboard event\r\n     *\r\n     * @param {Event} event\r\n     */\r\n    this.pasteByEvent = function (event) {\r\n      var clipboardData = event.originalEvent.clipboardData;\r\n      if (clipboardData && clipboardData.items && clipboardData.items.length) {\r\n        var item = list.head(clipboardData.items);\r\n        if (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\r\n          context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\r\n        }\r\n        context.invoke('editor.afterCommand');\r\n      }\r\n    };\r\n  };\r\n\r\n  var Dropzone = function (context) {\r\n    var $document = $(document);\r\n    var $editor = context.layoutInfo.editor;\r\n    var $editable = context.layoutInfo.editable;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n    var documentEventHandlers = {};\r\n\r\n    var $dropzone = $([\r\n      '<div class=\"note-dropzone\">',\r\n      '  <div class=\"note-dropzone-message\"/>',\r\n      '</div>'\r\n    ].join('')).prependTo($editor);\r\n\r\n    var detachDocumentEvent = function () {\r\n      Object.keys(documentEventHandlers).forEach(function (key) {\r\n        $document.off(key.substr(2).toLowerCase(), documentEventHandlers[key]);\r\n      });\r\n      documentEventHandlers = {};\r\n    };\r\n\r\n    /**\r\n     * attach Drag and Drop Events\r\n     */\r\n    this.initialize = function () {\r\n      if (options.disableDragAndDrop) {\r\n        // prevent default drop event\r\n        documentEventHandlers.onDrop = function (e) {\r\n          e.preventDefault();\r\n        };\r\n        $document.on('drop', documentEventHandlers.onDrop);\r\n      } else {\r\n        this.attachDragAndDropEvent();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * attach Drag and Drop Events\r\n     */\r\n    this.attachDragAndDropEvent = function () {\r\n      var collection = $(),\r\n          $dropzoneMessage = $dropzone.find('.note-dropzone-message');\r\n\r\n      documentEventHandlers.onDragenter = function (e) {\r\n        var isCodeview = context.invoke('codeview.isActivated');\r\n        var hasEditorSize = $editor.width() > 0 && $editor.height() > 0;\r\n        if (!isCodeview && !collection.length && hasEditorSize) {\r\n          $editor.addClass('dragover');\r\n          $dropzone.width($editor.width());\r\n          $dropzone.height($editor.height());\r\n          $dropzoneMessage.text(lang.image.dragImageHere);\r\n        }\r\n        collection = collection.add(e.target);\r\n      };\r\n\r\n      documentEventHandlers.onDragleave = function (e) {\r\n        collection = collection.not(e.target);\r\n        if (!collection.length) {\r\n          $editor.removeClass('dragover');\r\n        }\r\n      };\r\n\r\n      documentEventHandlers.onDrop = function () {\r\n        collection = $();\r\n        $editor.removeClass('dragover');\r\n      };\r\n\r\n      // show dropzone on dragenter when dragging a object to document\r\n      // -but only if the editor is visible, i.e. has a positive width and height\r\n      $document.on('dragenter', documentEventHandlers.onDragenter)\r\n        .on('dragleave', documentEventHandlers.onDragleave)\r\n        .on('drop', documentEventHandlers.onDrop);\r\n\r\n      // change dropzone's message on hover.\r\n      $dropzone.on('dragenter', function () {\r\n        $dropzone.addClass('hover');\r\n        $dropzoneMessage.text(lang.image.dropImage);\r\n      }).on('dragleave', function () {\r\n        $dropzone.removeClass('hover');\r\n        $dropzoneMessage.text(lang.image.dragImageHere);\r\n      });\r\n\r\n      // attach dropImage\r\n      $dropzone.on('drop', function (event) {\r\n        var dataTransfer = event.originalEvent.dataTransfer;\r\n\r\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\r\n          event.preventDefault();\r\n          $editable.focus();\r\n          context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\r\n        } else {\r\n          $.each(dataTransfer.types, function (idx, type) {\r\n            var content = dataTransfer.getData(type);\r\n\r\n            if (type.toLowerCase().indexOf('text') > -1) {\r\n              context.invoke('editor.pasteHTML', content);\r\n            } else {\r\n              $(content).each(function () {\r\n                context.invoke('editor.insertNode', this);\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }).on('dragover', false); // prevent default dragover event\r\n    };\r\n\r\n    this.destroy = function () {\r\n      detachDocumentEvent();\r\n    };\r\n  };\r\n\r\n\r\n  var CodeMirror;\r\n  if (agent.hasCodeMirror) {\r\n    if (agent.isSupportAmd) {\r\n      require(['codemirror'], function (cm) {\r\n        CodeMirror = cm;\r\n      });\r\n    } else {\r\n      CodeMirror = window.CodeMirror;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @class Codeview\r\n   */\r\n  var Codeview = function (context) {\r\n    var $editor = context.layoutInfo.editor;\r\n    var $editable = context.layoutInfo.editable;\r\n    var $codable = context.layoutInfo.codable;\r\n    var options = context.options;\r\n\r\n    this.sync = function () {\r\n      var isCodeview = this.isActivated();\r\n      if (isCodeview && agent.hasCodeMirror) {\r\n        $codable.data('cmEditor').save();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * @return {Boolean}\r\n     */\r\n    this.isActivated = function () {\r\n      return $editor.hasClass('codeview');\r\n    };\r\n\r\n    /**\r\n     * toggle codeview\r\n     */\r\n    this.toggle = function () {\r\n      if (this.isActivated()) {\r\n        this.deactivate();\r\n      } else {\r\n        this.activate();\r\n      }\r\n      context.triggerEvent('codeview.toggled');\r\n    };\r\n\r\n    /**\r\n     * activate code view\r\n     */\r\n    this.activate = function () {\r\n      $codable.val(dom.html($editable, options.prettifyHtml));\r\n      $codable.height($editable.height());\r\n\r\n      context.invoke('toolbar.updateCodeview', true);\r\n      $editor.addClass('codeview');\r\n      $codable.focus();\r\n\r\n      // activate CodeMirror as codable\r\n      if (agent.hasCodeMirror) {\r\n        var cmEditor = CodeMirror.fromTextArea($codable[0], options.codemirror);\r\n\r\n        // CodeMirror TernServer\r\n        if (options.codemirror.tern) {\r\n          var server = new CodeMirror.TernServer(options.codemirror.tern);\r\n          cmEditor.ternServer = server;\r\n          cmEditor.on('cursorActivity', function (cm) {\r\n            server.updateArgHints(cm);\r\n          });\r\n        }\r\n\r\n        // CodeMirror hasn't Padding.\r\n        cmEditor.setSize(null, $editable.outerHeight());\r\n        $codable.data('cmEditor', cmEditor);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * deactivate code view\r\n     */\r\n    this.deactivate = function () {\r\n      // deactivate CodeMirror as codable\r\n      if (agent.hasCodeMirror) {\r\n        var cmEditor = $codable.data('cmEditor');\r\n        $codable.val(cmEditor.getValue());\r\n        cmEditor.toTextArea();\r\n      }\r\n\r\n      var value = dom.value($codable, options.prettifyHtml) || dom.emptyPara;\r\n      var isChange = $editable.html() !== value;\r\n\r\n      $editable.html(value);\r\n      $editable.height(options.height ? $codable.height() : 'auto');\r\n      $editor.removeClass('codeview');\r\n\r\n      if (isChange) {\r\n        context.triggerEvent('change', $editable.html(), $editable);\r\n      }\r\n\r\n      $editable.focus();\r\n\r\n      context.invoke('toolbar.updateCodeview', false);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      if (this.isActivated()) {\r\n        this.deactivate();\r\n      }\r\n    };\r\n  };\r\n\r\n  var EDITABLE_PADDING = 24;\r\n\r\n  var Statusbar = function (context) {\r\n    var $document = $(document);\r\n    var $statusbar = context.layoutInfo.statusbar;\r\n    var $editable = context.layoutInfo.editable;\r\n    var options = context.options;\r\n\r\n    this.initialize = function () {\r\n      if (options.airMode || options.disableResizeEditor) {\r\n        return;\r\n      }\r\n\r\n      $statusbar.on('mousedown', function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        var editableTop = $editable.offset().top - $document.scrollTop();\r\n\r\n        $document.on('mousemove', function (event) {\r\n          var height = event.clientY - (editableTop + EDITABLE_PADDING);\r\n\r\n          height = (options.minheight > 0) ? Math.max(height, options.minheight) : height;\r\n          height = (options.maxHeight > 0) ? Math.min(height, options.maxHeight) : height;\r\n\r\n          $editable.height(height);\r\n        }).one('mouseup', function () {\r\n          $document.off('mousemove');\r\n        });\r\n      });\r\n    };\r\n\r\n    this.destroy = function () {\r\n      $statusbar.off();\r\n      $statusbar.remove();\r\n    };\r\n  };\r\n\r\n  var Fullscreen = function (context) {\r\n    var $editor = context.layoutInfo.editor;\r\n    var $toolbar = context.layoutInfo.toolbar;\r\n    var $editable = context.layoutInfo.editable;\r\n    var $codable = context.layoutInfo.codable;\r\n\r\n    var $window = $(window);\r\n    var $scrollbar = $('html, body');\r\n\r\n    /**\r\n     * toggle fullscreen\r\n     */\r\n    this.toggle = function () {\r\n      var resize = function (size) {\r\n        $editable.css('height', size.h);\r\n        $codable.css('height', size.h);\r\n        if ($codable.data('cmeditor')) {\r\n          $codable.data('cmeditor').setsize(null, size.h);\r\n        }\r\n      };\r\n\r\n      $editor.toggleClass('fullscreen');\r\n      if (this.isFullscreen()) {\r\n        $editable.data('orgHeight', $editable.css('height'));\r\n\r\n        $window.on('resize', function () {\r\n          resize({\r\n            h: $window.height() - $toolbar.outerHeight()\r\n          });\r\n        }).trigger('resize');\r\n\r\n        $scrollbar.css('overflow', 'hidden');\r\n      } else {\r\n        $window.off('resize');\r\n        resize({\r\n          h: $editable.data('orgHeight')\r\n        });\r\n        $scrollbar.css('overflow', 'visible');\r\n      }\r\n\r\n      context.invoke('toolbar.updateFullscreen', this.isFullscreen());\r\n    };\r\n\r\n    this.isFullscreen = function () {\r\n      return $editor.hasClass('fullscreen');\r\n    };\r\n  };\r\n\r\n  var Handle = function (context) {\r\n    var self = this;\r\n\r\n    var $document = $(document);\r\n    var $editingArea = context.layoutInfo.editingArea;\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.mousedown': function (we, e) {\r\n        if (self.update(e.target)) {\r\n          e.preventDefault();\r\n        }\r\n      },\r\n      'summernote.keyup summernote.scroll summernote.change summernote.dialog.shown': function () {\r\n        self.update();\r\n      }\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$handle = $([\r\n        '<div class=\"note-handle\">',\r\n        '<div class=\"note-control-selection\">',\r\n        '<div class=\"note-control-selection-bg\"></div>',\r\n        '<div class=\"note-control-holder note-control-nw\"></div>',\r\n        '<div class=\"note-control-holder note-control-ne\"></div>',\r\n        '<div class=\"note-control-holder note-control-sw\"></div>',\r\n        '<div class=\"',\r\n        (options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing'),\r\n        ' note-control-se\"></div>',\r\n        (options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>'),\r\n        '</div>',\r\n        '</div>'\r\n      ].join('')).prependTo($editingArea);\r\n\r\n      this.$handle.on('mousedown', function (event) {\r\n        if (dom.isControlSizing(event.target)) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n\r\n          var $target = self.$handle.find('.note-control-selection').data('target'),\r\n              posStart = $target.offset(),\r\n              scrollTop = $document.scrollTop();\r\n\r\n          $document.on('mousemove', function (event) {\r\n            context.invoke('editor.resizeTo', {\r\n              x: event.clientX - posStart.left,\r\n              y: event.clientY - (posStart.top - scrollTop)\r\n            }, $target, !event.shiftKey);\r\n\r\n            self.update($target[0]);\r\n          }).one('mouseup', function (e) {\r\n            e.preventDefault();\r\n            $document.off('mousemove');\r\n            context.invoke('editor.afterCommand');\r\n          });\r\n\r\n          if (!$target.data('ratio')) { // original ratio.\r\n            $target.data('ratio', $target.height() / $target.width());\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$handle.remove();\r\n    };\r\n\r\n    this.update = function (target) {\r\n      var isImage = dom.isImg(target);\r\n      var $selection = this.$handle.find('.note-control-selection');\r\n\r\n      context.invoke('imagePopover.update', target);\r\n\r\n      if (isImage) {\r\n        var $image = $(target);\r\n        var pos = $image.position();\r\n\r\n        // include margin\r\n        var imageSize = {\r\n          w: $image.outerWidth(true),\r\n          h: $image.outerHeight(true)\r\n        };\r\n\r\n        $selection.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: pos.top,\r\n          width: imageSize.w,\r\n          height: imageSize.h\r\n        }).data('target', $image); // save current image element.\r\n\r\n        var sizingText = imageSize.w + 'x' + imageSize.h;\r\n        $selection.find('.note-control-selection-info').text(sizingText);\r\n        context.invoke('editor.saveTarget', target);\r\n      } else {\r\n        this.hide();\r\n      }\r\n\r\n      return isImage;\r\n    };\r\n\r\n    /**\r\n     * hide\r\n     *\r\n     * @param {jQuery} $handle\r\n     */\r\n    this.hide = function () {\r\n      context.invoke('editor.clearTarget');\r\n      this.$handle.children().hide();\r\n    };\r\n  };\r\n\r\n  var AutoLink = function (context) {\r\n    var self = this;\r\n    var defaultScheme = 'http://';\r\n    var linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\r\n\r\n    this.events = {\r\n      'summernote.keyup': function (we, e) {\r\n        if (!e.isDefaultPrevented()) {\r\n          self.handleKeyup(e);\r\n        }\r\n      },\r\n      'summernote.keydown': function (we, e) {\r\n        self.handleKeydown(e);\r\n      }\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.lastWordRange = null;\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.lastWordRange = null;\r\n    };\r\n\r\n    this.replace = function () {\r\n      if (!this.lastWordRange) {\r\n        return;\r\n      }\r\n\r\n      var keyword = this.lastWordRange.toString();\r\n      var match = keyword.match(linkPattern);\r\n\r\n      if (match && (match[1] || match[2])) {\r\n        var link = match[1] ? keyword : defaultScheme + keyword;\r\n        var node = $('<a />').html(keyword).attr('href', link)[0];\r\n\r\n        this.lastWordRange.insertNode(node);\r\n        this.lastWordRange = null;\r\n        context.invoke('editor.focus');\r\n      }\r\n\r\n    };\r\n\r\n    this.handleKeydown = function (e) {\r\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\r\n        var wordRange = context.invoke('editor.createRange').getWordRange();\r\n        this.lastWordRange = wordRange;\r\n      }\r\n    };\r\n\r\n    this.handleKeyup = function (e) {\r\n      if (list.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\r\n        this.replace();\r\n      }\r\n    };\r\n  };\r\n\r\n  /**\r\n   * textarea auto sync.\r\n   */\r\n  var AutoSync = function (context) {\r\n    var $note = context.layoutInfo.note;\r\n\r\n    this.events = {\r\n      'summernote.change': function () {\r\n        $note.val(context.invoke('code'));\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return dom.isTextarea($note[0]);\r\n    };\r\n  };\r\n\r\n  var Placeholder = function (context) {\r\n    var self = this;\r\n    var $editingArea = context.layoutInfo.editingArea;\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.init summernote.change': function () {\r\n        self.update();\r\n      },\r\n      'summernote.codeview.toggled': function () {\r\n        self.update();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return !!options.placeholder;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$placeholder = $('<div class=\"note-placeholder\">');\r\n      this.$placeholder.on('click', function () {\r\n        context.invoke('focus');\r\n      }).text(options.placeholder).prependTo($editingArea);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$placeholder.remove();\r\n    };\r\n\r\n    this.update = function () {\r\n      var isShow = !context.invoke('codeview.isActivated') && context.invoke('editor.isEmpty');\r\n      this.$placeholder.toggle(isShow);\r\n    };\r\n  };\r\n\r\n  var Buttons = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $toolbar = context.layoutInfo.toolbar;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    var invertedKeyMap = func.invertObject(options.keyMap[agent.isMac ? 'mac' : 'pc']);\r\n\r\n    var representShortcut = this.representShortcut = function (editorMethod) {\r\n      var shortcut = invertedKeyMap[editorMethod];\r\n      if (!options.shortcuts || !shortcut) {\r\n        return '';\r\n      }\r\n      \r\n      if (agent.isMac) {\r\n        shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT', '⇧');\r\n      }\r\n\r\n      shortcut = shortcut.replace('BACKSLASH', '\\\\')\r\n                         .replace('SLASH', '/')\r\n                         .replace('LEFTBRACKET', '[')\r\n                         .replace('RIGHTBRACKET', ']');\r\n\r\n      return ' (' + shortcut + ')';\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.addToolbarButtons();\r\n      this.addImagePopoverButtons();\r\n      this.addLinkPopoverButtons();\r\n      this.fontInstalledMap = {};\r\n    };\r\n\r\n    this.destroy = function () {\r\n      delete this.fontInstalledMap;\r\n    };\r\n\r\n    this.isFontInstalled = function (name) {\r\n      if (!self.fontInstalledMap.hasOwnProperty(name)) {\r\n        self.fontInstalledMap[name] = agent.isFontInstalled(name) ||\r\n          list.contains(options.fontNamesIgnoreCheck, name);\r\n      }\r\n\r\n      return self.fontInstalledMap[name];\r\n    };\r\n\r\n    this.addToolbarButtons = function () {\r\n      context.memo('button.style', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.icon(options.icons.magic) + ' ' + ui.icon(options.icons.caret, 'span'),\r\n            tooltip: lang.style.style,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdown({\r\n            className: 'dropdown-style',\r\n            items: context.options.styleTags,\r\n            template: function (item) {\r\n\r\n              if (typeof item === 'string') {\r\n                item = { tag: item, title: (lang.style.hasOwnProperty(item) ? lang.style[item] : item) };\r\n              }\r\n\r\n              var tag = item.tag;\r\n              var title = item.title;\r\n              var style = item.style ? ' style=\"' + item.style + '\" ' : '';\r\n              var className = item.className ? ' class=\"' + item.className + '\"' : '';\r\n\r\n              return '<' + tag + style + className + '>' + title + '</' + tag +  '>';\r\n            },\r\n            click: context.createInvokeHandler('editor.formatBlock')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.bold', function () {\r\n        return ui.button({\r\n          className: 'note-btn-bold',\r\n          contents: ui.icon(options.icons.bold),\r\n          tooltip: lang.font.bold + representShortcut('bold'),\r\n          click: context.createInvokeHandler('editor.bold')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.italic', function () {\r\n        return ui.button({\r\n          className: 'note-btn-italic',\r\n          contents: ui.icon(options.icons.italic),\r\n          tooltip: lang.font.italic + representShortcut('italic'),\r\n          click: context.createInvokeHandler('editor.italic')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.underline', function () {\r\n        return ui.button({\r\n          className: 'note-btn-underline',\r\n          contents: ui.icon(options.icons.underline),\r\n          tooltip: lang.font.underline + representShortcut('underline'),\r\n          click: context.createInvokeHandler('editor.underline')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.clear', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.eraser),\r\n          tooltip: lang.font.clear + representShortcut('removeFormat'),\r\n          click: context.createInvokeHandler('editor.removeFormat')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.strikethrough', function () {\r\n        return ui.button({\r\n          className: 'note-btn-strikethrough',\r\n          contents: ui.icon(options.icons.strikethrough),\r\n          tooltip: lang.font.strikethrough + representShortcut('strikethrough'),\r\n          click: context.createInvokeHandler('editor.strikethrough')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.superscript', function () {\r\n        return ui.button({\r\n          className: 'note-btn-superscript',\r\n          contents: ui.icon(options.icons.superscript),\r\n          tooltip: lang.font.superscript,\r\n          click: context.createInvokeHandler('editor.superscript')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.subscript', function () {\r\n        return ui.button({\r\n          className: 'note-btn-subscript',\r\n          contents: ui.icon(options.icons.subscript),\r\n          tooltip: lang.font.subscript,\r\n          click: context.createInvokeHandler('editor.subscript')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.fontname', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: '<span class=\"note-current-fontname\"/> ' + ui.icon(options.icons.caret, 'span'),\r\n            tooltip: lang.font.name,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdownCheck({\r\n            className: 'dropdown-fontname',\r\n            checkClassName: options.icons.menuCheck,\r\n            items: options.fontNames.filter(self.isFontInstalled),\r\n            template: function (item) {\r\n              return '<span style=\"font-family:' + item + '\">' + item + '</span>';\r\n            },\r\n            click: context.createInvokeHandler('editor.fontName')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.fontsize', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: '<span class=\"note-current-fontsize\"/>' + ui.icon(options.icons.caret, 'span'),\r\n            tooltip: lang.font.size,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdownCheck({\r\n            className: 'dropdown-fontsize',\r\n            checkClassName: options.icons.menuCheck,\r\n            items: options.fontSizes,\r\n            click: context.createInvokeHandler('editor.fontSize')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.color', function () {\r\n        return ui.buttonGroup({\r\n          className: 'note-color',\r\n          children: [\r\n            ui.button({\r\n              className: 'note-current-color-button',\r\n              contents: ui.icon(options.icons.font + ' note-recent-color'),\r\n              tooltip: lang.color.recent,\r\n              click: function (e) {\r\n                var $button = $(e.currentTarget);\r\n                context.invoke('editor.color', {\r\n                  backColor: $button.attr('data-backColor'),\r\n                  foreColor: $button.attr('data-foreColor')\r\n                });\r\n              },\r\n              callback: function ($button) {\r\n                var $recentColor = $button.find('.note-recent-color');\r\n                $recentColor.css('background-color', '#FFFF00');\r\n                $button.attr('data-backColor', '#FFFF00');\r\n              }\r\n            }),\r\n            ui.button({\r\n              className: 'dropdown-toggle',\r\n              contents: ui.icon(options.icons.caret, 'span'),\r\n              tooltip: lang.color.more,\r\n              data: {\r\n                toggle: 'dropdown'\r\n              }\r\n            }),\r\n            ui.dropdown({\r\n              items: [\r\n                '<li>',\r\n                '<div class=\"btn-group\">',\r\n                '  <div class=\"note-palette-title\">' + lang.color.background + '</div>',\r\n                '  <div>',\r\n                '    <button type=\"button\" class=\"note-color-reset btn btn-default\" data-event=\"backColor\" data-value=\"inherit\">',\r\n                lang.color.transparent,\r\n                '    </button>',\r\n                '  </div>',\r\n                '  <div class=\"note-holder\" data-event=\"backColor\"/>',\r\n                '</div>',\r\n                '<div class=\"btn-group\">',\r\n                '  <div class=\"note-palette-title\">' + lang.color.foreground + '</div>',\r\n                '  <div>',\r\n                '    <button type=\"button\" class=\"note-color-reset btn btn-default\" data-event=\"removeFormat\" data-value=\"foreColor\">',\r\n                lang.color.resetToDefault,\r\n                '    </button>',\r\n                '  </div>',\r\n                '  <div class=\"note-holder\" data-event=\"foreColor\"/>',\r\n                '</div>',\r\n                '</li>'\r\n              ].join(''),\r\n              callback: function ($dropdown) {\r\n                $dropdown.find('.note-holder').each(function () {\r\n                  var $holder = $(this);\r\n                  $holder.append(ui.palette({\r\n                    colors: options.colors,\r\n                    eventName: $holder.data('event')\r\n                  }).render());\r\n                });\r\n              },\r\n              click: function (event) {\r\n                var $button = $(event.target);\r\n                var eventName = $button.data('event');\r\n                var value = $button.data('value');\r\n\r\n                if (eventName && value) {\r\n                  var key = eventName === 'backColor' ? 'background-color' : 'color';\r\n                  var $color = $button.closest('.note-color').find('.note-recent-color');\r\n                  var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\r\n\r\n                  $color.css(key, value);\r\n                  $currentButton.attr('data-' + eventName, value);\r\n                  context.invoke('editor.' + eventName, value);\r\n                }\r\n              }\r\n            })\r\n          ]\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.ul',  function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.unorderedlist),\r\n          tooltip: lang.lists.unordered + representShortcut('insertUnorderedList'),\r\n          click: context.createInvokeHandler('editor.insertUnorderedList')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.ol', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.orderedlist),\r\n          tooltip: lang.lists.ordered + representShortcut('insertOrderedList'),\r\n          click:  context.createInvokeHandler('editor.insertOrderedList')\r\n        }).render();\r\n      });\r\n\r\n      var justifyLeft = ui.button({\r\n        contents: ui.icon(options.icons.alignLeft),\r\n        tooltip: lang.paragraph.left + representShortcut('justifyLeft'),\r\n        click: context.createInvokeHandler('editor.justifyLeft')\r\n      });\r\n\r\n      var justifyCenter = ui.button({\r\n        contents: ui.icon(options.icons.alignCenter),\r\n        tooltip: lang.paragraph.center + representShortcut('justifyCenter'),\r\n        click: context.createInvokeHandler('editor.justifyCenter')\r\n      });\r\n\r\n      var justifyRight = ui.button({\r\n        contents: ui.icon(options.icons.alignRight),\r\n        tooltip: lang.paragraph.right + representShortcut('justifyRight'),\r\n        click: context.createInvokeHandler('editor.justifyRight')\r\n      });\r\n\r\n      var justifyFull = ui.button({\r\n        contents: ui.icon(options.icons.alignJustify),\r\n        tooltip: lang.paragraph.justify + representShortcut('justifyFull'),\r\n        click: context.createInvokeHandler('editor.justifyFull')\r\n      });\r\n\r\n      var outdent = ui.button({\r\n        contents: ui.icon(options.icons.outdent),\r\n        tooltip: lang.paragraph.outdent + representShortcut('outdent'),\r\n        click: context.createInvokeHandler('editor.outdent')\r\n      });\r\n\r\n      var indent = ui.button({\r\n        contents: ui.icon(options.icons.indent),\r\n        tooltip: lang.paragraph.indent + representShortcut('indent'),\r\n        click: context.createInvokeHandler('editor.indent')\r\n      });\r\n\r\n      context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\r\n      context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\r\n      context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\r\n      context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\r\n      context.memo('button.outdent', func.invoke(outdent, 'render'));\r\n      context.memo('button.indent', func.invoke(indent, 'render'));\r\n\r\n      context.memo('button.paragraph', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.icon(options.icons.alignLeft) + ' ' + ui.icon(options.icons.caret, 'span'),\r\n            tooltip: lang.paragraph.paragraph,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdown([\r\n            ui.buttonGroup({\r\n              className: 'note-align',\r\n              children: [justifyLeft, justifyCenter, justifyRight, justifyFull]\r\n            }),\r\n            ui.buttonGroup({\r\n              className: 'note-list',\r\n              children: [outdent, indent]\r\n            })\r\n          ])\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.height', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.icon(options.icons.textHeight) + ' ' + ui.icon(options.icons.caret, 'span'),\r\n            tooltip: lang.font.height,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdownCheck({\r\n            items: options.lineHeights,\r\n            checkClassName: options.icons.menuCheck,\r\n            className: 'dropdown-line-height',\r\n            click: context.createInvokeHandler('editor.lineHeight')\r\n          })\r\n        ]).render();\r\n      });\r\n\r\n      context.memo('button.table', function () {\r\n        return ui.buttonGroup([\r\n          ui.button({\r\n            className: 'dropdown-toggle',\r\n            contents: ui.icon(options.icons.table) + ' ' + ui.icon(options.icons.caret, 'span'),\r\n            tooltip: lang.table.table,\r\n            data: {\r\n              toggle: 'dropdown'\r\n            }\r\n          }),\r\n          ui.dropdown({\r\n            className: 'note-table',\r\n            items: [\r\n              '<div class=\"note-dimension-picker\">',\r\n              '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>',\r\n              '  <div class=\"note-dimension-picker-highlighted\"/>',\r\n              '  <div class=\"note-dimension-picker-unhighlighted\"/>',\r\n              '</div>',\r\n              '<div class=\"note-dimension-display\">1 x 1</div>'\r\n            ].join('')\r\n          })\r\n        ], {\r\n          callback: function ($node) {\r\n            var $catcher = $node.find('.note-dimension-picker-mousecatcher');\r\n            $catcher.css({\r\n              width: options.insertTableMaxSize.col + 'em',\r\n              height: options.insertTableMaxSize.row + 'em'\r\n            }).mousedown(context.createInvokeHandler('editor.insertTable'))\r\n              .on('mousemove', self.tableMoveHandler);\r\n          }\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.link', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.link),\r\n          tooltip: lang.link.link + representShortcut('linkDialog.show'),\r\n          click: context.createInvokeHandler('linkDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.picture', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.picture),\r\n          tooltip: lang.image.image,\r\n          click: context.createInvokeHandler('imageDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.video', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.video),\r\n          tooltip: lang.video.video,\r\n          click: context.createInvokeHandler('videoDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.hr', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.minus),\r\n          tooltip: lang.hr.insert + representShortcut('insertHorizontalRule'),\r\n          click: context.createInvokeHandler('editor.insertHorizontalRule')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.fullscreen', function () {\r\n        return ui.button({\r\n          className: 'btn-fullscreen',\r\n          contents: ui.icon(options.icons.arrowsAlt),\r\n          tooltip: lang.options.fullscreen,\r\n          click: context.createInvokeHandler('fullscreen.toggle')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.codeview', function () {\r\n        return ui.button({\r\n          className: 'btn-codeview',\r\n          contents: ui.icon(options.icons.code),\r\n          tooltip: lang.options.codeview,\r\n          click: context.createInvokeHandler('codeview.toggle')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.redo', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.redo),\r\n          tooltip: lang.history.redo + representShortcut('redo'),\r\n          click: context.createInvokeHandler('editor.redo')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.undo', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.undo),\r\n          tooltip: lang.history.undo + representShortcut('undo'),\r\n          click: context.createInvokeHandler('editor.undo')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.help', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.question),\r\n          tooltip: lang.options.help,\r\n          click: context.createInvokeHandler('helpDialog.show')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    /**\r\n     * image : [\r\n     *   ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\r\n     *   ['float', ['floatLeft', 'floatRight', 'floatNone' ]],\r\n     *   ['remove', ['removeMedia']]\r\n     * ],\r\n     */\r\n    this.addImagePopoverButtons = function () {\r\n      // Image Size Buttons\r\n      context.memo('button.imageSize100', function () {\r\n        return ui.button({\r\n          contents: '<span class=\"note-fontsize-10\">100%</span>',\r\n          tooltip: lang.image.resizeFull,\r\n          click: context.createInvokeHandler('editor.resize', '1')\r\n        }).render();\r\n      });\r\n      context.memo('button.imageSize50', function () {\r\n        return  ui.button({\r\n          contents: '<span class=\"note-fontsize-10\">50%</span>',\r\n          tooltip: lang.image.resizeHalf,\r\n          click: context.createInvokeHandler('editor.resize', '0.5')\r\n        }).render();\r\n      });\r\n      context.memo('button.imageSize25', function () {\r\n        return ui.button({\r\n          contents: '<span class=\"note-fontsize-10\">25%</span>',\r\n          tooltip: lang.image.resizeQuarter,\r\n          click: context.createInvokeHandler('editor.resize', '0.25')\r\n        }).render();\r\n      });\r\n\r\n      // Float Buttons\r\n      context.memo('button.floatLeft', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.alignLeft),\r\n          tooltip: lang.image.floatLeft,\r\n          click: context.createInvokeHandler('editor.floatMe', 'left')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.floatRight', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.alignRight),\r\n          tooltip: lang.image.floatRight,\r\n          click: context.createInvokeHandler('editor.floatMe', 'right')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.floatNone', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.alignJustify),\r\n          tooltip: lang.image.floatNone,\r\n          click: context.createInvokeHandler('editor.floatMe', 'none')\r\n        }).render();\r\n      });\r\n\r\n      // Remove Buttons\r\n      context.memo('button.removeMedia', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.trash),\r\n          tooltip: lang.image.remove,\r\n          click: context.createInvokeHandler('editor.removeMedia')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    this.addLinkPopoverButtons = function () {\r\n      context.memo('button.linkDialogShow', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.link),\r\n          tooltip: lang.link.edit,\r\n          click: context.createInvokeHandler('linkDialog.show')\r\n        }).render();\r\n      });\r\n\r\n      context.memo('button.unlink', function () {\r\n        return ui.button({\r\n          contents: ui.icon(options.icons.unlink),\r\n          tooltip: lang.link.unlink,\r\n          click: context.createInvokeHandler('editor.unlink')\r\n        }).render();\r\n      });\r\n    };\r\n\r\n    this.build = function ($container, groups) {\r\n      for (var groupIdx = 0, groupLen = groups.length; groupIdx < groupLen; groupIdx++) {\r\n        var group = groups[groupIdx];\r\n        var groupName = group[0];\r\n        var buttons = group[1];\r\n\r\n        var $group = ui.buttonGroup({\r\n          className: 'note-' + groupName\r\n        }).render();\r\n\r\n        for (var idx = 0, len = buttons.length; idx < len; idx++) {\r\n          var button = context.memo('button.' + buttons[idx]);\r\n          if (button) {\r\n            $group.append(typeof button === 'function' ? button(context) : button);\r\n          }\r\n        }\r\n        $group.appendTo($container);\r\n      }\r\n    };\r\n\r\n    this.updateCurrentStyle = function () {\r\n      var styleInfo = context.invoke('editor.currentStyle');\r\n      this.updateBtnStates({\r\n        '.note-btn-bold': function () {\r\n          return styleInfo['font-bold'] === 'bold';\r\n        },\r\n        '.note-btn-italic': function () {\r\n          return styleInfo['font-italic'] === 'italic';\r\n        },\r\n        '.note-btn-underline': function () {\r\n          return styleInfo['font-underline'] === 'underline';\r\n        },\r\n        '.note-btn-subscript': function () {\r\n          return styleInfo['font-subscript'] === 'subscript';\r\n        },\r\n        '.note-btn-superscript': function () {\r\n          return styleInfo['font-superscript'] === 'superscript';\r\n        },\r\n        '.note-btn-strikethrough': function () {\r\n          return styleInfo['font-strikethrough'] === 'strikethrough';\r\n        }\r\n      });\r\n\r\n      if (styleInfo['font-family']) {\r\n        var fontNames = styleInfo['font-family'].split(',').map(function (name) {\r\n          return name.replace(/[\\'\\\"]/g, '')\r\n            .replace(/\\s+$/, '')\r\n            .replace(/^\\s+/, '');\r\n        });\r\n        var fontName = list.find(fontNames, self.isFontInstalled);\r\n\r\n        $toolbar.find('.dropdown-fontname li a').each(function () {\r\n          // always compare string to avoid creating another func.\r\n          var isChecked = ($(this).data('value') + '') === (fontName + '');\r\n          this.className = isChecked ? 'checked' : '';\r\n        });\r\n        $toolbar.find('.note-current-fontname').text(fontName);\r\n      }\r\n\r\n      if (styleInfo['font-size']) {\r\n        var fontSize = styleInfo['font-size'];\r\n        $toolbar.find('.dropdown-fontsize li a').each(function () {\r\n          // always compare with string to avoid creating another func.\r\n          var isChecked = ($(this).data('value') + '') === (fontSize + '');\r\n          this.className = isChecked ? 'checked' : '';\r\n        });\r\n        $toolbar.find('.note-current-fontsize').text(fontSize);\r\n      }\r\n\r\n      if (styleInfo['line-height']) {\r\n        var lineHeight = styleInfo['line-height'];\r\n        $toolbar.find('.dropdown-line-height li a').each(function () {\r\n          // always compare with string to avoid creating another func.\r\n          var isChecked = ($(this).data('value') + '') === (lineHeight + '');\r\n          this.className = isChecked ? 'checked' : '';\r\n        });\r\n      }\r\n    };\r\n\r\n    this.updateBtnStates = function (infos) {\r\n      $.each(infos, function (selector, pred) {\r\n        ui.toggleBtnActive($toolbar.find(selector), pred());\r\n      });\r\n    };\r\n\r\n    this.tableMoveHandler = function (event) {\r\n      var PX_PER_EM = 18;\r\n      var $picker = $(event.target.parentNode); // target is mousecatcher\r\n      var $dimensionDisplay = $picker.next();\r\n      var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\r\n      var $highlighted = $picker.find('.note-dimension-picker-highlighted');\r\n      var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\r\n\r\n      var posOffset;\r\n      // HTML5 with jQuery - e.offsetX is undefined in Firefox\r\n      if (event.offsetX === undefined) {\r\n        var posCatcher = $(event.target).offset();\r\n        posOffset = {\r\n          x: event.pageX - posCatcher.left,\r\n          y: event.pageY - posCatcher.top\r\n        };\r\n      } else {\r\n        posOffset = {\r\n          x: event.offsetX,\r\n          y: event.offsetY\r\n        };\r\n      }\r\n\r\n      var dim = {\r\n        c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\r\n        r: Math.ceil(posOffset.y / PX_PER_EM) || 1\r\n      };\r\n\r\n      $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\r\n      $catcher.data('value', dim.c + 'x' + dim.r);\r\n\r\n      if (3 < dim.c && dim.c < options.insertTableMaxSize.col) {\r\n        $unhighlighted.css({ width: dim.c + 1 + 'em'});\r\n      }\r\n\r\n      if (3 < dim.r && dim.r < options.insertTableMaxSize.row) {\r\n        $unhighlighted.css({ height: dim.r + 1 + 'em'});\r\n      }\r\n\r\n      $dimensionDisplay.html(dim.c + ' x ' + dim.r);\r\n    };\r\n  };\r\n\r\n  var Toolbar = function (context) {\r\n    var ui = $.summernote.ui;\r\n\r\n    var $note = context.layoutInfo.note;\r\n    var $toolbar = context.layoutInfo.toolbar;\r\n    var options = context.options;\r\n\r\n    this.shouldInitialize = function () {\r\n      return !options.airMode;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      options.toolbar = options.toolbar || [];\r\n\r\n      if (!options.toolbar.length) {\r\n        $toolbar.hide();\r\n      } else {\r\n        context.invoke('buttons.build', $toolbar, options.toolbar);\r\n      }\r\n\r\n      if (options.toolbarContainer) {\r\n        $toolbar.appendTo(options.toolbarContainer);\r\n      }\r\n\r\n      $note.on('summernote.keyup summernote.mouseup summernote.change', function () {\r\n        context.invoke('buttons.updateCurrentStyle');\r\n      });\r\n\r\n      context.invoke('buttons.updateCurrentStyle');\r\n    };\r\n\r\n    this.destroy = function () {\r\n      $toolbar.children().remove();\r\n    };\r\n\r\n    this.updateFullscreen = function (isFullscreen) {\r\n      ui.toggleBtnActive($toolbar.find('.btn-fullscreen'), isFullscreen);\r\n    };\r\n\r\n    this.updateCodeview = function (isCodeview) {\r\n      ui.toggleBtnActive($toolbar.find('.btn-codeview'), isCodeview);\r\n      if (isCodeview) {\r\n        this.deactivate();\r\n      } else {\r\n        this.activate();\r\n      }\r\n    };\r\n\r\n    this.activate = function (isIncludeCodeview) {\r\n      var $btn = $toolbar.find('button');\r\n      if (!isIncludeCodeview) {\r\n        $btn = $btn.not('.btn-codeview');\r\n      }\r\n      ui.toggleBtn($btn, true);\r\n    };\r\n\r\n    this.deactivate = function (isIncludeCodeview) {\r\n      var $btn = $toolbar.find('button');\r\n      if (!isIncludeCodeview) {\r\n        $btn = $btn.not('.btn-codeview');\r\n      }\r\n      ui.toggleBtn($btn, false);\r\n    };\r\n  };\r\n\r\n  var LinkDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var body = '<div class=\"form-group\">' +\r\n                   '<label>' + lang.link.textToDisplay + '</label>' +\r\n                   '<input class=\"note-link-text form-control\" type=\"text\" />' +\r\n                 '</div>' +\r\n                 '<div class=\"form-group\">' +\r\n                   '<label>' + lang.link.url + '</label>' +\r\n                   '<input class=\"note-link-url form-control\" type=\"text\" value=\"http://\" />' +\r\n                 '</div>' +\r\n                 (!options.disableLinkTarget ?\r\n                   '<div class=\"checkbox\">' +\r\n                     '<label>' + '<input type=\"checkbox\" checked> ' + lang.link.openInNewWindow + '</label>' +\r\n                   '</div>' : ''\r\n                 );\r\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-link-btn disabled\" disabled>' + lang.link.insert + '</button>';\r\n\r\n      this.$dialog = ui.dialog({\r\n        className: 'link-dialog',\r\n        title: lang.link.insert,\r\n        fade: options.dialogsFade,\r\n        body: body,\r\n        footer: footer\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    this.bindEnterKey = function ($input, $btn) {\r\n      $input.on('keypress', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          $btn.trigger('click');\r\n        }\r\n      });\r\n    };\r\n\r\n    /**\r\n     * toggle update button\r\n     */\r\n    this.toggleLinkBtn = function ($linkBtn, $linkText, $linkUrl) {\r\n      ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\r\n    };\r\n\r\n    /**\r\n     * Show link dialog and set event handlers on dialog controls.\r\n     *\r\n     * @param {Object} linkInfo\r\n     * @return {Promise}\r\n     */\r\n    this.showLinkDialog = function (linkInfo) {\r\n      return $.Deferred(function (deferred) {\r\n        var $linkText = self.$dialog.find('.note-link-text'),\r\n        $linkUrl = self.$dialog.find('.note-link-url'),\r\n        $linkBtn = self.$dialog.find('.note-link-btn'),\r\n        $openInNewWindow = self.$dialog.find('input[type=checkbox]');\r\n\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n\r\n          // if no url was given, copy text to url\r\n          if (!linkInfo.url) {\r\n            linkInfo.url = linkInfo.text;\r\n          }\r\n\r\n          $linkText.val(linkInfo.text);\r\n\r\n          var handleLinkTextUpdate = function () {\r\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\r\n            // if linktext was modified by keyup,\r\n            // stop cloning text from linkUrl\r\n            linkInfo.text = $linkText.val();\r\n          };\r\n\r\n          $linkText.on('input', handleLinkTextUpdate).on('paste', function () {\r\n            setTimeout(handleLinkTextUpdate, 0);\r\n          });\r\n\r\n          var handleLinkUrlUpdate = function () {\r\n            self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\r\n            // display same link on `Text to display` input\r\n            // when create a new link\r\n            if (!linkInfo.text) {\r\n              $linkText.val($linkUrl.val());\r\n            }\r\n          };\r\n\r\n          $linkUrl.on('input', handleLinkUrlUpdate).on('paste', function () {\r\n            setTimeout(handleLinkUrlUpdate, 0);\r\n          }).val(linkInfo.url).trigger('focus');\r\n\r\n          self.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\r\n          self.bindEnterKey($linkUrl, $linkBtn);\r\n          self.bindEnterKey($linkText, $linkBtn);\r\n\r\n          $openInNewWindow.prop('checked', linkInfo.isNewWindow);\r\n\r\n          $linkBtn.one('click', function (event) {\r\n            event.preventDefault();\r\n\r\n            deferred.resolve({\r\n              range: linkInfo.range,\r\n              url: $linkUrl.val(),\r\n              text: $linkText.val(),\r\n              isNewWindow: $openInNewWindow.is(':checked')\r\n            });\r\n            self.$dialog.modal('hide');\r\n          });\r\n        });\r\n\r\n        ui.onDialogHidden(self.$dialog, function () {\r\n          // detach events\r\n          $linkText.off('input paste keypress');\r\n          $linkUrl.off('input paste keypress');\r\n          $linkBtn.off('click');\r\n\r\n          if (deferred.state() === 'pending') {\r\n            deferred.reject();\r\n          }\r\n        });\r\n\r\n        ui.showDialog(self.$dialog);\r\n      }).promise();\r\n    };\r\n\r\n    /**\r\n     * @param {Object} layoutInfo\r\n     */\r\n    this.show = function () {\r\n      var linkInfo = context.invoke('editor.getLinkInfo');\r\n\r\n      context.invoke('editor.saveRange');\r\n      this.showLinkDialog(linkInfo).then(function (linkInfo) {\r\n        context.invoke('editor.restoreRange');\r\n        context.invoke('editor.createLink', linkInfo);\r\n      }).fail(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n    context.memo('help.linkDialog.show', options.langInfo.help['linkDialog.show']);\r\n  };\r\n\r\n  var LinkPopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var options = context.options;\r\n\r\n    this.events = {\r\n      'summernote.keyup summernote.mouseup summernote.change summernote.scroll': function () {\r\n        self.update();\r\n      },\r\n      'summernote.dialog.shown': function () {\r\n        self.hide();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return !list.isEmpty(options.popover.link);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-link-popover',\r\n        callback: function ($node) {\r\n          var $content = $node.find('.popover-content');\r\n          $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\r\n        }\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.link);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function () {\r\n      // Prevent focusing on editable when invoke('code') is executed\r\n      if (!context.invoke('editor.hasFocus')) {\r\n        this.hide();\r\n        return;\r\n      }\r\n\r\n      var rng = context.invoke('editor.createRange');\r\n      if (rng.isCollapsed() && rng.isOnAnchor()) {\r\n        var anchor = dom.ancestor(rng.sc, dom.isAnchor);\r\n        var href = $(anchor).attr('href');\r\n        this.$popover.find('a').attr('href', href).html(href);\r\n\r\n        var pos = dom.posFromPlaceholder(anchor);\r\n        this.$popover.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: pos.top\r\n        });\r\n      } else {\r\n        this.hide();\r\n      }\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var ImageDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var imageLimitation = '';\r\n      if (options.maximumImageFileSize) {\r\n        var unit = Math.floor(Math.log(options.maximumImageFileSize) / Math.log(1024));\r\n        var readableSize = (options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 +\r\n                           ' ' + ' KMGTP'[unit] + 'B';\r\n        imageLimitation = '<small>' + lang.image.maximumFileSize + ' : ' + readableSize + '</small>';\r\n      }\r\n\r\n      var body = '<div class=\"form-group note-group-select-from-files\">' +\r\n                   '<label>' + lang.image.selectFromFiles + '</label>' +\r\n                   '<input class=\"note-image-input form-control\" type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\" />' +\r\n                   imageLimitation +\r\n                 '</div>' +\r\n                 '<div class=\"form-group note-group-image-url\" style=\"overflow:auto;\">' +\r\n                   '<label>' + lang.image.url + '</label>' +\r\n                   '<input class=\"note-image-url form-control col-md-12\" type=\"text\" />' +\r\n                 '</div>';\r\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-image-btn disabled\" disabled>' + lang.image.insert + '</button>';\r\n\r\n      this.$dialog = ui.dialog({\r\n        title: lang.image.insert,\r\n        fade: options.dialogsFade,\r\n        body: body,\r\n        footer: footer\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    this.bindEnterKey = function ($input, $btn) {\r\n      $input.on('keypress', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          $btn.trigger('click');\r\n        }\r\n      });\r\n    };\r\n\r\n    this.show = function () {\r\n      context.invoke('editor.saveRange');\r\n      this.showImageDialog().then(function (data) {\r\n        // [workaround] hide dialog before restore range for IE range focus\r\n        ui.hideDialog(self.$dialog);\r\n        context.invoke('editor.restoreRange');\r\n\r\n        if (typeof data === 'string') { // image url\r\n          context.invoke('editor.insertImage', data);\r\n        } else { // array of files\r\n          context.invoke('editor.insertImagesOrCallback', data);\r\n        }\r\n      }).fail(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n\r\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\r\n    this.showImageDialog = function () {\r\n      return $.Deferred(function (deferred) {\r\n        var $imageInput = self.$dialog.find('.note-image-input'),\r\n            $imageUrl = self.$dialog.find('.note-image-url'),\r\n            $imageBtn = self.$dialog.find('.note-image-btn');\r\n\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n\r\n          // Cloning imageInput to clear element.\r\n          $imageInput.replaceWith($imageInput.clone()\r\n            .on('change', function () {\r\n              deferred.resolve(this.files || this.value);\r\n            })\r\n            .val('')\r\n          );\r\n\r\n          $imageBtn.click(function (event) {\r\n            event.preventDefault();\r\n\r\n            deferred.resolve($imageUrl.val());\r\n          });\r\n\r\n          $imageUrl.on('keyup paste', function () {\r\n            var url = $imageUrl.val();\r\n            ui.toggleBtn($imageBtn, url);\r\n          }).val('').trigger('focus');\r\n          self.bindEnterKey($imageUrl, $imageBtn);\r\n        });\r\n\r\n        ui.onDialogHidden(self.$dialog, function () {\r\n          $imageInput.off('change');\r\n          $imageUrl.off('keyup paste keypress');\r\n          $imageBtn.off('click');\r\n\r\n          if (deferred.state() === 'pending') {\r\n            deferred.reject();\r\n          }\r\n        });\r\n\r\n        ui.showDialog(self.$dialog);\r\n      });\r\n    };\r\n  };\r\n\r\n  var ImagePopover = function (context) {\r\n    var ui = $.summernote.ui;\r\n\r\n    var options = context.options;\r\n\r\n    this.shouldInitialize = function () {\r\n      return !list.isEmpty(options.popover.image);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-image-popover'\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.image);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function (target) {\r\n      if (dom.isImg(target)) {\r\n        var pos = dom.posFromPlaceholder(target);\r\n        this.$popover.css({\r\n          display: 'block',\r\n          left: pos.left,\r\n          top: pos.top\r\n        });\r\n      } else {\r\n        this.hide();\r\n      }\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var VideoDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var body = '<div class=\"form-group row-fluid\">' +\r\n          '<label>' + lang.video.url + ' <small class=\"text-muted\">' + lang.video.providers + '</small></label>' +\r\n          '<input class=\"note-video-url form-control span12\" type=\"text\" />' +\r\n          '</div>';\r\n      var footer = '<button href=\"#\" class=\"btn btn-primary note-video-btn disabled\" disabled>' + lang.video.insert + '</button>';\r\n\r\n      this.$dialog = ui.dialog({\r\n        title: lang.video.insert,\r\n        fade: options.dialogsFade,\r\n        body: body,\r\n        footer: footer\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    this.bindEnterKey = function ($input, $btn) {\r\n      $input.on('keypress', function (event) {\r\n        if (event.keyCode === key.code.ENTER) {\r\n          $btn.trigger('click');\r\n        }\r\n      });\r\n    };\r\n\r\n    this.createVideoNode = function (url) {\r\n      // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\r\n      var ytRegExp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n      var ytMatch = url.match(ytRegExp);\r\n\r\n      var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\r\n      var igMatch = url.match(igRegExp);\r\n\r\n      var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\r\n      var vMatch = url.match(vRegExp);\r\n\r\n      var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*([0-9]{6,11})[?]?.*/;\r\n      var vimMatch = url.match(vimRegExp);\r\n\r\n      var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\r\n      var dmMatch = url.match(dmRegExp);\r\n\r\n      var youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\r\n      var youkuMatch = url.match(youkuRegExp);\r\n\r\n      var mp4RegExp = /^.+.(mp4|m4v)$/;\r\n      var mp4Match = url.match(mp4RegExp);\r\n\r\n      var oggRegExp = /^.+.(ogg|ogv)$/;\r\n      var oggMatch = url.match(oggRegExp);\r\n\r\n      var webmRegExp = /^.+.(webm)$/;\r\n      var webmMatch = url.match(webmRegExp);\r\n\r\n      var $video;\r\n      if (ytMatch && ytMatch[1].length === 11) {\r\n        var youtubeId = ytMatch[1];\r\n        $video = $('<iframe>')\r\n            .attr('frameborder', 0)\r\n            .attr('src', '//www.youtube.com/embed/' + youtubeId)\r\n            .attr('width', '640').attr('height', '360');\r\n      } else if (igMatch && igMatch[0].length) {\r\n        $video = $('<iframe>')\r\n            .attr('frameborder', 0)\r\n            .attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/')\r\n            .attr('width', '612').attr('height', '710')\r\n            .attr('scrolling', 'no')\r\n            .attr('allowtransparency', 'true');\r\n      } else if (vMatch && vMatch[0].length) {\r\n        $video = $('<iframe>')\r\n            .attr('frameborder', 0)\r\n            .attr('src', vMatch[0] + '/embed/simple')\r\n            .attr('width', '600').attr('height', '600')\r\n            .attr('class', 'vine-embed');\r\n      } else if (vimMatch && vimMatch[3].length) {\r\n        $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n            .attr('frameborder', 0)\r\n            .attr('src', '//player.vimeo.com/video/' + vimMatch[3])\r\n            .attr('width', '640').attr('height', '360');\r\n      } else if (dmMatch && dmMatch[2].length) {\r\n        $video = $('<iframe>')\r\n            .attr('frameborder', 0)\r\n            .attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2])\r\n            .attr('width', '640').attr('height', '360');\r\n      } else if (youkuMatch && youkuMatch[1].length) {\r\n        $video = $('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\r\n            .attr('frameborder', 0)\r\n            .attr('height', '498')\r\n            .attr('width', '510')\r\n            .attr('src', '//player.youku.com/embed/' + youkuMatch[1]);\r\n      } else if (mp4Match || oggMatch || webmMatch) {\r\n        $video = $('<video controls>')\r\n            .attr('src', url)\r\n            .attr('width', '640').attr('height', '360');\r\n      } else {\r\n        // this is not a known video link. Now what, Cat? Now what?\r\n        return false;\r\n      }\r\n\r\n      $video.addClass('note-video-clip');\r\n\r\n      return $video[0];\r\n    };\r\n\r\n    this.show = function () {\r\n      var text = context.invoke('editor.getSelectedText');\r\n      context.invoke('editor.saveRange');\r\n      this.showVideoDialog(text).then(function (url) {\r\n        // [workaround] hide dialog before restore range for IE range focus\r\n        ui.hideDialog(self.$dialog);\r\n        context.invoke('editor.restoreRange');\r\n\r\n        // build node\r\n        var $node = self.createVideoNode(url);\r\n\r\n        if ($node) {\r\n          // insert video node\r\n          context.invoke('editor.insertNode', $node);\r\n        }\r\n      }).fail(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n\r\n    /**\r\n     * show image dialog\r\n     *\r\n     * @param {jQuery} $dialog\r\n     * @return {Promise}\r\n     */\r\n    this.showVideoDialog = function (text) {\r\n      return $.Deferred(function (deferred) {\r\n        var $videoUrl = self.$dialog.find('.note-video-url'),\r\n            $videoBtn = self.$dialog.find('.note-video-btn');\r\n\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n\r\n          $videoUrl.val(text).on('input', function () {\r\n            ui.toggleBtn($videoBtn, $videoUrl.val());\r\n          }).trigger('focus');\r\n\r\n          $videoBtn.click(function (event) {\r\n            event.preventDefault();\r\n\r\n            deferred.resolve($videoUrl.val());\r\n          });\r\n\r\n          self.bindEnterKey($videoUrl, $videoBtn);\r\n        });\r\n\r\n        ui.onDialogHidden(self.$dialog, function () {\r\n          $videoUrl.off('input');\r\n          $videoBtn.off('click');\r\n\r\n          if (deferred.state() === 'pending') {\r\n            deferred.reject();\r\n          }\r\n        });\r\n\r\n        ui.showDialog(self.$dialog);\r\n      });\r\n    };\r\n  };\r\n\r\n  var HelpDialog = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var $editor = context.layoutInfo.editor;\r\n    var options = context.options;\r\n    var lang = options.langInfo;\r\n\r\n    this.createShortCutList = function () {\r\n      var keyMap = options.keyMap[agent.isMac ? 'mac' : 'pc'];\r\n      return Object.keys(keyMap).map(function (key) {\r\n        var command = keyMap[key];\r\n        var $row = $('<div><div class=\"help-list-item\"/></div>');\r\n        $row.append($('<label><kbd>' + key + '</kdb></label>').css({\r\n          'width': 180,\r\n          'margin-right': 10\r\n        })).append($('<span/>').html(context.memo('help.' + command) || command));\r\n        return $row.html();\r\n      }).join('');\r\n    };\r\n\r\n    this.initialize = function () {\r\n      var $container = options.dialogsInBody ? $(document.body) : $editor;\r\n\r\n      var body = [\r\n        '<p class=\"text-center\">',\r\n        '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote 0.8.2</a> · ',\r\n        '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a> · ',\r\n        '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>',\r\n        '</p>'\r\n      ].join('');\r\n\r\n      this.$dialog = ui.dialog({\r\n        title: lang.options.help,\r\n        fade: options.dialogsFade,\r\n        body: this.createShortCutList(),\r\n        footer: body,\r\n        callback: function ($node) {\r\n          $node.find('.modal-body').css({\r\n            'max-height': 300,\r\n            'overflow': 'scroll'\r\n          });\r\n        }\r\n      }).render().appendTo($container);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      ui.hideDialog(this.$dialog);\r\n      this.$dialog.remove();\r\n    };\r\n\r\n    /**\r\n     * show help dialog\r\n     *\r\n     * @return {Promise}\r\n     */\r\n    this.showHelpDialog = function () {\r\n      return $.Deferred(function (deferred) {\r\n        ui.onDialogShown(self.$dialog, function () {\r\n          context.triggerEvent('dialog.shown');\r\n          deferred.resolve();\r\n        });\r\n        ui.showDialog(self.$dialog);\r\n      }).promise();\r\n    };\r\n\r\n    this.show = function () {\r\n      context.invoke('editor.saveRange');\r\n      this.showHelpDialog().then(function () {\r\n        context.invoke('editor.restoreRange');\r\n      });\r\n    };\r\n  };\r\n\r\n  var AirPopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var options = context.options;\r\n\r\n    var AIR_MODE_POPOVER_X_OFFSET = 20;\r\n\r\n    this.events = {\r\n      'summernote.keyup summernote.mouseup summernote.scroll': function () {\r\n        self.update();\r\n      },\r\n      'summernote.change summernote.dialog.shown': function () {\r\n        self.hide();\r\n      },\r\n      'summernote.focusout': function (we, e) {\r\n        // [workaround] Firefox doesn't support relatedTarget on focusout\r\n        //  - Ignore hide action on focus out in FF.\r\n        if (agent.isFF) {\r\n          return;\r\n        }\r\n\r\n        if (!e.relatedTarget || !dom.ancestor(e.relatedTarget, func.eq(self.$popover[0]))) {\r\n          self.hide();\r\n        }\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return options.airMode && !list.isEmpty(options.popover.air);\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.$popover = ui.popover({\r\n        className: 'note-air-popover'\r\n      }).render().appendTo('body');\r\n      var $content = this.$popover.find('.popover-content');\r\n\r\n      context.invoke('buttons.build', $content, options.popover.air);\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.update = function () {\r\n      var styleInfo = context.invoke('editor.currentStyle');\r\n      if (styleInfo.range && !styleInfo.range.isCollapsed()) {\r\n        var rect = list.last(styleInfo.range.getClientRects());\r\n        if (rect) {\r\n          var bnd = func.rect2bnd(rect);\r\n          this.$popover.css({\r\n            display: 'block',\r\n            left: Math.max(bnd.left + bnd.width / 2, 0) - AIR_MODE_POPOVER_X_OFFSET,\r\n            top: bnd.top + bnd.height\r\n          });\r\n        }\r\n      } else {\r\n        this.hide();\r\n      }\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n  var HintPopover = function (context) {\r\n    var self = this;\r\n    var ui = $.summernote.ui;\r\n\r\n    var POPOVER_DIST = 5;\r\n    var hint = context.options.hint || [];\r\n    var direction = context.options.hintDirection || 'bottom';\r\n    var hints = $.isArray(hint) ? hint : [hint];\r\n\r\n    this.events = {\r\n      'summernote.keyup': function (we, e) {\r\n        if (!e.isDefaultPrevented()) {\r\n          self.handleKeyup(e);\r\n        }\r\n      },\r\n      'summernote.keydown': function (we, e) {\r\n        self.handleKeydown(e);\r\n      },\r\n      'summernote.dialog.shown': function () {\r\n        self.hide();\r\n      }\r\n    };\r\n\r\n    this.shouldInitialize = function () {\r\n      return hints.length > 0;\r\n    };\r\n\r\n    this.initialize = function () {\r\n      this.lastWordRange = null;\r\n      this.$popover = ui.popover({\r\n        className: 'note-hint-popover',\r\n        hideArrow: true,\r\n        direction: ''\r\n      }).render().appendTo('body');\r\n\r\n      this.$popover.hide();\r\n\r\n      this.$content = this.$popover.find('.popover-content');\r\n\r\n      this.$content.on('click', '.note-hint-item', function () {\r\n        self.$content.find('.active').removeClass('active');\r\n        $(this).addClass('active');\r\n        self.replace();\r\n      });\r\n    };\r\n\r\n    this.destroy = function () {\r\n      this.$popover.remove();\r\n    };\r\n\r\n    this.selectItem = function ($item) {\r\n      this.$content.find('.active').removeClass('active');\r\n      $item.addClass('active');\r\n\r\n      this.$content[0].scrollTop = $item[0].offsetTop - (this.$content.innerHeight() / 2);\r\n    };\r\n\r\n    this.moveDown = function () {\r\n      var $current = this.$content.find('.note-hint-item.active');\r\n      var $next = $current.next();\r\n\r\n      if ($next.length) {\r\n        this.selectItem($next);\r\n      } else {\r\n        var $nextGroup = $current.parent().next();\r\n\r\n        if (!$nextGroup.length) {\r\n          $nextGroup = this.$content.find('.note-hint-group').first();\r\n        }\r\n\r\n        this.selectItem($nextGroup.find('.note-hint-item').first());\r\n      }\r\n    };\r\n\r\n    this.moveUp = function () {\r\n      var $current = this.$content.find('.note-hint-item.active');\r\n      var $prev = $current.prev();\r\n\r\n      if ($prev.length) {\r\n        this.selectItem($prev);\r\n      } else {\r\n        var $prevGroup = $current.parent().prev();\r\n\r\n        if (!$prevGroup.length) {\r\n          $prevGroup = this.$content.find('.note-hint-group').last();\r\n        }\r\n\r\n        this.selectItem($prevGroup.find('.note-hint-item').last());\r\n      }\r\n    };\r\n\r\n    this.replace = function () {\r\n      var $item = this.$content.find('.note-hint-item.active');\r\n\r\n      if ($item.length) {\r\n        var node = this.nodeFromItem($item);\r\n        this.lastWordRange.insertNode(node);\r\n        range.createFromNode(node).collapse().select();\r\n\r\n        this.lastWordRange = null;\r\n        this.hide();\r\n        context.invoke('editor.focus');\r\n      }\r\n\r\n    };\r\n\r\n    this.nodeFromItem = function ($item) {\r\n      var hint = hints[$item.data('index')];\r\n      var item = $item.data('item');\r\n      var node = hint.content ? hint.content(item) : item;\r\n      if (typeof node === 'string') {\r\n        node = dom.createText(node);\r\n      }\r\n      return node;\r\n    };\r\n\r\n    this.createItemTemplates = function (hintIdx, items) {\r\n      var hint = hints[hintIdx];\r\n      return items.map(function (item, idx) {\r\n        var $item = $('<div class=\"note-hint-item\"/>');\r\n        $item.append(hint.template ? hint.template(item) : item + '');\r\n        $item.data({\r\n          'index': hintIdx,\r\n          'item': item\r\n        });\r\n\r\n        if (hintIdx === 0 && idx === 0) {\r\n          $item.addClass('active');\r\n        }\r\n        return $item;\r\n      });\r\n    };\r\n\r\n    this.handleKeydown = function (e) {\r\n      if (!this.$popover.is(':visible')) {\r\n        return;\r\n      }\r\n\r\n      if (e.keyCode === key.code.ENTER) {\r\n        e.preventDefault();\r\n        this.replace();\r\n      } else if (e.keyCode === key.code.UP) {\r\n        e.preventDefault();\r\n        this.moveUp();\r\n      } else if (e.keyCode === key.code.DOWN) {\r\n        e.preventDefault();\r\n        this.moveDown();\r\n      }\r\n    };\r\n\r\n    this.searchKeyword = function (index, keyword, callback) {\r\n      var hint = hints[index];\r\n      if (hint && hint.match.test(keyword) && hint.search) {\r\n        var matches = hint.match.exec(keyword);\r\n        hint.search(matches[1], callback);\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    this.createGroup = function (idx, keyword) {\r\n      var $group = $('<div class=\"note-hint-group note-hint-group-' + idx + '\"/>');\r\n      this.searchKeyword(idx, keyword, function (items) {\r\n        items = items || [];\r\n        if (items.length) {\r\n          $group.html(self.createItemTemplates(idx, items));\r\n          self.show();\r\n        }\r\n      });\r\n\r\n      return $group;\r\n    };\r\n\r\n    this.handleKeyup = function (e) {\r\n      if (list.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode)) {\r\n        if (e.keyCode === key.code.ENTER) {\r\n          if (this.$popover.is(':visible')) {\r\n            return;\r\n          }\r\n        }\r\n      } else {\r\n        var wordRange = context.invoke('editor.createRange').getWordRange();\r\n        var keyword = wordRange.toString();\r\n        if (hints.length && keyword) {\r\n          this.$content.empty();\r\n\r\n          var bnd = func.rect2bnd(list.last(wordRange.getClientRects()));\r\n          if (bnd) {\r\n\r\n            this.$popover.hide();\r\n\r\n            this.lastWordRange = wordRange;\r\n\r\n            hints.forEach(function (hint, idx) {\r\n              if (hint.match.test(keyword)) {\r\n                self.createGroup(idx, keyword).appendTo(self.$content);\r\n              }\r\n            });\r\n\r\n            // set position for popover after group is created\r\n            if (direction === 'top') {\r\n              this.$popover.css({\r\n                left: bnd.left,\r\n                top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\r\n              });\r\n            } else {\r\n              this.$popover.css({\r\n                left: bnd.left,\r\n                top: bnd.top + bnd.height + POPOVER_DIST\r\n              });\r\n            }\r\n\r\n          }\r\n        } else {\r\n          this.hide();\r\n        }\r\n      }\r\n    };\r\n\r\n    this.show = function () {\r\n      this.$popover.show();\r\n    };\r\n\r\n    this.hide = function () {\r\n      this.$popover.hide();\r\n    };\r\n  };\r\n\r\n\r\n  $.summernote = $.extend($.summernote, {\r\n    version: '0.8.2',\r\n    ui: ui,\r\n    dom: dom,\r\n\r\n    plugins: {},\r\n\r\n    options: {\r\n      modules: {\r\n        'editor': Editor,\r\n        'clipboard': Clipboard,\r\n        'dropzone': Dropzone,\r\n        'codeview': Codeview,\r\n        'statusbar': Statusbar,\r\n        'fullscreen': Fullscreen,\r\n        'handle': Handle,\r\n        // FIXME: HintPopover must be front of autolink\r\n        //  - Script error about range when Enter key is pressed on hint popover\r\n        'hintPopover': HintPopover,\r\n        'autoLink': AutoLink,\r\n        'autoSync': AutoSync,\r\n        'placeholder': Placeholder,\r\n        'buttons': Buttons,\r\n        'toolbar': Toolbar,\r\n        'linkDialog': LinkDialog,\r\n        'linkPopover': LinkPopover,\r\n        'imageDialog': ImageDialog,\r\n        'imagePopover': ImagePopover,\r\n        'videoDialog': VideoDialog,\r\n        'helpDialog': HelpDialog,\r\n        'airPopover': AirPopover\r\n      },\r\n\r\n      buttons: {},\r\n      \r\n      lang: 'en-US',\r\n\r\n      // toolbar\r\n      toolbar: [\r\n        ['style', ['style']],\r\n        ['font', ['bold', 'underline', 'clear']],\r\n        ['fontname', ['fontname']],\r\n        ['color', ['color']],\r\n        ['para', ['ul', 'ol', 'paragraph']],\r\n        ['table', ['table']],\r\n        ['insert', ['link', 'picture', 'video']],\r\n        ['view', ['fullscreen', 'codeview', 'help']]\r\n      ],\r\n\r\n      // popover\r\n      popover: {\r\n        image: [\r\n          ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\r\n          ['float', ['floatLeft', 'floatRight', 'floatNone']],\r\n          ['remove', ['removeMedia']]\r\n        ],\r\n        link: [\r\n          ['link', ['linkDialogShow', 'unlink']]\r\n        ],\r\n        air: [\r\n          ['color', ['color']],\r\n          ['font', ['bold', 'underline', 'clear']],\r\n          ['para', ['ul', 'paragraph']],\r\n          ['table', ['table']],\r\n          ['insert', ['link', 'picture']]\r\n        ]\r\n      },\r\n\r\n      // air mode: inline editor\r\n      airMode: false,\r\n\r\n      width: null,\r\n      height: null,\r\n\r\n      focus: false,\r\n      tabSize: 4,\r\n      styleWithSpan: true,\r\n      shortcuts: true,\r\n      textareaAutoSync: true,\r\n      direction: null,\r\n\r\n      styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\r\n\r\n      fontNames: [\r\n        'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',\r\n        'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande',\r\n        'Tahoma', 'Times New Roman', 'Verdana'\r\n      ],\r\n\r\n      fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\r\n\r\n      // pallete colors(n x n)\r\n      colors: [\r\n        ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'],\r\n        ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\r\n        ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\r\n        ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\r\n        ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'],\r\n        ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],\r\n        ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'],\r\n        ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']\r\n      ],\r\n\r\n      lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\r\n\r\n      tableClassName: 'table table-bordered',\r\n\r\n      insertTableMaxSize: {\r\n        col: 10,\r\n        row: 10\r\n      },\r\n\r\n      dialogsInBody: false,\r\n      dialogsFade: false,\r\n\r\n      maximumImageFileSize: null,\r\n\r\n      callbacks: {\r\n        onInit: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n        onEnter: null,\r\n        onKeyup: null,\r\n        onKeydown: null,\r\n        onImageUpload: null,\r\n        onImageUploadError: null\r\n      },\r\n\r\n      codemirror: {\r\n        mode: 'text/html',\r\n        htmlMode: true,\r\n        lineNumbers: true\r\n      },\r\n\r\n      keyMap: {\r\n        pc: {\r\n          'ENTER': 'insertParagraph',\r\n          'CTRL+Z': 'undo',\r\n          'CTRL+Y': 'redo',\r\n          'TAB': 'tab',\r\n          'SHIFT+TAB': 'untab',\r\n          'CTRL+B': 'bold',\r\n          'CTRL+I': 'italic',\r\n          'CTRL+U': 'underline',\r\n          'CTRL+SHIFT+S': 'strikethrough',\r\n          'CTRL+BACKSLASH': 'removeFormat',\r\n          'CTRL+SHIFT+L': 'justifyLeft',\r\n          'CTRL+SHIFT+E': 'justifyCenter',\r\n          'CTRL+SHIFT+R': 'justifyRight',\r\n          'CTRL+SHIFT+J': 'justifyFull',\r\n          'CTRL+SHIFT+NUM7': 'insertUnorderedList',\r\n          'CTRL+SHIFT+NUM8': 'insertOrderedList',\r\n          'CTRL+LEFTBRACKET': 'outdent',\r\n          'CTRL+RIGHTBRACKET': 'indent',\r\n          'CTRL+NUM0': 'formatPara',\r\n          'CTRL+NUM1': 'formatH1',\r\n          'CTRL+NUM2': 'formatH2',\r\n          'CTRL+NUM3': 'formatH3',\r\n          'CTRL+NUM4': 'formatH4',\r\n          'CTRL+NUM5': 'formatH5',\r\n          'CTRL+NUM6': 'formatH6',\r\n          'CTRL+ENTER': 'insertHorizontalRule',\r\n          'CTRL+K': 'linkDialog.show'\r\n        },\r\n\r\n        mac: {\r\n          'ENTER': 'insertParagraph',\r\n          'CMD+Z': 'undo',\r\n          'CMD+SHIFT+Z': 'redo',\r\n          'TAB': 'tab',\r\n          'SHIFT+TAB': 'untab',\r\n          'CMD+B': 'bold',\r\n          'CMD+I': 'italic',\r\n          'CMD+U': 'underline',\r\n          'CMD+SHIFT+S': 'strikethrough',\r\n          'CMD+BACKSLASH': 'removeFormat',\r\n          'CMD+SHIFT+L': 'justifyLeft',\r\n          'CMD+SHIFT+E': 'justifyCenter',\r\n          'CMD+SHIFT+R': 'justifyRight',\r\n          'CMD+SHIFT+J': 'justifyFull',\r\n          'CMD+SHIFT+NUM7': 'insertUnorderedList',\r\n          'CMD+SHIFT+NUM8': 'insertOrderedList',\r\n          'CMD+LEFTBRACKET': 'outdent',\r\n          'CMD+RIGHTBRACKET': 'indent',\r\n          'CMD+NUM0': 'formatPara',\r\n          'CMD+NUM1': 'formatH1',\r\n          'CMD+NUM2': 'formatH2',\r\n          'CMD+NUM3': 'formatH3',\r\n          'CMD+NUM4': 'formatH4',\r\n          'CMD+NUM5': 'formatH5',\r\n          'CMD+NUM6': 'formatH6',\r\n          'CMD+ENTER': 'insertHorizontalRule',\r\n          'CMD+K': 'linkDialog.show'\r\n        }\r\n      },\r\n      icons: {\r\n        'align': 'note-icon-align',\r\n        'alignCenter': 'note-icon-align-center',\r\n        'alignJustify': 'note-icon-align-justify',\r\n        'alignLeft': 'note-icon-align-left',\r\n        'alignRight': 'note-icon-align-right',\r\n        'indent': 'note-icon-align-indent',\r\n        'outdent': 'note-icon-align-outdent',\r\n        'arrowsAlt': 'note-icon-arrows-alt',\r\n        'bold': 'note-icon-bold',\r\n        'caret': 'note-icon-caret',\r\n        'circle': 'note-icon-circle',\r\n        'close': 'note-icon-close',\r\n        'code': 'note-icon-code',\r\n        'eraser': 'note-icon-eraser',\r\n        'font': 'note-icon-font',\r\n        'frame': 'note-icon-frame',\r\n        'italic': 'note-icon-italic',\r\n        'link': 'note-icon-link',\r\n        'unlink': 'note-icon-chain-broken',\r\n        'magic': 'note-icon-magic',\r\n        'menuCheck': 'note-icon-check',\r\n        'minus': 'note-icon-minus',\r\n        'orderedlist': 'note-icon-orderedlist',\r\n        'pencil': 'note-icon-pencil',\r\n        'picture': 'note-icon-picture',\r\n        'question': 'note-icon-question',\r\n        'redo': 'note-icon-redo',\r\n        'square': 'note-icon-square',\r\n        'strikethrough': 'note-icon-strikethrough',\r\n        'subscript': 'note-icon-subscript',\r\n        'superscript': 'note-icon-superscript',\r\n        'table': 'note-icon-table',\r\n        'textHeight': 'note-icon-text-height',\r\n        'trash': 'note-icon-trash',\r\n        'underline': 'note-icon-underline',\r\n        'undo': 'note-icon-undo',\r\n        'unorderedlist': 'note-icon-unorderedlist',\r\n        'video': 'note-icon-video'\r\n      }\r\n    }\r\n  });\r\n\r\n}));\r\n"

/***/ }),

/***/ "../../../../script-loader/addScript.js":
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
module.exports = function(src) {
	try {
		if (typeof eval !== "undefined") {
			eval.call(null, src);
		} else if (typeof execScript !== "undefined") {
			execScript(src);
		} else {
			console.error("[Script Loader] EvalError: No eval function available");
		}
	} catch (error) {
		console.error("[Script Loader] ", error.message);
	}
}


/***/ }),

/***/ "../../../../script-loader/index.js!../../../../../src/assets/foo-table/js/footable.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../source-map-loader/index.js!../../../../../src/assets/foo-table/js/footable.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../../src/assets/js/bootstrap.min.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../source-map-loader/index.js!../../../../../src/assets/js/bootstrap.min.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../../src/assets/summernote/summernote.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../source-map-loader/index.js!../../../../../src/assets/summernote/summernote.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../ace-builds/src-min/ace.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../ace-builds/src-min/ace.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../ace-builds/src-min/theme-eclipse.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../ace-builds/src-min/theme-eclipse.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../easy-pie-chart/dist/easypiechart.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../easy-pie-chart/dist/easypiechart.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../hammerjs/hammer.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../hammerjs/hammer.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../jquery/dist/jquery.min.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../jquery/dist/jquery.min.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../jqvmap/dist/jquery.vmap.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../jqvmap/dist/jquery.vmap.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../jqvmap/dist/maps/jquery.vmap.world.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../jqvmap/dist/maps/jquery.vmap.world.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../popper.js/dist/umd/popper.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../popper.js/dist/umd/popper.js"))

/***/ }),

/***/ "../../../../script-loader/index.js!../../../../sortablejs/Sortable.js":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/addScript.js")(__webpack_require__("../../../../raw-loader/index.js!../../../../sortablejs/Sortable.js"))

/***/ }),

/***/ 4:
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("../../../../script-loader/index.js!../../../../jquery/dist/jquery.min.js");
__webpack_require__("../../../../script-loader/index.js!../../../../popper.js/dist/umd/popper.js");
__webpack_require__("../../../../script-loader/index.js!../../../../../src/assets/js/bootstrap.min.js");
__webpack_require__("../../../../script-loader/index.js!../../../../hammerjs/hammer.js");
__webpack_require__("../../../../script-loader/index.js!../../../../sortablejs/Sortable.js");
__webpack_require__("../../../../script-loader/index.js!../../../../easy-pie-chart/dist/easypiechart.js");
__webpack_require__("../../../../script-loader/index.js!../../../../ace-builds/src-min/ace.js");
__webpack_require__("../../../../script-loader/index.js!../../../../ace-builds/src-min/theme-eclipse.js");
__webpack_require__("../../../../script-loader/index.js!../../../../jqvmap/dist/jquery.vmap.js");
__webpack_require__("../../../../script-loader/index.js!../../../../jqvmap/dist/maps/jquery.vmap.world.js");
__webpack_require__("../../../../script-loader/index.js!../../../../../src/assets/summernote/summernote.js");
module.exports = __webpack_require__("../../../../script-loader/index.js!../../../../../src/assets/foo-table/js/footable.js");


/***/ })

},[4]);
//# sourceMappingURL=scripts.bundle.js.map