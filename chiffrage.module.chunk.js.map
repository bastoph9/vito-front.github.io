{"version":3,"sources":["D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.list/chiffrage.list.component.html","D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.list/chiffrage.list.component.scss","D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.list/chiffrage.list.component.ts","D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.module.ts","D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.routing.ts","D:/DEVE/vito/vito-front/src/app/chiffrage/metier/chiffrage.metier.ts","D:/DEVE/vito/vito-front/src/app/chiffrage/service/chiffrage.service.ts","D:/DEVE/vito/vito-front/src/app/core/merier/base-metier.ts"],"names":[],"mappings":"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","file":"chiffrage.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"chk-block\\\">\\r\\n  <div class=\\\"chk-block-content\\\">\\r\\n    <div class=\\\"table-responsive\\\">\\r\\n      <form [formGroup]=\\\"chiffrageForm\\\" (submit)=\\\"addChiffrage(chiffrageForm.value)\\\">\\r\\n        <table class=\\\"table table-middle table-hover\\\">\\r\\n          <tr>\\r\\n            <td class=\\\"text-center\\\">\\r\\n              <button class=\\\"btn btn-block btn-success\\\" type=\\\"submit\\\" [disabled]=\\\"!chiffrageForm.valid || isOperationPayee() === true\\\" [hidden]=\\\"this.updated === true\\\">\\r\\n                <i class=\\\"fa fa fa-plus mr-2\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                Ajouter\\r\\n              </button>\\r\\n              <button class=\\\"btn square-30 circle bg-success fa fa-check\\\" title=\\\"Valider\\\" type=\\\"button\\\" [hidden]=\\\"this.updated === false\\\"\\r\\n                (click)=\\\"validateChiffrage(chiffrageForm.value)\\\" [disabled]=\\\"!chiffrageForm.valid || isOperationPayee() === true\\\">\\r\\n              </button>\\r\\n              <button class=\\\"btn square-30 circle bg-warning fa fa-close\\\" title=\\\"Annuler\\\" type=\\\"button\\\" [hidden]=\\\"this.updated === false\\\"\\r\\n                (click)=\\\"cancelChiffrage()\\\">\\r\\n              </button>\\r\\n            </td>\\r\\n            <td class=\\\"text-center\\\">\\r\\n              <select [formControl]=\\\"chiffrageForm.controls['materiel']\\\" class=\\\"form-control\\\" (change)=\\\"onSelectMateriel()\\\">\\r\\n                <option value=null disabled selected class=\\\"text-danger\\\">Materiel</option>\\r\\n                <option *ngFor=\\\"let materiel of materielList\\\" [ngValue]=\\\"materiel\\\">\\r\\n                  {{materiel.libelle}}\\r\\n                </option>\\r\\n              </select>\\r\\n            </td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <input class=\\\"form-control\\\" placeholder=\\\"P.U\\\" [formControl]=\\\"chiffrageForm.controls['prix']\\\" type=\\\"number\\\" (change)=\\\"onInsertPU()\\\">\\r\\n            </td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <input class=\\\"form-control\\\" placeholder=\\\"Quantité\\\" [formControl]=\\\"chiffrageForm.controls['quantite']\\\" type=\\\"number\\\" (change)=\\\"onInsertQuantite()\\\">\\r\\n            </td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <input class=\\\"form-control\\\" placeholder=\\\"Total\\\" [formControl]=\\\"chiffrageForm.controls['total']\\\" type=\\\"number\\\" readonly=\\\"true\\\">\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </form>\\r\\n    </div>\\r\\n    <!-- table responsive closed -->\\r\\n  </div>\\r\\n  <!-- chk block content closed -->\\r\\n</div>\\r\\n<!-- chk block closed -->\\r\\n\\r\\n\\r\\n<div class=\\\"chk-block\\\">\\r\\n  <div class=\\\"chk-block-title\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-lg-4\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <button class=\\\"btn btn-block btn-secondary\\\" type=\\\"button\\\" [disabled]=\\\"this.updated != false\\\" (click)=\\\"cancel()\\\">\\r\\n            <i class=\\\"fa fa fa-arrow-left mr-2\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            Annuler\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-lg-4\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <button class=\\\"btn btn-block btn-primary\\\" type=\\\"button\\\" [disabled]=\\\"!isAbleToSave() || this.updated != false\\\" (click)=\\\"saveChiffrage()\\\">\\r\\n            <i class=\\\"fa fa fa-save mr-2\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            Enregistrer\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-lg-4\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <button class=\\\"btn btn-block btn-info\\\" type=\\\"button\\\" [disabled]=\\\"!isAbleToPrint() || this.updated != false\\\" (click)=\\\"printChiffrage()\\\">\\r\\n            <i class=\\\"fa fa fa-print mr-2\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            Imprimer\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- chk block title closed -->\\r\\n  <div class=\\\"chk-block-content\\\">\\r\\n    <div class=\\\"table-responsive\\\">\\r\\n      <table class=\\\"table table-middle table-hover\\\" [mfData]=\\\"chiffrageList\\\" #mf=\\\"mfDataTable\\\" [mfRowsOnPage]=\\\"10\\\">\\r\\n        <thead class=\\\"bg-secondary\\\">\\r\\n          <tr>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              Action\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"produit\\\">Produit</mfDefaultSorter>\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"prix\\\">P.U</mfDefaultSorter>\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"quantite\\\">Quantité</mfDefaultSorter>\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"total\\\">Total</mfDefaultSorter>\\r\\n            </th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let chiffrage of mf.data; let chiffrageIndex = index\\\">\\r\\n            <td class=\\\"text-center\\\">\\r\\n              <button class=\\\"btn square-40 circle bg-primary fa fa-edit\\\" title=\\\"Editer\\\" type=\\\"button\\\" [hidden]=\\\"this.updated === true\\\"\\r\\n                (click)=\\\"editChiffrage(chiffrage,chiffrageIndex)\\\" [disabled]=\\\"isOperationPayee() === true\\\">\\r\\n              </button>\\r\\n              <button class=\\\"btn square-40 circle bg-danger fa fa-trash\\\" title=\\\"Supprimer\\\" type=\\\"button\\\" [hidden]=\\\"this.updated === true\\\"\\r\\n                (click)=\\\"deleteChiffrage(chiffrageIndex)\\\" [disabled]=\\\"isOperationPayee() === true\\\">\\r\\n              </button>\\r\\n            </td>\\r\\n            <td class=\\\"text-center\\\">{{chiffrage.materiel.libelle}}</td>\\r\\n            <td class=\\\"text-right\\\">{{chiffrage.prix}}</td>\\r\\n            <td class=\\\"text-right\\\">{{chiffrage.quantite}}</td>\\r\\n            <td class=\\\"text-right\\\">{{chiffrage.total}}</td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n        <tfoot>\\r\\n          <tr>\\r\\n            <td colspan=\\\"4\\\" class=\\\"text-center\\\">\\r\\n              <h2 class=\\\"fw-normal\\\"> Total</h2>\\r\\n            </td>\\r\\n            <td colspan=\\\"1\\\" class=\\\"text-center\\\">\\r\\n              <h2 class=\\\"fw-normal\\\">{{this.totalChiffrage}} DH</h2>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td colspan=\\\"5\\\" class=\\\"text-center\\\">\\r\\n              <mfBootstrapPaginator></mfBootstrapPaginator>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </tfoot>\\r\\n      </table>\\r\\n    </div>\\r\\n    <!-- table responsive closed -->\\r\\n  </div>\\r\\n  <!-- chk block content closed -->\\r\\n</div>\\r\\n<!-- chk block closed -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.list/chiffrage.list.component.html\n// module id = ../../../../../src/app/chiffrage/chiffrage.list/chiffrage.list.component.html\n// module chunks = chiffrage.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sorting {\\n  height: 400px !important; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.list/chiffrage.list.component.scss\n// module id = ../../../../../src/app/chiffrage/chiffrage.list/chiffrage.list.component.scss\n// module chunks = chiffrage.module","\"use strict\";\r\n\r\nimport { Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { fadeInAnimation } from \"../../core/route-animation/route.animation\";\r\nimport { Chiffrage } from \"../metier/chiffrage.metier\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { BaseComponent } from \"../../core/component/base-component\";\r\nimport { ChiffrageService } from \"../service/chiffrage.service\";\r\nimport { PageTitleService } from \"../../core/page-title/page-title.service\";\r\nimport { Materiel } from \"../../admin/materiel/metier/materiel.metier\";\r\nimport { MaterielService } from \"../../admin/materiel/service/materiel.service\";\r\nimport { InstallationService } from '../../installation/service/installation.service';\r\nimport { Installation } from '../../installation/metier/installation.metier';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CustomValidators } from 'ng2-validation';\r\nimport { Reparation } from '../../reparation/metier/reparation.metier';\r\nimport { ReparationService } from '../../reparation/service/reparation.service';\r\n\r\n@Component({\r\n  selector: 'ms-chiffrage-list',\r\n  templateUrl: './chiffrage.list.component.html',\r\n  styleUrls: ['./chiffrage.list.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  host: {\r\n    \"[@fadeInAnimation]\": 'true'\r\n  },\r\n  animations: [fadeInAnimation]\r\n\r\n})\r\nexport class ChiffrageListComponent extends BaseComponent implements OnInit {\r\n\r\n  public chiffrageForm: FormGroup;\r\n  private chiffrage: Chiffrage;\r\n  private chiffrageList: Array<Chiffrage> = [];\r\n  private chiffrageToDeleteList: Array<Chiffrage> = [];\r\n  private materielList: Array<Materiel> = [];\r\n  private totalChiffrage: number = 0;\r\n  private updated: boolean = false;\r\n  private arrayIndex: number;\r\n  private installation: Installation;\r\n  private reparation: Reparation;\r\n  private installation_id: number;\r\n  private reparation_id: number;\r\n  private file: Blob;\r\n\r\n  constructor(private fb: FormBuilder,\r\n    private chiffrageService: ChiffrageService,\r\n    private materielService: MaterielService,\r\n    private pageTitleService: PageTitleService,\r\n    private installationService: InstallationService,\r\n    private reparationService: ReparationService,\r\n    private route: ActivatedRoute) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pageTitleService.setTitle(\"CHIFFRAGE\");\r\n    this.chiffrage = new Chiffrage();\r\n    this.loadMaterielList();\r\n    this.loadOperation();\r\n    this.loadChiffrageList();\r\n    this.createForm();\r\n    // this.spinnerService.hide();\r\n  }\r\n\r\n  createForm() {\r\n    this.chiffrageForm = this.fb.group({\r\n      materiel: [null, Validators.required],\r\n      quantite: [1, Validators.required],\r\n      prix: [null, Validators.required],\r\n      total: null,\r\n      nouvelleInstallation: null,\r\n      newChiffrage: false,\r\n    });\r\n  }\r\n\r\n  private loadOperation() {\r\n    this.route.queryParams.subscribe(params => {\r\n      this.installation_id = params['installation_id'];\r\n      this.reparation_id = params['reparation_id'];\r\n\r\n      if (this.installation_id != null) {\r\n        this.loadInstallation();\r\n      } else if (this.reparation_id != null) {\r\n        this.loadReparation();\r\n      }\r\n\r\n    }, error => {\r\n      this.showError(error.status, error.json().message);\r\n    })\r\n  }\r\n\r\n  private loadInstallation() {\r\n    this.installationService.getInstallation(this.installation_id)\r\n      .subscribe(installation => {\r\n        this.installation = installation;\r\n      }, error => {\r\n        this.showError(error.status, error.json().message);\r\n      });\r\n  }\r\n\r\n  private loadReparation() {\r\n    this.reparationService.getReparation(this.reparation_id)\r\n      .subscribe(reparation => {\r\n        this.reparation = reparation;\r\n      }, error => {\r\n        this.showError(error.status, error.json().message);\r\n      });\r\n\r\n  }\r\n\r\n  private loadChiffrageList() {\r\n    // le même traitemennt sera faite sur réparation\r\n    if (this.installation_id != null) {\r\n      this.chiffrageService.getChiffrageListByInstallation(this.installation_id)\r\n        .subscribe(chiffrageList => {\r\n          this.chiffrageList = chiffrageList;\r\n          this.calculeTotalChiffrage();\r\n        }, error => {\r\n          this.showError(error.status, error.json().message);\r\n        });\r\n    } else if (this.reparation_id != null) {\r\n      this.chiffrageService.getChiffrageListByReparation(this.reparation_id)\r\n        .subscribe(chiffrageList => {\r\n          this.chiffrageList = chiffrageList;\r\n          this.calculeTotalChiffrage();\r\n        }, error => {\r\n          this.showError(error.status, error.json().message);\r\n        });\r\n    }\r\n  }\r\n\r\n  private loadMaterielList() {\r\n    this.materielService.getMaterielList()\r\n      .subscribe(materielList => {\r\n        this.materielList = materielList;\r\n      }, error => this.showError(error.status, error.json().message)\r\n      )\r\n      ;\r\n  }\r\n\r\n  addChiffrage(chiffrageForm: any) {\r\n    this.chiffrage = new Chiffrage(chiffrageForm);\r\n    // le même traitemennt sera faite sur réparation\r\n    if (this.installation != null) {\r\n      this.chiffrage.nouvelleInstallation = this.installation;\r\n    } else if (this.reparation != null) {\r\n      this.chiffrage.reparation = this.reparation;\r\n    }\r\n    if (this.chiffrage.materiel.prixVarie === false) {\r\n      this.chiffrage.prix = this.chiffrage.materiel.prix;\r\n    }\r\n    this.chiffrage.newChiffrage = true;\r\n    this.chiffrageList.push(this.chiffrage);\r\n    this.chiffrageForm.reset();\r\n    this.calculeTotalChiffrage();\r\n  }\r\n\r\n  private editChiffrage(chiffrage, index) {\r\n    this.chiffrage = chiffrage;\r\n    this.chiffrageForm.get(\"materiel\").setValue(this.chiffrage.materiel);\r\n    this.chiffrageForm.get(\"prix\").setValue(this.chiffrage.prix);\r\n    this.chiffrageForm.get(\"quantite\").setValue(this.chiffrage.quantite);\r\n    this.chiffrageForm.get(\"total\").setValue(this.chiffrage.total);\r\n    this.arrayIndex = index;\r\n    this.updated = true;\r\n  }\r\n\r\n  private validateChiffrage(chiffrageForm: any) {\r\n    this.chiffrage = new Chiffrage(chiffrageForm);\r\n    this.updated = false;\r\n    this.chiffrageList[this.arrayIndex] = this.chiffrage;\r\n    this.calculeTotalChiffrage();\r\n    this.chiffrageForm.reset();\r\n    this.arrayIndex = null;\r\n  }\r\n\r\n  private cancelChiffrage() {\r\n    this.updated = false;\r\n    this.chiffrageForm.reset();\r\n  }\r\n\r\n  private deleteChiffrage(index) {\r\n    if (!confirm(\"Etes-vous de vouloir supprimer ce chiffrage !!\")) {\r\n      return;\r\n    }\r\n    let chiffrage = this.chiffrageList[index];\r\n    if (chiffrage.id != null) {\r\n      this.chiffrageToDeleteList.push(chiffrage);\r\n    }\r\n    this.chiffrageList.splice(index, 1);\r\n    this.calculeTotalChiffrage();\r\n  }\r\n\r\n  onSelectMateriel() {\r\n    this.prixDisabled();\r\n    this.getPrixUnitaire();\r\n    this.initQuantite();\r\n    this.calculeTotal();\r\n  }\r\n\r\n  onInsertQuantite() {\r\n    this.calculeTotal();\r\n  }\r\n\r\n  onInsertPU() {\r\n    this.calculeTotal();\r\n  }\r\n\r\n  private getPrixUnitaire() {\r\n    let materiel = this.chiffrageForm.get('materiel').value;\r\n    this.chiffrageForm.get(\"prix\").setValue(materiel.prix);\r\n  }\r\n\r\n  prixDisabled() {\r\n    let materiel = this.chiffrageForm.get('materiel').value;\r\n    let prix = materiel === null ? 0 : materiel.prix;\r\n    let prixVarie = materiel === null ? true : materiel.prixVarie;\r\n    this.chiffrageForm.controls['prix'].reset({\r\n      value: prix,\r\n      disabled: !prixVarie\r\n    }, Validators.compose([Validators.required, CustomValidators.number]));\r\n  }\r\n\r\n\r\n  private initQuantite() {\r\n    this.chiffrageForm.get(\"quantite\").setValue(1);\r\n  }\r\n\r\n  private calculeTotal() {\r\n    let prix = this.chiffrageForm.get('prix').value;\r\n    let quantite = this.chiffrageForm.get('quantite').value;\r\n    this.chiffrageForm.get(\"total\").setValue(prix * quantite);\r\n  }\r\n\r\n  private calculeTotalChiffrage() {\r\n    this.totalChiffrage = 0;\r\n    for (let chiffrage of this.chiffrageList) {\r\n      this.totalChiffrage += (chiffrage.quantite * chiffrage.prix);\r\n    }\r\n  }\r\n\r\n  private isAbleToSave() {\r\n    let lenght = this.chiffrageList.length;\r\n    lenght += this.chiffrageToDeleteList.length;\r\n    if (lenght === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private saveChiffrage() {\r\n    //La suppression des chiffrages\r\n    this.spinnerService.show();\r\n\r\n    if (this.chiffrageToDeleteList.length > 0) {\r\n      this.chiffrageService.deleteListChiffrage(this.chiffrageToDeleteList)\r\n        .subscribe(() => {\r\n          this.showInfo(\"Suppression effectué avec succès\");\r\n        }, error => this.showError(error.status, error.json().message));\r\n    }\r\n\r\n    setTimeout(() => {\r\n      if (this.chiffrageList.length > 0) {\r\n        //L'ajout des chiffrages\r\n        this.chiffrageService.saveListChiffrage(this.chiffrageList)\r\n          .subscribe(() => {\r\n            this.showInfo(\"Enregistrement effectué avec succès\");\r\n          }, error => this.showError(error.status, error.json().message));\r\n      }\r\n    },\r\n      1000);\r\n\r\n\r\n\r\n    if (this.installation != null) {\r\n      this.router.navigate([\"/installation/list/\"]);\r\n    } else if (this.reparation != null) {\r\n      this.router.navigate([\"/reparation/list/\"]);\r\n    }\r\n\r\n    this.chiffrageToDeleteList = [];\r\n\r\n    this.spinnerService.hide();\r\n  }\r\n\r\n  private isAbleToPrint() {\r\n    let lenght = this.chiffrageList.length;\r\n    if (lenght === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private isOperationPayee() {\r\n    if (this.reparation != null) {\r\n      return this.reparation.payee;\r\n    }\r\n  }\r\n\r\n  private cancel() {\r\n    if (this.installation != null) {\r\n      this.router.navigate([\"/installation/edit/\" + this.installation.id]);\r\n    } else if (this.reparation != null) {\r\n      this.router.navigate([\"/reparation/edit/\" + this.reparation.id]);\r\n    }\r\n  }\r\n\r\n  private printChiffrage() {\r\n    this.spinnerService.show();\r\n    if (this.installation_id != null) {\r\n      this.chiffrageService.printChiffrageInstallation(this.installation_id)\r\n        .subscribe(file => {\r\n          this.file = file;\r\n          this.downloadFile(this.file);\r\n          this.spinnerService.hide();\r\n        }, error => {\r\n          this.spinnerService.hide();\r\n          this.showError(error.status, error.json().message);\r\n        });\r\n    } else if (this.reparation_id != null) {\r\n      this.chiffrageService.printChiffrageReparation(this.reparation_id)\r\n        .subscribe(file => {\r\n          this.file = file;\r\n          this.downloadFile(this.file);\r\n          this.spinnerService.hide();\r\n        }, error => {\r\n          this.spinnerService.hide();\r\n          this.showError(error.status, error.json().message);\r\n        });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.list/chiffrage.list.component.ts","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FileUploadModule } from 'ng2-file-upload/ng2-file-upload';\r\nimport { WizardModule } from 'ng2-archwizard';\r\nimport { ChiffrageRoutes } from './chiffrage.routing';\r\nimport { ChiffrageService } from \"./service/chiffrage.service\";\r\nimport { ChiffrageListComponent } from \"./chiffrage.list/chiffrage.list.component\";\r\nimport { DataTableModule } from \"angular2-datatable\";\r\nimport { MaterielService } from \"../admin/materiel/service/materiel.service\";\r\nimport { InstallationService } from '../installation/service/installation.service';\r\nimport { ReparationService } from '../reparation/service/reparation.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FileUploadModule,\r\n    DataTableModule,\r\n    WizardModule,\r\n    RouterModule.forChild(ChiffrageRoutes)\r\n  ],\r\n  declarations: [\r\n    ChiffrageListComponent,\r\n  ],\r\n  providers: [\r\n    ChiffrageService,\r\n    MaterielService,\r\n    InstallationService,\r\n    ReparationService\r\n  ],\r\n})\r\n\r\nexport class ChiffrageModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.module.ts","import {Routes} from '@angular/router';\r\n\r\nimport {ChiffrageListComponent} from \"./chiffrage.list/chiffrage.list.component\";\r\n\r\nexport const ChiffrageRoutes:Routes = [{\r\n  path: '',\r\n  redirectTo: 'list',\r\n  pathMatch: 'full',\r\n}, {\r\n  path: '',\r\n  children: [\r\n    {path: 'list', component: ChiffrageListComponent},\r\n  ]\r\n}];\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/chiffrage/chiffrage.routing.ts","import { Materiel } from \"../../admin/materiel/metier/materiel.metier\";\r\nimport { Installation } from \"../../installation/metier/installation.metier\";\r\nimport { BaseMetier } from \"../../core/merier/base-metier\";\r\nimport { extend } from \"webdriver-js-extender\";\r\nimport { Reparation } from \"../../reparation/metier/reparation.metier\";\r\n\r\nexport class Chiffrage extends BaseMetier {\r\n  materiel: Materiel;\r\n  quantite: number = 1;\r\n  prix: number;\r\n  total: number;\r\n  nouvelleInstallation: Installation;\r\n  reparation: Reparation;\r\n  newChiffrage: boolean=false;\r\n\r\n  constructor(values: Object = {}) {\r\n    super();\r\n    Object.assign(this, values);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/chiffrage/metier/chiffrage.metier.ts","import { Injectable } from \"@angular/core\";\r\nimport { Response, ResponseContentType } from \"@angular/http\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport \"rxjs/add/operator/map\";\r\nimport { SettingsService } from \"../../core/settings/settings.service\";\r\nimport { AuthHttpService } from \"../../auth/auth-http.service\";\r\nimport { Chiffrage } from \"../metier/chiffrage.metier\";\r\nimport { Installation } from \"../../installation/metier/installation.metier\";\r\n\r\n@Injectable()\r\nexport class ChiffrageService {\r\n\r\n  constructor(private settings: SettingsService,\r\n    private authHttp: AuthHttpService) {\r\n  }\r\n\r\n  saveChiffrage(chiffrage: Chiffrage): Observable<Response> {\r\n    return this.authHttp.post(this.settings.baseUrl + `/chiffrage/save`, JSON.stringify(chiffrage));\r\n  }\r\n\r\n  saveListChiffrage(chiffrageList: Array<Chiffrage>): Observable<Response> {\r\n    return this.authHttp.post(this.settings.baseUrl + `/chiffrage/saveList`, JSON.stringify(chiffrageList));\r\n  }\r\n\r\n  getChiffrageList(): Observable<Chiffrage[]> {\r\n    return this.authHttp.get(this.settings.baseUrl + '/chiffrage/list')\r\n      .map((res: Response) => res.json());\r\n  }\r\n\r\n  getChiffrage(id: number): Observable<Chiffrage> {\r\n    return this.authHttp.get(this.settings.baseUrl + `/chiffrage/${id}`)\r\n      .map((res: Response) => res.json());\r\n  }\r\n\r\n  deleteChiffrage(chiffrage: Chiffrage): Observable<Response> {\r\n    return this.authHttp.post(this.settings.baseUrl + `/chiffrage/delete`, JSON.stringify(chiffrage));\r\n  }\r\n\r\n  deleteListChiffrage(chiffrageList: Array<Chiffrage>): Observable<Response> {\r\n    return this.authHttp.post(this.settings.baseUrl + `/chiffrage/deleteList`, JSON.stringify(chiffrageList));\r\n  }\r\n\r\n  findChiffrageListByCriteria(chiffrage: Chiffrage): Observable<Array<Chiffrage>> {\r\n    return this.authHttp.post(this.settings.baseUrl + `/chiffrage/search`, JSON.stringify(chiffrage))\r\n      .map((res: Response) => res.json());\r\n  }\r\n\r\n  getChiffrageListByInstallation(installation_id: number): Observable<Chiffrage[]> {\r\n    return this.authHttp.get(this.settings.baseUrl + `/chiffrage/listByInstallation/${installation_id}`)\r\n      .map((res: Response) => res.json());\r\n  }\r\n\r\n  getChiffrageListByReparation(reparation_id: number): Observable<Chiffrage[]> {\r\n    return this.authHttp.get(this.settings.baseUrl + `/chiffrage/listByReparation/${reparation_id}`)\r\n      .map((res: Response) => res.json());\r\n  }\r\n\r\n  printChiffrageInstallation(installation_id: number): any {\r\n    return this.authHttp.get(this.settings.baseUrl + `/chiffrage/printChiffrage/installation/${installation_id}`, { responseType: ResponseContentType.Blob }).map(\r\n      (res) => {\r\n        return new Blob([res.blob()], { type: 'application/pdf' })\r\n      });\r\n  }\r\n\r\n  printChiffrageReparation(reparation_id: number): any {\r\n    return this.authHttp.get(this.settings.baseUrl + `/chiffrage/printChiffrage/reparation/${reparation_id}`, { responseType: ResponseContentType.Blob }).map(\r\n      (res) => {\r\n        return new Blob([res.blob()], { type: 'application/pdf' })\r\n      });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/chiffrage/service/chiffrage.service.ts","\r\nexport abstract class BaseMetier {\r\n  id: number;\r\n  createdBy: string;\r\n  creationDate: Date;\r\n  lastModifiedBy: string;\r\n  lastModifiedDate: Date;\r\n\r\n  constructor(values: Object = {}) {\r\n    Object.assign(this, values);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/core/merier/base-metier.ts"],"sourceRoot":"webpack:///"}