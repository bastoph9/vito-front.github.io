{"version":3,"sources":["D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.list/charge_installation.list.component.html","D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.list/charge_installation.list.component.scss","D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.list/charge_installation.list.component.ts","D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.module.ts","D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.routing.ts","D:/DEVE/vito/vito-front/src/app/charge_installation/service/charge_installation.service.ts"],"names":[],"mappings":"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","file":"charge_installation.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"chk-block\\\">\\r\\n  <div class=\\\"chk-block-title\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-lg-6\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <button class=\\\"btn btn-block btn-secondary\\\" type=\\\"button\\\" (click)=\\\"cancel()\\\">\\r\\n            <i class=\\\"fa fa fa-arrow-left mr-2\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            Annuler\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-lg-6\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <button class=\\\"btn btn-block btn-primary\\\" type=\\\"button\\\" (click)=\\\"saveChargeInstallation()\\\">\\r\\n            <i class=\\\"fa fa fa-save mr-2\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            Enregistrer\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- chk block title closed -->\\r\\n\\r\\n  <div class=\\\"chk-block-content\\\">\\r\\n    <div class=\\\"table-responsive\\\">\\r\\n      <table class=\\\"table table-middle table-hover\\\" [mfData]=\\\"chargeInstallationList\\\" #mf=\\\"mfDataTable\\\">\\r\\n        <thead class=\\\"bg-secondary\\\">\\r\\n          <tr>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"produit\\\">Produit</mfDefaultSorter>\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"quantite\\\">Quantité</mfDefaultSorter>\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"total\\\">Total</mfDefaultSorter>\\r\\n            </th>\\r\\n            <th class=\\\"text-center\\\">\\r\\n              <mfDefaultSorter by=\\\"montant\\\">Montant</mfDefaultSorter>\\r\\n            </th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let chargeInstallation of mf.data\\\">\\r\\n            <td class=\\\"text-center\\\">{{chargeInstallation.chiffrage.materiel.libelle}}</td>\\r\\n            <td class=\\\"text-right\\\">{{chargeInstallation.chiffrage.quantite}}</td>\\r\\n            <td class=\\\"text-right\\\">{{chargeInstallation.chiffrage.total}}</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <input class=\\\"form-control\\\" placeholder=\\\"Montant\\\" value=\\\"{{chargeInstallation.montant}}\\\" type=\\\"number\\\" (change)=\\\"calculeTotal()\\\"\\r\\n                [(ngModel)]=\\\"chargeInstallation.montant\\\">\\r\\n            </td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n        <tfoot>\\r\\n          <tr>\\r\\n            <td colspan=\\\"3\\\" class=\\\"text-center\\\">\\r\\n              <h2 class=\\\"fw-normal\\\">Total</h2>\\r\\n            </td>\\r\\n            <td colspan=\\\"1\\\" class=\\\"text-center\\\">\\r\\n              <h2 class=\\\"fw-normal\\\">{{this.totalChargeInstallation}} DH</h2>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </tfoot>\\r\\n      </table>\\r\\n    </div>\\r\\n    <!-- table responsive closed -->\\r\\n  </div>\\r\\n  <!-- chk block content closed -->\\r\\n</div>\\r\\n<!-- chk block closed -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.list/charge_installation.list.component.html\n// module id = ../../../../../src/app/charge_installation/charge_installation.list/charge_installation.list.component.html\n// module chunks = charge_installation.module","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sorting {\\n  height: 400px !important; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.list/charge_installation.list.component.scss\n// module id = ../../../../../src/app/charge_installation/charge_installation.list/charge_installation.list.component.scss\n// module chunks = charge_installation.module","\"use strict\";\r\n\r\nimport { Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { fadeInAnimation } from \"../../core/route-animation/route.animation\";\r\nimport { ChargeInstallation } from \"../metier/charge_installation.metier\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { BaseComponent } from \"../../core/component/base-component\";\r\nimport { ChargeInstallationService } from \"../service/charge_installation.service\";\r\nimport { PageTitleService } from \"../../core/page-title/page-title.service\";\r\nimport { Materiel } from \"../../admin/materiel/metier/materiel.metier\";\r\nimport { MaterielService } from \"../../admin/materiel/service/materiel.service\";\r\nimport { InstallationService } from '../../installation/service/installation.service';\r\nimport { Installation } from '../../installation/metier/installation.metier';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CustomValidators } from 'ng2-validation';\r\nimport { Reparation } from '../../reparation/metier/reparation.metier';\r\nimport { ReparationService } from '../../reparation/service/reparation.service';\r\n\r\n@Component({\r\n  selector: 'ms-chargeInstallation-list',\r\n  templateUrl: './charge_installation.list.component.html',\r\n  styleUrls: ['./charge_installation.list.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  host: {\r\n    \"[@fadeInAnimation]\": 'true'\r\n  },\r\n  animations: [fadeInAnimation]\r\n\r\n})\r\nexport class ChargeInstallationListComponent extends BaseComponent implements OnInit {\r\n\r\n  private chargeInstallationList: Array<ChargeInstallation> = [];\r\n  private totalChargeInstallation: number;\r\n\r\n\r\n  constructor(private fb: FormBuilder,\r\n    private chargeInstallationService: ChargeInstallationService,\r\n    private pageTitleService: PageTitleService,\r\n    private route: ActivatedRoute) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pageTitleService.setTitle(\"CHARGE INSTALLATION\");\r\n    this.loadInstallation();\r\n  }\r\n\r\n\r\n  private loadInstallation() {\r\n    this.route.queryParams.subscribe(params => {\r\n      let installation_id = params['installation_id'];\r\n      this.loadChargeInstallationList(installation_id);\r\n    }, error => {\r\n      this.showError(error.status, error.json().message);\r\n    })\r\n  }\r\n\r\n\r\n  private loadChargeInstallationList(installation_id) {\r\n    this.chargeInstallationService.getChargeInstallationListByInstallation(installation_id)\r\n      .subscribe(chargeInstallationList => {\r\n        this.chargeInstallationList = chargeInstallationList;\r\n        this.calculeTotal();\r\n      }, error => {\r\n        this.showError(error.status, error.json().message);\r\n      });\r\n  }\r\n\r\n  private calculeTotal() {\r\n    this.totalChargeInstallation = 0;\r\n    for (let chargeInstallation of this.chargeInstallationList) {\r\n      this.totalChargeInstallation += (chargeInstallation.montant);\r\n    }\r\n  }\r\n\r\n  private saveChargeInstallation() {\r\n    this.chargeInstallationService.saveListChargeInstallation(this.chargeInstallationList)\r\n      .subscribe(() => {\r\n        this.showInfo(\"Enregistrement effectué avec succès\");\r\n        this.router.navigate([\"/installation/list/\"]);\r\n      }, error => this.showError(error.status, error.json().message));\r\n  }\r\n\r\n  private cancel() {\r\n    this.router.navigate([\"/installation/list/\"]);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.list/charge_installation.list.component.ts","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FileUploadModule } from 'ng2-file-upload/ng2-file-upload';\r\nimport { WizardModule } from 'ng2-archwizard';\r\nimport { ChargeInstallationRoutes } from './charge_installation.routing';\r\nimport { ChargeInstallationService } from \"./service/charge_installation.service\";\r\nimport { ChargeInstallationListComponent } from \"./charge_installation.list/charge_installation.list.component\";\r\nimport { DataTableModule } from \"angular2-datatable\";\r\nimport { MaterielService } from \"../admin/materiel/service/materiel.service\";\r\nimport { InstallationService } from '../installation/service/installation.service';\r\nimport { ReparationService } from '../reparation/service/reparation.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FileUploadModule,\r\n    DataTableModule,\r\n    WizardModule,\r\n    RouterModule.forChild(ChargeInstallationRoutes)\r\n  ],\r\n  declarations: [\r\n    ChargeInstallationListComponent,\r\n  ],\r\n  providers: [\r\n    ChargeInstallationService,\r\n  ],\r\n})\r\n\r\nexport class ChargeInstallationModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.module.ts","import {Routes} from '@angular/router';\r\n\r\nimport {ChargeInstallationListComponent} from \"./charge_installation.list/charge_installation.list.component\";\r\n\r\nexport const ChargeInstallationRoutes:Routes = [{\r\n  path: '',\r\n  redirectTo: 'list',\r\n  pathMatch: 'full',\r\n}, {\r\n  path: '',\r\n  children: [\r\n    {path: 'list', component: ChargeInstallationListComponent},\r\n  ]\r\n}];\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/charge_installation/charge_installation.routing.ts","import { Injectable } from \"@angular/core\";\r\nimport { Response, ResponseContentType } from \"@angular/http\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport \"rxjs/add/operator/map\";\r\nimport { SettingsService } from \"../../core/settings/settings.service\";\r\nimport { AuthHttpService } from \"../../auth/auth-http.service\";\r\nimport { ChargeInstallation } from \"../metier/charge_installation.metier\";\r\nimport { Installation } from \"../../installation/metier/installation.metier\";\r\n\r\n@Injectable()\r\nexport class ChargeInstallationService {\r\n\r\n  constructor(private settings: SettingsService,\r\n    private authHttp: AuthHttpService) {\r\n  }\r\n\r\n  saveListChargeInstallation(chargeInstallationList: Array<ChargeInstallation>): Observable<Response> {\r\n    return this.authHttp.post(this.settings.baseUrl + `/chargeInstallation/saveList`, JSON.stringify(chargeInstallationList));\r\n  }\r\n\r\n  getChargeInstallationListByInstallation(installation_id: number): Observable<ChargeInstallation[]> {\r\n    return this.authHttp.get(this.settings.baseUrl + `/chargeInstallation/listByInstallation/${installation_id}`)\r\n      .map((res: Response) => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// D:/DEVE/vito/vito-front/src/app/charge_installation/service/charge_installation.service.ts"],"sourceRoot":"webpack:///"}